<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Sample Application | Couchbase Docs (Staging)</title>
    <link rel="canonical" href="https://docs-staging.couchbase.com/java-sdk/2.7/sample-application.html">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="java-sdk">
    <meta name="dcterms.identifier" content="2.6">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://docs-staging.couchbase.com">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="../../server/5.5/introduction/intro.html">Server</a></li>
                  <li><a href="../../server/5.5/n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../server/5.5/fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../server/5.5/analytics/introduction.html">Analytics <small>(Developer Preview)</small></a></li>
                  <li><a href="../../server/5.5/eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="../../operator/1.1/overview.html">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="../../couchbase-lite/2.1/index.html">Lite</a></li>
                  <li><a href="../../sync-gateway/2.1/index.html">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../server/5.5/sdk/overview.html">SDKs</a></li>
                  <li><a href="../../c-sdk/2.8/start-using-sdk.html">C</a></li>
                  <li><a href="../../dotnet-sdk/2.6/start-using-sdk.html">.NET</a></li>
                  <li><a href="../../go-sdk/1.4/start-using-sdk.html">Go</a></li>
                  <li><a href="../../java-sdk/2.6/start-using-sdk.html">Java</a></li>
                  <li><a href="../../nodejs-sdk/2.5/start-using-sdk.html">Node.js</a></li>
                  <li><a href="../../php-sdk/2.4/start-using-sdk.html">PHP</a></li>
                  <li><a href="../../python-sdk/2.4/start-using-sdk.html">Python</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../server/5.5/connectors/intro.html">Connectors</a></li>
                  <li><a href="../../elasticsearch-connector/3.0/index.html">Elasticsearch</a></li>
                  <li><a href="../../server/5.5/connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="../../kafka-connector/3.4/index.html">Kafka</a></li>
                  <li><a href="../../spark-connector/2.2/index.html">Spark</a></li>
                  <li><a href="../../talend-connector/index.html">Talend</a></li>
                  <li><a href="../../server/5.5/connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="navbar-item has-dropdown">
            <a class="navbar-link component" href="start-using-sdk.html"><span class="title">Java SDK</span> <span class="version">2.6</span></a>
            <div class="navbar-dropdown versions">
              <div class="cols">
                <ul>
                  <li><a class="navbar-item" href="../2.7/sample-application.html">Java SDK 2.7</a></li>
                  <li><a class="navbar-item" href="../2.5/sample-application.html">Java SDK 2.5</a></li>
                  <li><a class="navbar-item" href="../2.4/sample-application.html">Java SDK 2.4</a></li>
                  <li><a class="navbar-item" href="../2.3/sample-application.html">Java SDK 2.3</a></li>
                  <li><a class="navbar-item" href="../2.2/java-intro.html">Java SDK 2.2</a></li>
                  <li><a class="navbar-item" href="../2.1/java-intro.html">Java SDK 2.1</a></li>
                </ul>
                <ul class="related">
                  <li><a class="navbar-item" href="../../c-sdk/2.8/sample-application.html">C SDK</a></li>
                  <li><a class="navbar-item" href="../../dotnet-sdk/2.6/sample-application.html">.NET SDK</a></li>
                  <li><a class="navbar-item" href="../../go-sdk/1.4/sample-application.html">Go SDK</a></li>
                  <li><a class="navbar-item" href="../../nodejs-sdk/2.5/sample-application.html">Node.js SDK</a></li>
                  <li><a class="navbar-item" href="../../php-sdk/2.4/sample-application.html">PHP SDK</a></li>
                  <li><a class="navbar-item" href="../../python-sdk/2.4/sample-application.html">Python SDK</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Hello World!</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="start-using-sdk.html">Start Using the SDK</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sample-application.html">Sample Application</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sample-app-backend.html">Sample App Backend</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="webui-cli-access.html">Browser and CLI Access</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Users and Security</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sdk-authentication-overview.html">Authentication</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sdk-user-management-overview.html">User Management</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sdk-user-management-example.html">Sample Code</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="encryption.html">Field Level Encryption</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="encrypting-using-sdk.html">Field Level Encryption from the Java SDK</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Working with Data</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="core-operations.html">Core Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="document-operations.html">Document Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="subdocument-operations.html">Sub-Document Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="datastructures.html">Data Structures</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="n1ql-query.html">Querying with N1QL</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="n1ql-queries-with-sdk.html">N1QL from the SDK</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="scan-consistency-examples.html">Using Scan Consistency</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="full-text-search-overview.html">Full Text Search</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="full-text-searching-with-sdk.html">Searching from the SDK</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="view-queries-with-sdk.html">MapReduce Views</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="async-programming.html">Asynchronous Programming</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="batching-operations.html">Batching Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="durability.html">Durability</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="concurrent-mutations-cluster.html">Concurrent Document Mutations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sdk-xattr-overview.html">Extended Attributes</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sdk-xattr-example.html">Sample Code</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="nonjson.html">Non-JSON Documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="compression-intro.html">Compression</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Deployment Environments</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-connections.html">Managing Connections</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-clusters.html">Managing Clusters</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="compatibility-versions-features.html">Compatibility</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Settings, Error Handling &amp; Diagnostics</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="client-settings.html">Client Settings</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="handling-error-conditions.html">Handling Errors</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="failure-considerations.html">Failure Considerations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="collecting-information-and-logging.html">Collecting Information</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="threshold-logging.html">Threshold Logging</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="tracing-from-the-sdk.html">Tracing from the SDK</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Project Docs</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="relnotes-java-sdk.html#version-2-6-2-4-september-2018">Release Notes</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="compatibility-versions-features.html">Compatibility</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sdk-licenses.html">Licenses</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="get-involved.html">Get involved</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="https://docs.couchbase.com/home/contribute/index.html">Improve the Docs</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-banner">
    <p>A newer version of this documentation is available.</p>
    <a class="btn" href="../2.7/sample-application.html">View Latest</a>
  </div>
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="start-using-sdk.html">Java SDK</a></li>
    <li class="crumb">Hello World!</li>
    <li class="crumb"><a href="sample-application.html">Sample Application</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="https://github.com/couchbase/docs-sdk-java/edit/release/2.6/modules/ROOT/pages/sample-application.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">Sample Application</h1>
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
The Couchbase Travel App is a sample web application that demonstrates how to interact with the Couchbase query services via the SDKs.
</blockquote>
</div>
<div class="paragraph">
<p>Each SDK comes with its own implementation of the backend for the application.
The backend is a REST API available in the following languages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../nodejs-sdk/2.6/sample-app-backend.html" class="page">Node.js</a></p>
</li>
<li>
<p><a href="../2.7/sample-app-backend.html" class="page">Java</a></p>
</li>
<li>
<p><a href="../../dotnet-sdk/2.7/sample-app-backend.html" class="page">.NET</a></p>
</li>
<li>
<p><a href="../../python-sdk/2.5/sample-app-backend.html" class="page">Python</a></p>
</li>
<li>
<p><a href="../../php-sdk/2.6/sample-app-backend.html" class="page">PHP</a></p>
</li>
<li>
<p><a href="../../go-sdk/1.5/sample-app-backend.html" class="page">Go</a></p>
</li>
<li>
<p><a href="../../c-sdk/2.9/sample-app-backend.html" class="page">C/C++ (basic interaction with data model only)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please refer to the travel-app documentation of your SDK of choice for specifics for that particular SDK, like backend dependencies, source-code checkout, and running instructions.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/couchbaselabs/try-cb-frontend" target="_blank" rel="noopener">travel app front-end</a> is the same in each SDK implementation and is built on an <a href="https://angular.io" target="_blank" rel="noopener">Angular2</a> stack.</p>
</div>
<div class="paragraph">
<p>While the app runs, you can get a peek of what is happening in the backend via the "Narration" — a console-like UI element that can display N1QL queries, for instance.
It is only visible in components that communicate with the server, but can also be collapsed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-narration.png" alt="travel app narration" width="650px">
</div>
</div>
<div class="paragraph">
<p>The application allows users to find flights by entering airports and travel dates.
For the airport entries, the app uses a N1QL query bound to an Angular typeahead directive to suggest airport names based on the first few letters entered.</p>
</div>
<div class="paragraph">
<p>The focus of this tutorial is the backend.
The documentation for the travel app illustrates the data model and walks through the N1QL and FTS queries used to select flights and search for hotels.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="note-installing"><a class="anchor" href="#note-installing"></a>Generic set up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ll need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your favorite editor or IDE</p>
</li>
<li>
<p>Your SDK of choice and its specific dependencies</p>
</li>
<li>
<p>A local <code>Couchbase 5.1</code> (or later) installation — make sure that the <code>travel-sample</code> bucket has been loaded, and that there is at least one node with data, query, index, and full text search services in the cluster</p>
</li>
<li>
<p>The sample app source code for your SDK from GitHub — check the instructions and make sure to use the implementation compatible with the v2 API</p>
</li>
<li>
<p>That&#8217;s it!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To start, it is easiest if you run Couchbase Server and the travel sample app on the same machine.
It&#8217;s not required to run your development environment this way, and advanced Multi-Dimensional Scaling (MDS) configurations are supported.
It&#8217;s just easier to start a development environment with components running locally.</p>
</div>
<div class="paragraph">
<p>If you do not already have Couchbase Server 5.1 or later installed, download <a href="http://www.couchbase.com/download" target="_blank" rel="noopener">Couchbase Server</a> and install it.
When installed, open a browser and navigate to the Couchbase Web Console URL — by default, <code>127.0.0.1:8091</code>.
When prompted, create a new cluster.
Make sure all the services (<strong class="ui">Data Service</strong>, <strong class="ui">Index Service</strong>, <strong class="ui">Search Service</strong> and <strong class="ui">Query Service</strong>) are selected.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
It is important to install the <code>travel-sample</code> bucket from Couchbase Server 5.1 or later, as it has been enriched with hotels data.
If you have installed the sample bucket from an earlier version, delete the bucket and follow the instructions below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you have not installed the <code>travel-sample</code> bucket from Couchbase Server 5.1, select <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Sample Buckets</b></span>.
Select the <strong class="ui">travel-sample</strong> checkbox, and then click <strong class="ui">Load Sample Data</strong>.
The activity notification in the upper-right corner shows that the bucket is being added.
When the bucket is ready to use, it is listed under the <strong class="ui">Installed Samples</strong> heading.</p>
</div>
<div class="paragraph">
<p>In order to be able to search for hotels, you must create an FTS index on the <code>travel-sample</code> bucket.
Select <span class="menuseq"><b class="menu">Search</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Add Index</b></span> and create an index named <code>hotels</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-fts-index.png" alt="travel app fts index" width="633px">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The index mapping could be better tuned, but a generic mapping will also work fine for this example.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, download the complete source code for the backend, then build and run the Travel App.
See the <a href="#travel-sample-app-generic">links above</a> for instructions for your development environment.</p>
</div>
<div class="paragraph">
<p>The app displays a message showing the login URL for the frontend.
Make a note of this so you can log in.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-travel-app"><a class="anchor" href="#using-travel-app"></a>Using the Travel App</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To find and book a flight:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a browser and navigate to the login URL that was displayed when you started the app.</p>
</li>
<li>
<p>Sign in to Couchbase Travel by creating a new account, or providing existing credentials.
(New accounts expire after some time depending on the backend used, usually 1 hour.)</p>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-login.png" alt="travel app login" width="650px">
</div>
</div>
</li>
<li>
<p>In the <strong class="ui">Airport or City</strong> section, enter an airport code or city name in the <strong class="ui">From</strong> and <strong class="ui">To</strong> fields.</p>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-screen-flight.png" alt="travel app screen flight" width="650px">
</div>
</div>
</li>
<li>
<p>In the <strong class="ui">Travel Dates</strong> section, enter <strong class="ui">Leave</strong> and <strong class="ui">Return</strong> dates in <code>MM/DD/YYYY</code> format.</p>
</li>
<li>
<p>Click <strong class="ui">Find Flights</strong>.
The app displays the available flights for the outbound and return legs of the trip.</p>
</li>
<li>
<p>Select one or more flights to add to your cart by clicking the <b class="button">Choose</b> button next to each flight.</p>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-screen-flight-choose.png" alt="travel app screen flight choose" width="650px">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now you have flights stored locally in your cart.
You can see that the number of flights in the cart and the total cost are displayed in the navigation bar at the top right.
To review your flights, navigate to the cart page:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on the cart icon in the navigation bar.
<span class="image"><img src="../../sdk/6.0/pages/_images/icon-cart.png" alt="icon cart" width="40px"></span></p>
</li>
<li>
<p>Review the flights in your cart, and book one by clicking on the <b class="button">Book</b> button next to it.</p>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-screen-cart.png" alt="travel app screen cart" width="650px">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The flight is now booked, as confirmed by a message on the page.</p>
</div>
<div class="paragraph">
<p>The flights that you&#8217;ve booked are stored in the backend.
The backend uses authentication to control access to the endpoints for booking and listing flights.</p>
</div>
<div class="paragraph">
<p>To see which flights you&#8217;ve booked, navigate to the user page:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on the user icon in the navigation bar.
<span class="image"><img src="../../sdk/6.0/pages/_images/icon-user.png" alt="icon user" width="40px"></span></p>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-screen-user.png" alt="travel app screen user" width="650px">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>To search for a hotel, navigate to the hotel page:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on the hotel icon to the right of the navigation bar.
<span class="image"><img src="../../sdk/6.0/pages/_images/icon-hotel.png" alt="icon hotel" width="40px"></span></p>
</li>
<li>
<p>Don&#8217;t enter any search criteria yet.
Just click on the <b class="button">Find Hotels</b> button.
The first 100 hotels are displayed.</p>
</li>
<li>
<p>Now enter a keyword in the <strong class="ui">Description</strong> box, or a location in the <strong class="ui">Location</strong> box, and click on <strong class="ui">Find Hotels</strong> again to refine your search.</p>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-screen-hotels.png" alt="travel app screen hotels" width="650px">
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
To use the hotel search, you must have created an FTS index named <code>hotels</code>, as described earlier.
The API backend that is used by the hotel page makes use of this FTS index.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="datamodel"><a class="anchor" href="#datamodel"></a>The Travel App data model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The data model for the travel app uses several distinct document types: airline, route, airport, and hotel.</p>
</div>
<div class="paragraph">
<p>The model for each kind of document contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A key that acts as a primary key</p>
</li>
<li>
<p>An <code>id</code> field that identifies the document</p>
</li>
<li>
<p>A <code>type</code> field that identifies the kind of document</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following figure illustrates the relationship between the different kinds of documents in version 5.1 of the Travel App.
It shows the primary key, ID, and type fields that each document has, plus a few representative fields in each type of document.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-data-model.png" alt="travel app data model">
</div>
<div class="title">Figure 1. Documents in the Travel App 5.1 data model</div>
</div>
<div class="paragraph">
<p>Landmark documents are not used in the travel-sample application, which focuses on a more specific subset of point of interests that have their own type: hotels.</p>
</div>
<div class="paragraph">
<p>Hotels, like landmarks, don&#8217;t have relations to other types.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="airline-documents"><a class="anchor" href="#airline-documents"></a>Airline documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em class="term">Airline documents</em> contain details about airlines such as the name of the airline, International Air Transport Association (IATA) two-character airline designator, International Civil Aviation Organization (ICAO) three-character airline designator, and the airline call sign.</p>
</div>
<div class="paragraph">
<p>For airline documents, the value of the <code>type</code> field is <code>airline</code>.</p>
</div>
<div class="listingblock">
<div class="title">Airline document model</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">airline_24 			   ←This is the key, which also acts as a primary key
{
  "active": "Y",
  "callsign": "AMERICAN",
  "country": "United States",
  "iata": "AA",
  "icao": "AAL",
  "id": "24",
  "name": "American Airlines",
  "type": "airline"              ←This is the type identifier for the document
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="route-documents"><a class="anchor" href="#route-documents"></a>Route documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em class="term">Route documents</em> contain details about flights such as the name of the airline, departure airport, destination airport, number of stops during the flight, type of aircraft, flight number, and flight schedule.</p>
</div>
<div class="paragraph">
<p>Route documents also contain a foreign key identifier, <code>airlineid</code>, that is used to retrieve the document that contains information about the airline that flies the route.
The value of the <code>airlineid</code> field is identical to the key for the corresponding airline document.</p>
</div>
<div class="paragraph">
<p>For route documents, the value of the <code>type</code> field is <code>route</code>.</p>
</div>
<div class="listingblock">
<div class="title">Route document model</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">route_5966                         ←This is the key, which also acts as a primary key
{
  "id": "5966",
  "type": "route",               ←This is the type identifier for the document
  "airline": "AA",
  "airlineid": "airline_24",     ←This is the foreign key identifier to an airline document
  "sourceairport": "MCO",
  "destinationairport": "SEA",
  "stops": "0",
  "equipment": "737",
  "schedule": [
      {"day": 1, "utc": "13:25:00", "flight": "AA788"},
      {"day": 4, "utc": "13:25:00", "flight": "AA419"},
      {"day": 5, "utc": "13:25:00", "flight": "AA519"}
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="airport-documents"><a class="anchor" href="#airport-documents"></a>Airport documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em class="term">Airport documents</em> contain details about airports  such as name, location, time zone, ICAO four-character alphanumeric airport code, and Federal Aviation Administration (FAA) location identifier.</p>
</div>
<div class="paragraph">
<p>For airport documents, the value of the <code>type</code> field is <code>airport</code>.</p>
</div>
<div class="listingblock">
<div class="title">Airport document model</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">airport_3577                       ←This is the key, which also acts as a primary key
{
  "travel-sample": {
      "airportname": "Seattle Tacoma Intl",
      "city": "Seattle",
      "country": "United States",
      "faa": "SEA",
      "geo": {
          "alt": 433,
          "lat": 47.449,
          "lon": -122.309306
      },
      "icao": "KSEA",
      "id": 3577,
      "type": "airport",         ←This is the type identifier for the document
      "tz": "America/Los_Angeles"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hotel-documents"><a class="anchor" href="#hotel-documents"></a>Hotel documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em class="term">Hotel documents</em> are all about a specific type of point of interests: hotels.
They include information such as a name, description, location (coutry, state, city and address), price and services, and even customer reviews.</p>
</div>
<div class="paragraph">
<p>For hotel documents, the value of the <code>type</code> field is <code>hotel</code>.</p>
</div>
<div class="listingblock">
<div class="title">Hotel document model</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">hotel_10180                     ←This is the key, which also acts as a primary key
{
    "address": "8301 Hollister Ave",
    "checkin": "12PM",
    "checkout": "4PM",
    "city": "Santa Barbara",
    "country": "United States",
    "description": "Located on 78 acres of oceanfront property, this resort is an upscale experience that caters to luxury travelers. There are 354 guest rooms in 19 separate villas, each in a Spanish style. Property amenities include saline infinity pools, a private beach, clay tennis courts, a 42,000 foot spa and fitness center, and nature trails through the adjoining wetland and forest. The onsite Miro restaurant provides great views of the coast with excellent food and service. With all that said, you pay for the experience, and this resort is not for the budget traveler.  In addition to quoted rates there is a $25 per day resort fee that includes a bottle of wine in your room, two bottles of water, access to fitness center and spa, and internet access.",
    "free_breakfast": true,
    "free_internet": false,
    "free_parking": false,
    "geo": {
        "accuracy": "ROOFTOP",
        "lat": 34.43429,
        "lon": -119.92137
    },
    "id": 10180,
    "name": "Bacara Resort \u0026 Spa",
    "pets_ok": false,
    "price": "$300-$1000+",
    "reviews": [
        {
            "author": "Orval Lebsack",
            "content": "I stayed there with a friend for a girls trip around St. Patricks Day. This was my third time to NOLA, my first at Chateau Lemoyne. The location is excellent....very easy walking distance to everything, without the chaos of staying right on Bourbon Street. Even though its a Holiday Inn, it still has the historical feel and look of NOLA. The pool looked nice too, even though we never used it. The staff was friendly and helpful. Chateau Lemoyne would be hard to top, considering the price.",
            "date": "2013-10-26 15:01:39 +0300",
            "ratings": {
                "Cleanliness": 5,
                "Location": 5,
                "Overall": 4,
                "Rooms": 4,
                "Service": 4,
                "Sleep Quality": 5,
                "Value": 4
            }
        }
    ],
    "state": "California",
    "type": "hotel",         ←This is the type identifier for the document
    "url": "http://www.bacararesort.com/",
    "vacancy": true
}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The application serves an HTML file named <em class="path">index.html</em> (in an <em class="path">src/app/</em> folder usually contained in a root folder dedicated to frontend files, e.g.
the <em class="path">public</em> path in the Node.js application).
This file contains references to various included script files for front side JavaScript components such as Bootstrap and jQuery.
It also contains a small script snippet that bootstraps the Angular2 application, as well as an Angular loop (<code>{{#each scripts.polyfills}}</code>) to load <code class="api">polyfills</code> (implementation of html5/web component elements that can be used as a backup if the browser doesn&#8217;t provide the corresponding feature natively).</p>
</div>
<div class="paragraph">
<p>Angular2 works in terms of <code class="api">Components</code>, and the main component that gets displayed at bootstrap is in <em class="path">src/app/try.component.ts</em>.
It is in charge of displaying the common elements of the single-page app, and defines <code class="api">Routes</code>, determining which component to show depending on the URL.
The place at which said components are shown in the html is represented by a component <code class="api">tag</code> provided by the angular <code class="api">Router</code>: <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The application is then split into several packages.
Each talks to a specific subset of the REST API provided by the backend.
Each package has a corresponding main Angular <code class="api">Component</code> that provides the methods to interact with the API or perform work.
Their corresponding views then use these methods to populate data in the application.</p>
</div>
<div class="paragraph">
<p>The backend REST API, in its version associated with Couchbase Server 4.5 (version 2), can be found in the <a href="https://github.com/couchbaselabs/try-cb-frontend/blob/master/documentation/try-cb-api-spec-v2.adoc" target="_blank" rel="noopener">couchbaselabs/try-cb-frontend</a> repository on GitHub.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-archi.png" alt="travel app archi" width="650px">
</div>
<div class="title">Figure 2. The Application Services</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-home-component"><a class="anchor" href="#the-home-component"></a>The Home component</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em class="path">src/app/+home</em> is the main page, dealing with flight searches.
In the backend, these searches are performed using <code class="api">N1QL</code> queries.
It has three main methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two at <code class="api">getToAirport</code> and <code class="api">getFromAirport</code> which are both REST API calls to the <em class="path">/api/airports</em> REST endpoint</p>
</li>
<li>
<p>And one at <code class="api">findFlights</code>, which is a REST API call to the <em class="path">/api/flightPaths/{to}/{from}</em> endpoint</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-archi-home.png" alt="travel app archi home" width="650px">
</div>
<div class="title">Figure 3. Home Component call hierarchy</div>
</div>
<div class="paragraph">
<p>The application attempts to find an airport based on the codes used for the <code>name</code> (case sensitive), and codes for Federal Aviation Administration (FAA) or International Civil Aviation Organization (ICAO).
The backend method allows the user to search by FAA code, ICAO code or airport name.
It then prepares a N1QL query based on the selection criteria (using bucket information from its configuration).
The query is then sent to the Couchbase query service, all by using the backend&#8217;s associated SDK.</p>
</div>
<div class="paragraph">
<p>Using the data model, if you enter <code class="in">SEA</code>, <code class="in">KSEA</code>, or <code class="in">Seattle</code>, the typeahead directive gives you the option to select <strong class="ui">Seattle Tacoma Intl.</strong> To see the results of the query, watch the terminal window in which the application is running.
The example is showing an output for the N1QL statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">QUERY: SELECT airportname FROM `travel-sample` WHERE faa ='SEA'
QUERY: SELECT airportname FROM `travel-sample` WHERE icao ='KSEA'
QUERY: SELECT airportname FROM `travel-sample` WHERE airportname LIKE 'Seattle%'</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the airports are selected and a leave date is entered, the application tries to find route and schedule information for an airline that services the requested flight path.
The call to the REST API <em class="path">/api/flightPaths/{to}/{from}</em> on the server is initiated when the user clicks the <strong class="ui">Find Flights</strong> button.</p>
</div>
<div class="paragraph">
<p>The elements in the form bind their controls to corresponding objects in the component, which allows to perform some validation checking among other things.
To learn more about forms and validation in Angular2, please refer to the <a href="https://angular.io/docs/ts/latest/guide/forms.html" target="_blank" rel="noopener">official documentation</a>.
The submit button calls the component&#8217;s <code>findFlights()</code> function, which in turn invokes the server REST API <em class="path">/api/flightPaths/{to}/{from}/</em> function either once for a one way flight or twice for a round-trip flight.
When it requests the return flight for a round trip, it just uses the reverse <code>to</code> and <code>from</code> sequence.
While <code>to</code> and <code>from</code> are made part of the URL, the API also expects an additional query parameter, <code>leaves</code>, that contains the requested travel date.</p>
</div>
<div class="paragraph">
<p>In the backend, the code corresponding to the <code class="api">flightPaths</code> endpoint performs several important steps for processing the request to find flights:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It determines the FAA identifier for the <code>to</code> and <code>from</code> airports.</p>
</li>
<li>
<p>It searches for routes and schedule information based on the source and destination airports and the requested dates.
The collection of schedule documents is nested in the route document for each route.
They are grouped by day of the week (1-7), and the requested dates are compared to the day of the week to see what flights are available on those particular dates.
It returns a list of flights that includes data for the following fields: airline, flight, departure time ("utc" field), from, to, price (randomly assigned by the backend) and aircraft ("equipment" field).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Query can be seen in the terminal window that is running the backend application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">QUERY:
SELECT a.name, s.flight, s.utc, r.sourceairport, r.destinationairport, r.equipment
FROM `travel-sample` r
UNNEST r.schedule s
JOIN `travel-sample` a
ON KEYS r.airlineid
WHERE r.sourceairport='SEA' AND r.destinationairport='MCO' AND s.day=6
ORDER BY a.name</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="n1ql-query-anatomy"><a class="anchor" href="#n1ql-query-anatomy"></a>N1QL query anatomy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase Query API is a powerful tool for efficient retrieval of information from a document data store.
In each SDK-specific travel application, queries about flights are created by a dedicated module (for example in Node.js, the <em class="path">flightPath.js</em> module).
Here&#8217;s an example of a query that finds flights between Seattle-Tacoma International Airport (SEA) and Orlando International Airport (MCO), followed by a description of what&#8217;s happening in the query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT a.name, s.flight, s.utc, r.sourceairport, r.destinationairport, r.equipment
FROM `travel-sample` r
UNNEST r.schedule s
JOIN `travel-sample` a ON KEYS r.airlineid
WHERE r.sourceairport='SEA' AND r.destinationairport='MCO' AND s.day=6
ORDER BY a.name</code></pre>
</div>
</div>
<div class="paragraph">
<p>N1QL provides JOIN functionality, something previously not possible in a document database.
For two documents to be joined in the result of a SELECT statement, one of them must contain a field whose value is equal to the Couchbase key of the other document.
The following example shows two documents that demonstrate that requirement and a SELECT statement that joins them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"keyA" is the Couchbase KV key for Doc A.
Doc A: { some fields }

Doc B: { some fields "joinField": "keyA" }

SELECT * FROM default b JOIN default a ON KEYS b.joinField</pre>
</div>
</div>
<div class="paragraph">
<p>The data model for the travel application includes an <code>airlineid</code> field in each <code>route</code> document.
That <code>airlineid</code> field is used as a foreign key identifier and corresponds to the key for an <code>airline</code> document.
To select the airline name <code>a.name</code>, the query uses the following clause: <code>JOIN `travel-sample` a ON KEYS r.airlineid</code>.</p>
</div>
<div class="paragraph">
<p>One of the powerful features available in the N1QL query language is the ability to <code>UNNEST</code> or flatten, the results returned in the <code>SELECT</code> statement.
This is frequently needed when working with JSON documents, which may have rich heirarchies.
In the data model for the travel application, each route document contains a nested collection of schedule documents.
To alleviate a complicated JSON parsing code pattern for the return results, you can have the query execution <code>UNNEST</code> the schedule documents, so they become the root-level fields in the returned results.</p>
</div>
<div class="paragraph">
<p>Standard SQL syntax is used in the <code>WHERE</code> clause for the <code>SELECT</code> statement.
The result set is ordered by the <code>a.name</code> field, which contains the airline name.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="n1ql-query.html" class="page">Querying with N1QL</a> section for more information on using N1QL with the SDKs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-hotels-component"><a class="anchor" href="#the-hotels-component"></a>The Hotels component</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em class="path">src/app/+hotels</em> allows to search for hotels.
In the backend these searches are performed using <code class="api">FTS</code> queries, performed using the <em class="path">/api/hotel/</em> REST API endpoint.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-archi-hotel.png" alt="travel app archi hotel" width="650px">
</div>
<div class="title">Figure 4. Hotels component call hierarchy</div>
</div>
<div class="paragraph">
<p>The form is bound to the component using a <code class="api">FormBuilder</code>, and it has two optional text inputs: a description and a location field.
When submitting the form, the component&#8217;s <code class="api">findHotels</code> method is called with a JSON representation of the form&#8217;s content.
The <code class="api">findHotels</code> method will use these values to determine if it should hit a more specific endpoint, in the case where a particular description keyword or location are requested by the form.</p>
</div>
<div class="paragraph">
<p>For instance, to search for a hotel in France with a description matching "golf" (in a full text search sense, possibly including alternative spellings, words with the same root, etc...), one should use the  <em class="path">/api/hotel/France/golf</em> endpoint.
The possible endpoints are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em class="path">/api/hotel</em> to find all hotels</p>
</li>
<li>
<p><em class="path">/api/hotel/{description}/</em> to find all hotels matching a keyword/phrase in their name or description.</p>
</li>
<li>
<p><em class="path">/api/hotel/{description}/{location}/</em> to find all hotels matching the keyword/phrase and a location keyword (in either of the location-related fields: country, city, state, address...)</p>
</li>
<li>
<p><em class="path">/api/hotel/*/{location}/</em> to find all hotels within a location (not using keyword)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a second step, for each hit returned by the FTS service the information that we want to display is collected by the backend using the subdocument API.
This allows the client to request that the cluster to only transmit specific parts of the hotel document to be sent back to the client for display.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="subdocument-operations.html" class="page">Sub-Document Operations</a> section for more information on using the Subdocument API with the SDKs.</p>
</div>
<div class="paragraph">
<p>Both parts of the request can be individually seen in the narration component:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../sdk/6.0/pages/_images/travel-app-narration.png" alt="travel app narration" width="650px">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fts-query-anatomy"><a class="anchor" href="#fts-query-anatomy"></a>FTS query anatomy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase Search API (FTS) is a powerful tool for searching text inside a document data store.
In each SDK-specific travel application, queries about hotels are created by a dedicated module (for example in Java, the <em class="path">Hotel</em> service).
Here&#8217;s an example of a query that finds hotels mentioning "golf" in France, followed by a description of what&#8217;s happening in the query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"query":{"conjuncts": [
    {"field":"type","term":"hotel"},
    {"disjuncts":[
        {"field":"country","match_phrase":"France"},
        {"field":"city","match_phrase":"France"},
        {"field":"state","match_phrase":"France"},
        {"field":"address","match_phrase":"France"}
    ]},
    {"disjuncts":[
        {"field":"description","match_phrase":"golf"},
        {"field":"name","match_phrase":"golf"}
    ]}
]},
"size":100}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>query</code> is actually a composite (<code>conjuncts</code>) of 3 sub-queries: a <code>term</code> query and two <code>disjuncts</code> queries.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The term query matches a term as-is, without performing any analysis: it must match <strong>exactly</strong> what is stored in the index (which could be just the root of a word).
Here we use it to restrict our search to the <code>hotel</code> <code class="api">type</code>.</p>
</li>
<li>
<p>A disjunction query matches if any of its sub-queries matches.
We use the first only when there is a <code>location</code> provided, to search for it in any of the <code class="api">country</code>, <code class="api">city</code>, <code class="api">state</code> and <code class="api">address</code> fields.
We use a <code class="api">match phrase</code> sub-query on each, which will attempt to find several keywords, analyzing them to remove stop words, include close results like words from the same root, etc...</p>
</li>
<li>
<p>The second disjunction query is added whenever a description is provided for the search.
It performs two match phrase queries on the description, respectively in the <code class="api">name</code> and <code class="api">content</code> fields of the landmark.</p>
</li>
<li>
<p>There are quite a few other FTS query types.
For instance, a match query is much like a match phrase query, except it only considers one term to search for, and can apply fuzzyness, e.g.
to match close words with a slightly different spelling.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Finally, we notice that at the same level as the <code>query</code> entry there is also a <code>size</code> attribute.
This is one of the many tunings applicable to the whole query, a top-level parameter that limits the results to 100 hits.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="full-text-search-overview.html" class="page">Full Text Search</a> section for more information on using FTS with the SDKs.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">2440 West El Camino Real
Mountain View, CA 94040
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://training.couchbase.com" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://training.couchbase.com/online" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/+CouchbaseServer" class="icon">
              <svg width="50px" height="50px" viewBox="36.72 225.573 542.326 343.67"><path d="m209.02 363.05v68.732h93.212c-15.065 44.252-37.662 68.732-93.212 68.732-56.492 0-100.74-46.135-100.74-102.63s44.252-102.63 100.74-102.63c30.129 0 48.96 10.357 66.849 25.422 14.123-14.123 13.182-16.006 48.96-49.902-31.071-28.246-71.557-45.194-115.81-45.194-95.096-0.94-172.3 76.266-172.3 171.36s77.206 172.3 172.3 172.3c142.17 0 177.01-124.28 165.71-206.2-33.896-1e-3 -165.71-1e-3 -165.71-1e-3zm310.71 3.766v-59.317h-42.369v59.317h-61.2v42.369h61.2v61.2h42.369v-61.2h59.317v-42.369h-59.317z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2018 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
