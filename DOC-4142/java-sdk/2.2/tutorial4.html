<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Java SDK tutorial | Couchbase Docs (Staging)</title>
    <link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-4142/java-sdk/2.7/start-using-sdk.html">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="java-sdk">
    <meta name="dcterms.identifier" content="2.2">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://simon-dew.github.io/docs-site/DOC-4142">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="../../server/5.5/introduction/intro.html">Server</a></li>
                  <li><a href="../../server/5.5/n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../server/5.5/fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../server/5.5/analytics/introduction.html">Analytics <small>(Developer Preview)</small></a></li>
                  <li><a href="../../server/5.5/eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="#">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="../../couchbase-lite/2.1/index.html">Lite</a></li>
                  <li><a href="../../sync-gateway/2.1/index.html">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../server/5.5/sdk/overview.html">SDKs</a></li>
                  <li><a href="../../c-sdk/2.8/start-using-sdk.html">C</a></li>
                  <li><a href="../../dotnet-sdk/2.6/start-using-sdk.html">.NET</a></li>
                  <li><a href="../../go-sdk/1.4/start-using-sdk.html">Go</a></li>
                  <li><a href="../../java-sdk/2.6/start-using-sdk.html">Java</a></li>
                  <li><a href="../../nodejs-sdk/2.5/start-using-sdk.html">Node.js</a></li>
                  <li><a href="../../php-sdk/2.4/start-using-sdk.html">PHP</a></li>
                  <li><a href="../../python-sdk/2.4/start-using-sdk.html">Python</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../server/5.5/connectors/intro.html">Connectors</a></li>
                  <li><a href="../../elasticsearch-connector/3.0/index.html">Elasticsearch</a></li>
                  <li><a href="../../server/5.5/connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="../../kafka-connector/3.4/index.html">Kafka</a></li>
                  <li><a href="../../spark-connector/2.2/index.html">Spark</a></li>
                  <li><a href="#">Talend</a></li>
                  <li><a href="../../server/5.5/connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="navbar-item has-dropdown">
            <a class="navbar-link component" href="java-intro.html"><span class="title">Java SDK</span> <span class="version">2.2</span></a>
            <div class="navbar-dropdown versions">
              <div class="cols">
                <ul>
                  <li><a class="navbar-item" href="../2.7/start-using-sdk.html">Java SDK 2.7</a></li>
                  <li><a class="navbar-item" href="../2.6/start-using-sdk.html">Java SDK 2.6</a></li>
                  <li><a class="navbar-item" href="../2.5/start-using-sdk.html">Java SDK 2.5</a></li>
                  <li><a class="navbar-item" href="../2.4/start-using-sdk.html">Java SDK 2.4</a></li>
                  <li><a class="navbar-item" href="../2.3/start-using-sdk.html">Java SDK 2.3</a></li>
                  <li><a class="navbar-item" href="../2.1/java-intro.html">Java SDK 2.1</a></li>
                </ul>
                <ul class="related">
                  <li><a class="navbar-item" href="../../c-sdk/2.8/tutorial4.html">C SDK</a></li>
                  <li><a class="navbar-item" href="../../dotnet-sdk/2.6/tutorial4.html">.NET SDK</a></li>
                  <li><a class="navbar-item" href="../../go-sdk/1.4/tutorial4.html">Go SDK</a></li>
                  <li><a class="navbar-item" href="../../nodejs-sdk/2.5/tutorial4.html">Node.js SDK</a></li>
                  <li><a class="navbar-item" href="../../php-sdk/2.4/tutorial4.html">PHP SDK</a></li>
                  <li><a class="navbar-item" href="../../python-sdk/2.4/tutorial4.html">Python SDK</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="java-intro.html">Java SDK 2.2</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="overview.html">Overview</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="download-links.html">Download and API reference</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="migrate.html">Migrating from Java SDK 1.4.x to 2.x</a>
    </span>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="getting-started.html">Getting started with the Java SDK</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="hello-couchbase.html">Hello Couchbase Example</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="tutorial4.html">Java SDK tutorial</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-connections.html">Managing connections</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-cluster.html">Managing clusters</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="env-config.html">Configuring the environment</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="documents.html">Working with documents</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-basics.html">Document basics</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-creating.html">Creating documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-updating.html">Updating documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-retrieving.html">Retrieving documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-deleting.html">Deleting documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-atomic.html">Atomic operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="documents-bulk.html">Bulk operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="durability.html">Durability requirements</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="querying.html">Querying buckets</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="managing-views.html">Managing views</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="querying-views.html">Working with views</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="querying-n1ql.html">Working with N1QL</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="rxjava.html">RxJava and reactive programming</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="observables.html">Mastering Observables</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="reactive-apps.html">Writing resilient reactive applications</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="event-bus-metrics.html">Production considerations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="logging.html">Setting up logging</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="release-notes.html">Release notes</a>
    </span>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-banner">
    <p>A newer version of this documentation is available.</p>
    <a class="btn" href="../2.7/start-using-sdk.html">View Latest</a>
  </div>
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="java-intro.html">Java SDK</a></li>
    <li class="crumb"><a href="java-intro.html">Java SDK 2.2</a></li>
    <li class="crumb"><a href="getting-started.html">Getting started with the Java SDK</a></li>
    <li class="crumb"><a href="tutorial4.html">Java SDK tutorial</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="https://github.com/couchbase/docs-sdk-java/edit/release/2.2/modules/ROOT/pages/tutorial4.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">Java SDK tutorial</h1>
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
The Java SDK tutorial bridges the gap between simple and advanced concepts by walking through a complete web application.
</blockquote>
</div>
<div class="paragraph">
<p>The full source code for the tutorial is available <a href="https://github.com/couchbaselabs/try-cb-java/" target="_blank" rel="noopener">on GitHub couchbaselabs/try-cb-Java</a>.
The primary focus of the tutorial is to explain the function and theory behind the Couchbase Java client and how it works together with Couchbase Server, and especially new features in version 4.0 like <code>N1QL</code>.
It makes use of the <code>travel-sample</code> data set.
The code that generates the web application is provided with the source code but is not discussed in this tutorial.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For reference, you can find the previous tutorial that focuses more on key/value operations and views (since N1QL was introduced in CB 4.0): <a href="#">tutorial3.adoc</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites-and-set-up"><a class="anchor" href="#prerequisites-and-set-up"></a>Prerequisites and set up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ll need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your favorite IDE with a JDK 1.6+ installed (this tutorial assumes IntelliJ with JDK 1.8)</p>
</li>
<li>
<p>Maven 3</p>
</li>
<li>
<p>The sample app source code from GitHub (we&#8217;ll only cover the Java part of the app)</p>
</li>
<li>
<p>A local <code>Couchbase 4.0</code> installation (make sure that the <code>travel-sample</code> bucket has been loaded and that there is, at least, one node with data, query, and index services in the cluster</p>
</li>
<li>
<p>That&#8217;s it!</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Installing Couchbase Server</strong></p>
</div>
<div class="paragraph">
<p>Download <a href="http://www.couchbase.com/download" target="_blank" rel="noopener">Couchbase Server</a>and install it.
As you follow the download instructions and setup wizard, make sure you keep all the services (<code>data</code>, <code>query</code>, and <code>index</code>) selected.
Make sure also to install the sample bucket named <code>travel-sample</code> (introduced in CB 4.0) because it contains the data used in this tutorial.</p>
</div>
<div class="paragraph">
<p>If you already have Couchbase Server installed but did not install the <code>travel-sample</code> bucket, open the Couchbase Web Console and select <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Sample Buckets</b></span>.
Select the <code>travel-sample</code> checkbox, and then click <strong class="ui">Create</strong>.
A notification box in the upper-right corner disappears when the bucket is ready to use.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To get set up for the tutorial proper, follow these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>git clone https://github.com/couchbaselabs/try-cb-java.git</code> or <a href="https://github.com/couchbaselabs/try-cb-java/archive/v1.0a.zip" target="_blank" rel="noopener">download the source</a></p>
</li>
<li>
<p>If you don&#8217;t want to connect to localhost, change the configuration in <code>src/main/resources/application.properties</code> (e.g., hostname).</p>
</li>
<li>
<p>Open the project in your IDE, import as needed and let it build</p>
</li>
<li>
<p>Alternatively, go straight to running the project by issuing the following in command line inside the project&#8217;s directory: <code>mvn spring-boot:run</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to code it yourself, the real work is done in the following classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>trycb.config.Database</code></p>
</li>
<li>
<p><code>trycb.service.Airport</code></p>
</li>
<li>
<p><code>trycb.service.FlightPath</code></p>
</li>
<li>
<p><code>trycb.service.User</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There&#8217;s currently no "fill-in-the-blanks" branch so you&#8217;ll have to delete method bodies and try to take it from there.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This tutorial focuses on querying through N1QL rather than views for now.
If you want information about using views, see the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>General Information about views: <a href="http://docs.couchbase.com/admin/admin/Views/views-intro.html" target="_blank" rel="noopener">Views and indexes</a></p>
</li>
<li>
<p>Examples and patterns you can use for views: <a href="http://docs.couchbase.com/admin/admin/Views/views-querySample.html" target="_blank" rel="noopener">View and query pattern samples</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configure-and-bootstrap-the-sdk"><a class="anchor" href="#configure-and-bootstrap-the-sdk"></a>Configure and Bootstrap the SDK</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Where</strong>: <code>trycb.config.Database</code></p>
</div>
<div class="paragraph">
<p><strong>Goals</strong>: Connecting to the <code>Cluster</code> and getting a reference to a <code>Bucket</code>, learn to reuse it.</p>
</div>
<div class="paragraph">
<p><strong>Relevant Documentation Topics</strong>: <a href="managing-connections.html" class="page">Managing connections</a></p>
</div>
<div class="paragraph">
<p>The first step is to let the application connect to your cluster and obtain a reference to a <code>Bucket</code> (the Bucket is your entry point for the whole storage API).
Spring Boot will inject values from your configuration file in the <code>hostname</code>, <code>bucket</code> and <code>password</code> attributes.</p>
</div>
<div class="paragraph">
<p>Note that both <code>Cluster</code> and <code>Bucket</code> are thread-safe and <strong>must</strong> be reused across your application (if you don&#8217;t, you&#8217;ll see a warning in the logs).
Here we&#8217;ll let Spring inject those as <code>@Bean</code>, so they&#8217;ll be singletons in the application.</p>
</div>
<div class="paragraph">
<p><strong>Connecting to the Cluster</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public @Bean Cluster cluster() {
	return CouchbaseCluster.create(hostname);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>cluster()</code> method creates the bean for the cluster reference.
Here we use one of the simpler factory methods, with just a hostname.
Without a <code>hostname</code>, the default is to connect to <code>localhost</code>.
Note that you can tune the SDK through a <code>CouchbaseEnvironment</code> instance that you could pass in as an additional first argument (that is particularly recommended if you need to connect to multiple clusters in the same application).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You could make the bootstrap process safer by providing a list of hostnames/IPs from which to tbootstrap in case the one node you provided for bootstrap is unfortunately down when you are creating the Cluster reference.
In production, the best practice is to provide 3.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Getting a Bucket</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public @Bean Bucket bucket() {
	return cluster().openBucket(bucket, password);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second step is to connect to the Couchbase bucket you&#8217;ll be using.
Here we want to use sample data from <code>travel-sample</code> (and the <code>application.properties</code> configuration reflects that).
To obtain the corresponding Bucket from the Cluster and register it as a <code>@Bean</code> in <code>bucket()</code> method, simply open it using the configured <code>bucket</code> name and <code>password</code>.</p>
</div>
<div class="paragraph">
<p>Both bucket and cluster can also be managed through the SDK (e.g., add views or create new buckets).
See <a href="managing-cluster.html" class="page">Managing clusters</a> and <a href="managing-views.html" class="page">Managing views</a> for more information.</p>
</div>
<div class="paragraph">
<p>With these steps, the application is ready to use the API.
In the next step, we&#8217;ll cover the Key/Value (kv) store part of the API.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="manage-users-using-key-value-api"><a class="anchor" href="#manage-users-using-key-value-api"></a>Manage Users using Key/Value API</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Where</strong>: <code>trycb.service.User</code></p>
</div>
<div class="paragraph">
<p><strong>Goals</strong>: Use <code class="code">Bucket</code>'s Key/Value operations and discover the <code>Document</code> API.</p>
</div>
<div class="paragraph">
<p><strong>Relevant Documentation Topics</strong>: <a href="documents-basics.html" class="page">Document basics</a>, <a href="documents-creating.html" class="page">Creating documents</a>, <a href="documents-retrieving.html" class="page">Retrieving documents</a>, <a href="documents-updating.html" class="page">Updating documents</a>, ... <a href="observables.html" class="page">Mastering Observables</a></p>
</div>
<div class="paragraph">
<p>Couchbase is a document-oriented database that provides access to your data both through its document ID (for high-performance access), as well as through views and N1QL (as powerful query languages).</p>
</div>
<div class="paragraph">
<p>This is noticeable in the API, where the methods reflect Key/Value operations (<code>get</code>, <code>create</code>, and so on) and work with a <code>Document</code> interface that has an <code>id()</code> and content.
The default Document implementation, <code>JsonDocument</code>, accepts a simple representation of JSON as a content: the <code>JsonObject</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you already have mechanisms in place that deal with marshaling/unmarshaling of your domain objects to/from JSON, skip the extra step of converting them to JsonObject and use a <code>RawJsonDocument</code> instead.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Creating new users</strong></p>
</div>
<div class="paragraph">
<p>Since this is a <code>@Service</code>, the createLogin method is part of the REST API and returns a <code>ResponseEntity&lt;String&gt;</code> (a Spring representation of a http response with code and all around the JSON string).
Spring injects the Bucket reference for us, along with the request parameters <code>username</code> and <code>password</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">/**
 * Create a user.
 */
public static ResponseEntity&lt;String&gt; createLogin(final Bucket bucket, final String username, final String password) {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we&#8217;ll prepare the content for our new user (as a JsonObject) and the associated document (in order to give it an ID):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">JsonObject data = JsonObject.create()
    .put("type", "user")
    .put("name", username)
    .put("password", BCrypt.hashpw(password, BCrypt.gensalt()));
JsonDocument doc = JsonDocument.create("user::" + username, data);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>"user::"</code> prefix is arbitrary to this application, this is just a convention that the app uses to obtain unique keys and have additional information in it, but the key could have been anything else (even sequence numbers or UUIDs) really.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here comes the part where we use the Couchbase API to store the document, it&#8217;s rather simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bucket.insert(doc);</code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to send a response with the content and a success flag to the HTTP client.
We also want to indicate failure if the SDK throws an exception, so let&#8217;s wrap that in a try-catch block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">try {
	bucket.insert(doc);
	JsonObject responseData = JsonObject.create()
        .put("success", true)
        .put("data", data);
    return new ResponseEntity&lt;String&gt;(responseData.toString(), HttpStatus.OK);
} catch (Exception e) {
    JsonObject responseData = JsonObject.empty()
        .put("success", false)
        .put("failure", "There was an error creating account")
        .put("exception", e.getMessage());
    return new ResponseEntity&lt;String&gt;(responseData.toString(), HttpStatus.OK);
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When it comes to storing a document, you have broadly three method choices:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>insert</code> will only work if no document currently exists for the given ID.
Otherwise, a <code>DocumentAlreadyExistsException</code> will be thrown.</p>
</li>
<li>
<p><code>replace</code> on the contrary will only work if the document does already exist.
Otherwise, a <code>DocumentDoesNotExistException</code> is thrown.</p>
</li>
<li>
<p><code>upsert</code> will always work, replacing or creating the document as needed.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Checking login by getting the User&#8217;s document</strong></p>
</div>
<div class="paragraph">
<p>In the <code>login</code> method, we check a User&#8217;s credential and for that we need to retrieve the corresponding document of course!
Since user documents are identified by prefixing their username with <code>user::</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">JsonDocument doc = bucket.get("user::" + username);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If that particular key doesn&#8217;t exist, the <code>get</code> method returns <code>null</code>.
That&#8217;s useful to check if the user exists at all:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">if (doc == null) {
	responseContent = JsonObject.create().put("success", false).put("failure", "Bad Username or Password");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Otherwise it&#8217;s just a matter of checking the hashed password with the one provided by the user, and responding accordingly.
Notice how we get the hash by calling <code>content().getString("password")</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">//...continued
else if(BCrypt.checkpw(password, doc.content().getString("password"))) {
    responseContent = JsonObject.create().put("success", true).put("data", doc.content());
} else {
    responseContent = JsonObject.empty().put("success", false).put("failure", "Bad Username or Password");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>A super quick glance at the async API with RxJava</strong></p>
</div>
<div class="paragraph">
<p>The 2.x Java SDK relies on <a href="http://reactivex.io/" target="_blank" rel="noopener"><code>RxJava</code></a> for its asynchronous API.
It offers a powerful way of composing asynchronous streams for your processing.
The <code>getFlightsForUser()</code> method can serve as a quick example of such an asynchronous call, we&#8217;ll return the result of a chain started with the async SDK call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bucket.async().get("user::" + username)</code></pre>
</div>
</div>
<div class="paragraph">
<p>RxJava&#8217;s <code>Observable</code> is a push model where you describe your stream (by composing and chaining rx operators) then subscribe to it (to consume the end data).
You can also manage what to do with error notifications in the subscription.</p>
</div>
<div class="paragraph">
<p>The <code>async()</code> method on Bucket will switch to the async API.
There, <code>get</code> will return an <code>Observable</code> in which the requested Document is emitted.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the requested key doesn&#8217;t exist, the async API will instead result in an empty Observable, nothing gets emitted.
See below for an example of how to deal with that particular case.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The next step in our chain is to extract the flight information that we need and return it as a <code>ResponseEntity</code> using the transforming operator <code>map</code>.
We pass a function that will transform each emitted <code>JsonDocument</code> into a <code>ResponseEntity&lt;String&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.map(new Func1&lt;JsonDocument, ResponseEntity&lt;String&gt;&gt;() {
	@Override
 	public ResponseEntity&lt;String&gt; call(JsonDocument doc) {
		return new ResponseEntity&lt;String&gt;(doc.content().getArray("flights").toString(), HttpStatus.OK);
 	}
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>To prove that the document doesn&#8217;t exist, we have to do things a bit differently since the <em>map</em> function won&#8217;t receive a null (it&#8217;s the enclosing Observable stream that is empty).
Fortunately, RxJava provides a method to emit a single default value if an upstream Observable is empty:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.defaultIfEmpty(new ResponseEntity&lt;String&gt;("{failure: 'No flights found'}", HttpStatus.OK))</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, we still must exit the method by returning a value in a synchronous manner.
Therefore, we can revert to blocking behavior and say "we only expect one <code>single()</code> value to be emitted, wait for it and return it":</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">                     .toBlocking()
.single();</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To learn more about Observables, see the <a href="observables.html" class="page">Mastering Observables</a>section.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a-first-n1ql-query-finding-airports"><a class="anchor" href="#a-first-n1ql-query-finding-airports"></a>A First N1QL Query: Finding Airports</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Where</strong>: <code>trycb.service.Airport</code></p>
</div>
<div class="paragraph">
<p><strong>Goals</strong>: Use N1QL and the DSL to perform your first <code>SELECT</code> on Couchbase.</p>
</div>
<div class="paragraph">
<p><strong>Relevant Documentation Topics</strong>: <a href="querying-n1ql.html" class="page">Working with N1QL</a>.</p>
</div>
<div class="paragraph">
<p>In the SDK, we have a <code>query</code> method that accepts all variants of querying with Couchbase (views, spatial/geo views, and N1QL).
For N1QL, the <code>N1qlQuery</code> is expected.
This allows to wrap a N1QL <code>Statement</code>, provide query tuning through a <code>N1qlParams</code> and, if necessary, provide values for placeholders in the statement as <code>JsonObject</code> or <code>JsonArray</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
N1QL is a super-set of SQL, so if you&#8217;re familiar with SQL, you feel at ease.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Statements can be provided either in String form or using the DSL.
So let&#8217;s issue our first <code>SELECT</code> using the DSL!</p>
</div>
<div class="paragraph">
<p>The <code>findAll</code> method is expected to return a <code>List</code> (several matching rows) of <code>Map</code>s representing the JSON value.
Spring will inject the Bucket into it, and the <code>params</code> attribute from the HTTP request.
From that we&#8217;ll start building a <code>Statement</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">/**
 * Find all airports.
 */
public static List&lt;Map&lt;String, Object&gt;&gt; findAll(final Bucket bucket, final String params) {
    Statement query;
	//continued...</code></pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;ll want to select just the airport name from relevant documents in our <code>bucket</code>.
Since we want to filter relevant document on criteria that depends on the input length, let&#8217;s just do the SELECT and FROM clauses first:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">AsPath prefix = select("airportname").from(i(bucket.name()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we can choose the correct fields to look into depending on the length of the input.
Notice the <code>x</code> method that produces a token/expression out of a string.
From there you can apply operators like <code>eq</code> (equals).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">if (params.length() == 3) {
	query = prefix.where(x("faa").eq(s(params.toUpperCase())));
} else if (params.length() == 4 &amp;&amp; (params.equals(params.toUpperCase()) || params.equals(params.toLowerCase()))) {
	query = prefix.where(x("icao").eq(s(params.toUpperCase())));
} else {
    query = prefix.where(i("airportname").like(s(params + "%")));
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use <strong>static</strong> imports on these methods of the <code>Expression</code> class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>x</code> to create an <code>Expression</code> representing a plain token, like a field.</p>
</li>
<li>
<p><code>s</code> to create a string literal (with adequate quotes).</p>
</li>
<li>
<p><code>i</code> to escape a token with backticks (for instance when referring to the travel-sample bucket, you need to escape it because otherwise N1QL will interpret the dash as a subtraction operator).</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The statement is ready!
You can view (and log it) via its <code>toString()</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">logQuery(query.toString());
//query.toString() example: SELECT airportname FROM `travel-sample` WHERE faa = "LAX"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we need to actually execute this statement by wrapping it in a <code>N1qlQuery</code> and invoking <code>bucket.query()</code>.
Here it is very simple, no placeholders and no particular tuning of the query is necessary, so we&#8217;ll use the <code>N1qlQuery.simple()</code> factory method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">N1qlQueryResult result = bucket.query(N1qlQuery.simple(query));
return extractResultOrThrow(result);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at <code>extractResultOrThrow</code> to understand the structure of the N1QL response (as represented by <code>N1qlQueryResult</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">/**
 * Extract a N1Ql result or throw if there is an issue.
 */
private static List&lt;Map&lt;String, Object&gt;&gt; extractResultOrThrow(N1qlQueryResult result) {
    if (!result.finalSuccess()) {
        LOGGER.warn("Query returned with errors: " + result.errors());
        throw new DataRetrievalFailureException("Query error: " + result.errors());
    }

    List&lt;Map&lt;String, Object&gt;&gt; content = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();
    for (N1qlQueryRow row : result) {
        content.add(row.value().toMap());
    }
    return content;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>N1qlQueryResult</code> has two status flags: one intermediary <code>parseSuccess()</code> that indicates immediately if there is a syntax error (<code>parseSuccess() == false</code>) or not, and one that indicates the definite result of the query (<code>finalSuccess()</code>).</p>
</div>
<div class="paragraph">
<p>If the query is successful, it will offer a list of <code>N1qlQueryRow</code> through <code>allRows()</code>.
Otherwise it will have JsonObject errors in <code>errors()</code>.
That&#8217;s what we inspect to respectively build a list of results or throw a <code>DataRetrievalFailureException</code> containing all the errors.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="more-complex-queries-finding-routes"><a class="anchor" href="#more-complex-queries-finding-routes"></a>More Complex Queries: Finding Routes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Where</strong>: <code>trycb.service.FlightPath</code></p>
</div>
<div class="paragraph">
<p><strong>Goals</strong>: Let the DSL guide you into making more complex N1QL queries.</p>
</div>
<div class="paragraph">
<p><strong>Relevant Documentation Topics</strong>: <a href="querying-n1ql.html" class="page">Working with N1QL</a>.</p>
</div>
<div class="paragraph">
<p>In this service, we have two more complex queries.
The first aims at going from human-readable airport name for the departure and arrival airports to FAA codes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT faa AS fromAirport FROM `travel-sample` WHERE airportname = "Los Angeles Intl"
UNION SELECT faa AS toAirport FROM `travel-sample` WHERE airportname = "San Francisco Intl"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second aims at constructing the result set of available flight paths that connect the two airports:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT a.name, s.flight, s.utc, r.sourceairport, r.destinationairport, r.equipment
FROM `travel-sample` AS r
UNNEST r.schedule AS s
JOIN `travel-sample` AS a ON KEYS r.airlineid
WHERE r.sourceairport = "LAX" AND r.destinationairport = "SFO" AND s.day = 6
ORDER BY a.name ASC</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Yes, you read that right, N1QL can do joins (on a single bucket or  several).
It works as long as the "foreign key" described by <code>ON KEYS</code> clause can be mapped to a document&#8217;s Key in the joined bucket.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A specificity of N1QL that we see in the second statement is <code>UNNEST</code>.
It extracts a sub-JSON and puts it at the same root level as the bucket (so its possible to do joins on each element in this sub-json as if they were entries in a left-hand side bucket).</p>
</div>
<div class="paragraph">
<p>For this final step, try to obtain the equivalent of these statements via the DSL and see how it guides you through the possibilities of the query language.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="indexing-the-data-n1ql-gsi"><a class="anchor" href="#indexing-the-data-n1ql-gsi"></a>Indexing the Data: N1QL &amp; GSI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Where</strong>: <code>trycb.utils.StartupPreparations</code></p>
</div>
<div class="paragraph">
<p><strong>Goals</strong>: Use the Index DSL to make sure data is indexed for N1QL to query it.</p>
</div>
<div class="paragraph">
<p>Index management is a bit more advanced (and is already done when loading the sample), so now that you&#8217;ve learned about N1QL, you can have a look at it.
For N1QL to work, you must first ensure that at least a <code>Primary Index</code> has been created.
For that you can use the DSL from the <code>Index</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Index.createPrimaryIndex().on(bucket.name())</code></pre>
</div>
</div>
<div class="paragraph">
<p>The fluent API will guide you with the available options; you just have to declare that you want to <code>createPrimaryIndex()</code> and specify <code>on(...)</code> which Bucket.</p>
</div>
<div class="paragraph">
<p>You can also create secondary indexes on specific fields of the JSON, for better performance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Index.createIndex(name).on(bucket.name(), x(name.replace("def_", "")))</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, give a name to your index, specify the target bucket AND the field(s) in the JSON to index.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">2440 West El Camino Real
Mountain View, CA 94040
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://training.couchbase.com" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://training.couchbase.com/online" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/+CouchbaseServer" class="icon">
              <svg width="50px" height="50px" viewBox="36.72 225.573 542.326 343.67"><path d="m209.02 363.05v68.732h93.212c-15.065 44.252-37.662 68.732-93.212 68.732-56.492 0-100.74-46.135-100.74-102.63s44.252-102.63 100.74-102.63c30.129 0 48.96 10.357 66.849 25.422 14.123-14.123 13.182-16.006 48.96-49.902-31.071-28.246-71.557-45.194-115.81-45.194-95.096-0.94-172.3 76.266-172.3 171.36s77.206 172.3 172.3 172.3c142.17 0 177.01-124.28 165.71-206.2-33.896-1e-3 -165.71-1e-3 -165.71-1e-3zm310.71 3.766v-59.317h-42.369v59.317h-61.2v42.369h61.2v61.2h42.369v-61.2h59.317v-42.369h-59.317z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2018 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
