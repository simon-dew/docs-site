<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>CRUD Document Operations using the C (libcouchbase) SDK with Couchbase Server | Couchbase Docs (Staging)</title>
    <link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-4142/c-sdk/2.9/document-operations.html">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="c-sdk">
    <meta name="dcterms.identifier" content="2.8">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://simon-dew.github.io/docs-site/DOC-4142">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="../../server/5.5/introduction/intro.html">Server</a></li>
                  <li><a href="../../server/5.5/n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../server/5.5/fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../server/5.5/analytics/introduction.html">Analytics <small>(Developer Preview)</small></a></li>
                  <li><a href="../../server/5.5/eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="../../operator/1.1/overview.html">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="../../couchbase-lite/2.1/index.html">Lite</a></li>
                  <li><a href="../../sync-gateway/2.1/index.html">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../server/5.5/sdk/overview.html">SDKs</a></li>
                  <li><a href="../../c-sdk/2.8/start-using-sdk.html">C</a></li>
                  <li><a href="../../dotnet-sdk/2.6/start-using-sdk.html">.NET</a></li>
                  <li><a href="../../go-sdk/1.4/start-using-sdk.html">Go</a></li>
                  <li><a href="../../java-sdk/2.6/start-using-sdk.html">Java</a></li>
                  <li><a href="../../nodejs-sdk/2.5/start-using-sdk.html">Node.js</a></li>
                  <li><a href="../../php-sdk/2.4/start-using-sdk.html">PHP</a></li>
                  <li><a href="../../python-sdk/2.4/start-using-sdk.html">Python</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../server/5.5/connectors/intro.html">Connectors</a></li>
                  <li><a href="../../elasticsearch-connector/3.0/index.html">Elasticsearch</a></li>
                  <li><a href="../../server/5.5/connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="../../kafka-connector/3.4/index.html">Kafka</a></li>
                  <li><a href="../../spark-connector/2.2/index.html">Spark</a></li>
                  <li><a href="../../talend-connector/index.html">Talend</a></li>
                  <li><a href="../../server/5.5/connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="navbar-item has-dropdown">
            <a class="navbar-link component" href="start-using-sdk.html"><span class="title">C SDK</span> <span class="version">2.8</span></a>
            <div class="navbar-dropdown versions">
              <div class="cols">
                <ul>
                  <li><a class="navbar-item" href="../2.9/document-operations.html">C SDK 2.9</a></li>
                  <li><a class="navbar-item" href="../2.7/document-operations.html">C SDK 2.7</a></li>
                  <li><a class="navbar-item" href="../2.6/document-operations.html">C SDK 2.6</a></li>
                  <li><a class="navbar-item" href="../2.5/c-intro.html">C SDK 2.5</a></li>
                </ul>
                <ul class="related">
                  <li><a class="navbar-item" href="../../dotnet-sdk/2.6/document-operations.html">.NET SDK</a></li>
                  <li><a class="navbar-item" href="../../go-sdk/1.4/document-operations.html">Go SDK</a></li>
                  <li><a class="navbar-item" href="../../java-sdk/2.6/document-operations.html">Java SDK</a></li>
                  <li><a class="navbar-item" href="../../nodejs-sdk/2.5/document-operations.html">Node.js SDK</a></li>
                  <li><a class="navbar-item" href="../../php-sdk/2.4/document-operations.html">PHP SDK</a></li>
                  <li><a class="navbar-item" href="../../python-sdk/2.4/document-operations.html">Python SDK</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Hello World!</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="start-using-sdk.html">Start Using the SDK</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sample-application.html">Sample Application</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sample-app-backend.html">Sample App Backend</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="webui-cli-access.html">Browser and CLI Access</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Users and Security</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sdk-authentication-overview.html">Authentication</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sdk-user-management-overview.html">User Management</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sdk-user-management-example.html">Sample Code</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="encryption.html">Field Level Encryption</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="encrypting-using-sdk.html">Field Level Encryption from the C SDK</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Working with Data</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="core-operations.html">Core Operations</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="document-operations.html">Document Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="subdocument-operations.html">Sub-Document Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="datastructures.html">Data Structures</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="n1ql-query.html">Querying with N1QL</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="n1ql-queries-with-sdk.html">N1QL from the SDK</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="scan-consistency-examples.html">Using Scan Consistency</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="full-text-search-overview.html">Full Text Search</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="full-text-searching-with-sdk.html">Searching from the SDK</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="view-queries-with-sdk.html">MapReduce Views</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="async-programming.html">Asynchronous Programming</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="batching-operations.html">Batching Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="durability.html">Durability</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="concurrent-mutations-cluster.html">Concurrent Document Mutations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sdk-xattr-overview.html">Extended Attributes</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sdk-xattr-example.html">Sample Code</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="nonjson.html">Non-JSON Documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="compression-intro.html">Compression</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Deployment Environments</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-connections.html">Managing Connections</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-clusters.html">Managing Clusters</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="compatibility-versions-features.html">Compatibility</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Settings, Error Handling &amp; Diagnostics</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="client-settings.html">Client Settings</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="handling-error-conditions.html">Handling Errors</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="failure-considerations.html">Failure Considerations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="collecting-information-and-logging.html">Collecting Information</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="threshold-logging.html">Threshold Logging</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="tracing-from-the-sdk.html">Tracing from the SDK</a>
    </span>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-banner">
    <p>A newer version of this documentation is available.</p>
    <a class="btn" href="../2.9/document-operations.html">View Latest</a>
  </div>
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="start-using-sdk.html">C SDK</a></li>
    <li class="crumb">Working with Data</li>
    <li class="crumb"><a href="document-operations.html">Document Operations</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="https://github.com/couchbase/docs-sdk-c/edit/release/2.8/modules/ROOT/pages/document-operations.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">CRUD Document Operations using the C (libcouchbase) SDK with Couchbase Server</h1>
<div class="sect1">
<h2 id="command-structure"><a class="anchor" href="#command-structure"></a>Command Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Operations in the C SDK are scheduled using command structures, all following a similar structure to <code class="api">lcb_CMDBASE</code>.</p>
</div>
<div class="paragraph">
<p>The command structure contains the <em>document ID</em> for the specific item and additional per-command data, as required.
The document ID indicates which document should be accessed and is necessary for any data access operation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Command structures only serve as a way to pass parameters to scheduling operations and are therefore able to live on the stack, and do not need to be allocated using dynamic memory allocation functions such as <code>malloc</code> and <code>free</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All fields in <code class="api">lcb_CMDBASE</code> are <em>overlayed</em> in other command structure types, so that any command type (e.g.
<code class="api">lcb_CMDSTORE</code>) can be seen as a <em>subclass</em>).
This is done by specifying the fields of <code class="api">lcb_CMDBASE</code> as a macro (<code>LCB_CMD_BASE</code>) and expanding the macro at the beginning of each command.</p>
</div>
<div class="paragraph">
<p>The contents of <code class="api">lcb_CMDBASE</code> include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="opt">key</code>: Complex structure containing the ID of the document being accessed.
Should be set using <code class="api">LCB_CMD_SET_KEY</code></p>
</li>
<li>
<p><code class="opt">exptime</code>: The <a href="core-operations.html#expiry" class="page">new expiration time</a> for the document to be set with this operation</p>
</li>
<li>
<p><code class="opt">cas</code>: Check-and-set value used with <a href="concurrent-mutations-cluster.html" class="page">optimistic locking</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Document IDs may be set on command structures using the <code class="api">LCB_CMD_SET_KEY()</code> macro:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDGET gcmd = { 0 }
LCB_CMD_SET_KEY(&amp;gcmd, "hello", 5);
// ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The macro receives the buffer and length of the document ID and sets the appropriate field in the command structure.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The contents of the buffer for the document ID are copied into the library when the operation is scheduled.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The contents of documents in Couchbase are typically JSON, as this format allows other SDKs as well as the query service to interact with the documents.
The C SDK does not come with a JSON encoder; though many exist and vary in their features and performance.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="operation-requests"><a class="anchor" href="#operation-requests"></a>Operation requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All Key-Value operations follow a common pattern in the C SDK.
Because the first step in using a database is actually populating it with data, performing operations will be demonstrated first through storing a document.</p>
</div>
<div class="paragraph">
<p>A document can be created using the <code class="api">lcb_store3()</code> function.
This function accepts an <code class="api">lcb_CMDSTORE</code> structure that contains the document ID and the value that should serve as the document itself, and the <code>operation</code> which places various preconditions storing the document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDSTORE scmd = { 0 };
LCB_CMD_SET_KEY(&amp;scmd, "some_key", strlen("some_key"));
LCB_CMD_SET_VALUE(&amp;scmd, "[1,2,3]", strlen("[1,2,3]");
scmd.operation = LCB_ADD;
lcb_store3(instance, NULL, &amp;scmd);
lcb_wait(instance);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above will store a JSON array using the document ID <code>some_key</code>.
The <code class="api">lcb_store3()</code> function <em>schedules</em> the operation to be performed the next time the library performs I/O, which in this case is at the <code class="api">lcb_wait()</code> function.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The success or failure of an operation is only available within the callback.
Though <code class="api">lcb_store3()</code> (or similar) returns a status code, the status code determines if the command was successfully scheduled, and not if the server successfully executed the command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Operation results</strong></p>
</div>
<div class="paragraph">
<p>All operations receive results in designated callbacks.
The result contains the status of the operation and an optional pointer associating the request with a response.
The result will also contain additional operation-specific operation such as values and subcodes.</p>
</div>
<div class="paragraph">
<p>Callbacks are installed using the <code class="api">lcb_install_callback3</code>, which is supplied with the type of operation and the callback to be invoked whenever a response for such an operation is received:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_install_callback3(instance, LCB_CALLBACK_GET, get_handler);
lcb_install_callback3(instance, LCB_CALLBACK_STORE, store_handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The callback is passed a pointer to an <code class="api">lcb_RESPBASE</code> structure which represents the common in-memory layout of all Couchbase responses.
The response structure can be subclassed to an operation-specific type (for example, <code class="api">lcb_RESPGET</code> or <code class="api">lcb_RESPSTORE</code>) to obtain more information specific to the operation type.
Here is an example of handling a response for <code class="api">lcb_get3()</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void get_handler(lcb_t instance, int cbtype, const lcb_RESPBASE *rb)
{
    if (rb-&gt;rc != LCB_SUCCESS) {
        printf("Error in getting response: %s\n", lcb_strerror(NULL, rb-&gt;rc));
    } else {
        const lcb_RESPGET *resp = (const lcb_RESPGET*)rb;
        printf("Got value: %.*s\n", (int)resp-&gt;nvalue, resp-&gt;value);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-data-in-responses"><a class="anchor" href="#user-data-in-responses"></a>User data in responses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In most cases, you will need a way to associate a response with user (application) data; this is necessary, for example, if you wish to actually make use of the value or status received in the response.
The SDK allows you to pass an application pointer in the request and read it in the response; this pointer is known as a <code>cookie</code> and is opaque to the SDK and is thus never dereferenced by it; here&#8217;s an example of the above handler making use of a <code>cookie</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">typedef struct {
    const char *value;
    size_t nvalue;
    lcb_error_t status;
} GetInfo;

void get_handler(lcb_t instance, int cbtype, const lcb_RESPBASE *rb)
{
    GetInfo *gi = rb-&gt;cookie;
    gi-&gt;status = rb-&gt;rc;
    if (rb-&gt;rc == LCB_SUCCESS) {
        const lcb_RESPGET *resp = (const lcb_RESPGET*)rb;
        gi-&gt;value = malloc(resp-&gt;nvalue);
        gi-&gt;nvalue = resp-&gt;nvalue;
        memcpy(gi-&gt;value, resp-&gt;value, resp-&gt;nvalue);
    }
}

GetInfo* get_item(lcb_t instance, const char *key)
{
    lcb_CMDGET gcmd = { 0 };
    GetInfo *retval = calloc(1, sizeof *retval);
    LCB_CMD_SET_KEY(&amp;gcmd, key, strlen(key));
    lcb_get3(instance, retval, &amp;gcmd);
    lcb_wait(instance);
    return retval;
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>cookie</code> does not have any memory requirements.
It can be automatic memory, dynamic memory, or <code>NULL</code>, depending on application constraints.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The SDK owns the memory of the response structure and all pointers it contains.
Copy out any relevant fields (such as the value or status) if access to them are needed beyond the scope of the callback.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generic-response-handling"><a class="anchor" href="#generic-response-handling"></a>Generic response handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For many types of operations, simple, generic handling can suffice: this means simply checking whether the operation succeeded or failed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void generic_handler(lcb_t instance, int cbtype, const lcb_RESPBASE *resp) {
    printf("Operation %s: %s\n", lcb_strcbtype(cbtype), lcb_strerror(NULL, resp-&gt;rc);
    if (resp-&gt;rc == LCB_SUCCESS) {
        handle_success(cbtype, resp);
    } else {
        handle_failure(cbtype, resp);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example shows a callback function which prints the type and status operation to the screen and then invokes either the application-defined <code>handle_success()</code> or <code>handle_failure()</code> function depending on whether or not the operation succeeded.
The second argument to the callback, <code class="var">cbtype</code>, contains the actual <code>LCB_CALLBACK_*</code> type being invoked, so that the same callback can be installed for multiple operation types; for example using the same callback for <code>LCB_CALLBACK_STORE</code> and <code>LCB_CALLBACK_REMOVE</code>.</p>
</div>
<div class="paragraph">
<p>You can install a default callback which may be invoked if no operation-specific callback has been installed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_install_callback3(instance, LCB_CALLBACK_DEFAULT, generic_handler);
lcb_install_callback3(instance, LCB_CALLBACK_GET, get_handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above block, the <code>generic_handler</code> is installed as the default callback, and the <code>get_handler</code> is the callback for <code class="api">lcb_get3()</code> operations: All operations except <code class="api">lcb_get3()</code> (<code>LCB_CALLBACK_GET</code>) will be passed to the default callback.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="storing-documents"><a class="anchor" href="#storing-documents"></a>Storing documents</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This describes <em>full-document</em> mutation functionality which alters the <em>entire</em> contents of the document.
See <a href="subdocument-operations.html" class="page">sub-document mutations</a> for when you only need to modify <em>parts</em> of a document.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Documents can be stored using the <code class="api">lcb_store3</code> function, and populate it with the document ID (<code>LCB_CMD_SET_KEY(&amp;cmd, "key", strlen("key"));</code>), value (<code>LCB_CMD_SET_VALUE(&amp;cmd, "value", strlen("value"))</code>) and the <code>operation</code> (<code>cmd.operation = LCB_SET</code>).</p>
</div>
<div class="paragraph">
<p>The <code>operation</code> dictates conditions (or lack thereof) which must be satisfied before the document may be stored.
Possible values include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="opt">LCB_SET</code>: Unconditionally store the item, and don&#8217;t set any conditions.
This option is also known as <em>upsert</em>.
If an existing document exists with the same ID, it is overwritten with the contents (value) of the new operation.
If no document exists with the same ID, it is created and set to the value of the new operation.</p>
</li>
<li>
<p><code class="opt">LCB_ADD</code>: Only store the item if no other document exists with the given ID.
If an existing document is precent with the same document ID then the operation will fail with <code>LCB_KEY_EEXISTS</code>.</p>
</li>
<li>
<p><code class="opt">LCB_REPLACE</code>: Only store the item if an existing document already exists with the same ID.
In this case the existing document&#8217;s contents are replaced with the new contents.
If no document already exists the operation will fail with <code>LCB_KEY_ENOENT</code></p>
</li>
<li>
<p><code class="opt">LCB_APPEND</code>, <code class="opt">LCB_PREPEND</code>: These options allow <a href="core-operations.html#devguide_kvcore_append_prepend_generic" class="page">raw byte concatenation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also add concurrency control and document expiration when using <code class="api">lcb_store3()</code></p>
</div>
<div class="paragraph">
<p>You can install a callback to receive the status of <code class="api">lcb_store3</code> operations using <code>lcb_install_callback3(instance, LCB_CALLBACK_STORE, store_handler)</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Fully-compilable and executable example: <a href="https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/updating.c" target="_blank" rel="noopener">Storing documents using C SDK</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a store operation is successful, you may check the operation&#8217;s <a href="durability.html" class="page">durability</a>.
In the C SDK this is done using the distinct <code class="api">lcb_endure3_ctxnew</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void store_handler(lcb_t instance, int cbtype, const lcb_RESPBASE *resp) {
    if (resp-&gt;rc != LCB_SUCCESS) {
        return;
    }
    lcb_MULTICMD_CTX *ctx;
    lcb_durability_opts_t opts = { 0 };
    opts.version = 0;
    opts.v.v0.persist_to = -1;
    opts.v.v0.replicate_to = -1;
    opts.v.v0.cap_max = 1;
    lcb_error_t err_out;
    mctx = lcb_endure3_ctxnew(instance, &amp;opts, &amp;err_out);
    lcb_CMDENDURE dcmd = { 0 };
    LCB_CMD_SET_KEY(&amp;dcmd, resp-&gt;key, resp-&gt;nkey);
    dcmd.cas = resp-&gt;cas;
    mctx-&gt;addcmd(dcmd);
    mctx-&gt;done(mctx, NULL);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Setting the <code class="var">persist_to</code> and <code class="var">replicate_to</code> fields to <code>-1</code> and the <code class="var">cap_max</code> to a true value instructs the client to use the maximum-available durability</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Fully-compilable and executable example demonstrating durability requirements in the C SDK: <a href="https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/durability.cc" class="bare" target="_blank" rel="noopener">https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/durability.cc</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="retrieving-documents"><a class="anchor" href="#retrieving-documents"></a>Retrieving Documents</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This describes the <em>full-document</em> retrieval functionality which retrieves the <em>entire</em> document.
See <a href="subdocument-operations.html" class="page">sub-document</a> retrievals for when you only need to retrieve <em>parts</em> of a document.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Documents can be retrieved using the <code class="api">lcb_get3</code> function.
The server will attempt to fetch the document if it exists:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDGET gcmd = { 0 };
LCB_CMD_SET_KEY(&amp;gcmd, "key", 3);
lcb_get3(instance, NULL, &amp;gcmd);
lcb_wait(instance);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Fully-compilable and executable example: <a href="https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/retrieving.cc" class="bare" target="_blank" rel="noopener">https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/retrieving.cc</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The actual contents of the document will be available in the response structure, which is passed to the callback you installed via <code>lcb_install_callback3(instance, LCB_CALLBACK_GET, get_handler)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void get_handler(lcb_t instance, int cbtype, const lcb_RESPBASE *rb)
{
    const lcb_RESPGET *resp = (const lcb_RESPGET *)rb;
    if (resp-&gt;rc == LCB_SUCCESS) {
        printf("Got value: %.*s\n", (int)resp-&gt;nvalue, resp-&gt;value));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>value</code> field is a buffer of bytes representing the contents of the document.
This can be a JSON string or non-JSON data (see <a href="nonjson.html" class="page">non-JSON documents</a> for more information on how to distinguish between them).
The <code>value</code> field actually points directly into the library&#8217;s network buffers.</p>
</div>
<div class="paragraph">
<p>When retrieving a document, you can also specify the <a href="core-operations.html#expiry" class="page">document expiration</a> (<code class="api">lcb_CMDGET::exptime</code>) and settings for <a href="concurrent-mutations-cluster.html" class="page">pessimistic locking</a> (<code class="api">lcb_CMDGET::lock</code>).
Refer to the API documentation for specific usage details.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The memory of the value is owned by the library.</p>
</div>
<div class="paragraph">
<p>If the contents of the value are required outside of the callback, ensure that it is copied out.
You may also wish to decode the value itself within the callback, eliminating the need of copying the original value.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removing-documents"><a class="anchor" href="#removing-documents"></a>Removing documents</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This describes the functionality of removing an <em>entire document</em>.
See <a href="subdocument-operations.html" class="page">sub-document deletion</a> on removing only <em>parts</em> of a document.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Documents can be removed manually by using the <code class="api">lcb_remove3</code> function.
An <code class="api">lcb_CMDREMOVE</code> structure should be populated with the ID of the document you wish to remove.
The command is passed to the <code class="api">lcb_remove3()</code> function which schedules the document to be removed.
When the document has been removed (or a negative reply from the server is received), the callback installed using <code>lcb_install_callback3(instance, LCB_CALLBACK_REMOVE, cb)</code> is invoked:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDREMOVE cmd = { 0 };
LCB_CMD_SET_KEY(&amp;cmd, "key", 3);
lcb_remove3(instance, NULL, &amp;cmd);
lcb_wait(instance);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void remove_handler(lcb_t instance, int cbtype, const lcb_RESPBASE *rb) {
    if (rb-&gt;rc == LCB_SUCCESS) {
        printf("Removed successfully");
    } else if (rb-&gt;rc == LCB_KEY_ENOENT) {
        printf("Item did not exist!");
    } else {
        printf("Other error: %.*s\n", lcb_strerror(NULL, rb-&gt;rc));
    }
}
lcb_install_callback3(instance, LCB_CALLBACK_REMOVE, remove_handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in the above example the simple "base" <code class="api">lcb_RESPBASE</code> is utilized as we do not use any special response fields specific to the removal operation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="modifying-expiration"><a class="anchor" href="#modifying-expiration"></a>Modifying expiration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>lcb_CMDTOUCH cmd = { 0 };
LCB_CMD_SET_KEY(&amp;cmd, "key", 3);
cmd.exptime = 300;
lcb_touch3(instance, NULL, &amp;cmd);
lcb_wait(instance);</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See a fully compilable and executable example in the C SDK demonstrating expiration semantics and functionality: <a href="https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/expiration.cc" class="bare" target="_blank" rel="noopener">https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/expiration.cc</a>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The expiry value is specified as a relative offset (in seconds) from the time the server receives the operation.
The expiry value can also be specified as an absolute Unix timestamp.
The server will assume that any value larger than <code>2592000</code> (i.e.
one month, in seconds) is a Unix timestamp and anything lower is a relative offset.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_install_callback3(instance, LCB_CALLBACK_TOUCH, touch_handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use the <code>generic_handler</code> defined above.
There is no special response data for <code class="api">lcb_touch3</code>.</p>
</div>
<div class="paragraph">
<p>Expiration can also be set with <code class="api">lcb_get3</code>, sometimes known as a <em>get-and-touch</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDGET cmd = { 0 };
LCB_CMD_SET_KEY(&amp;cmd, "key", 3);
cmd.exptime = 300;
lcb_get3(instance, NULL, &amp;cmd);
lcb_wait(instance);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And with <code class="api">lcb_store3()</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDSTORE cmd = { 0 };
LCB_CMD_SET_KEY(&amp;cmd, "key", 3);
LCB_CMD_SET_VALUE(&amp;cmd, "value", 5);
cmd.exptime = 300;
cmd.operation = LCB_SET;
lcb_wait(instance);</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">When using <code class="api">lcb_store3()</code> the server will clear the expiry value if none is specified.</div>
Ensure that the desired expiration time is <em>always</em> set in the <code class="api">lcb_CMDSTORE</code> command when the mode is one of <code class="opt">LCB_SET</code>, <code class="opt">LCB_ADD</code>, or <code class="opt">LCB_REPLACE</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-json-documents"><a class="anchor" href="#non-json-documents"></a>Non-JSON Documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At the SDK and API level, there is no distinction between JSON and non-JSON documents.
For the SDK, any sequence of bytes is a valid document.</p>
</div>
<div class="paragraph">
<p>If you wish to interact with other SDKs and are using non-JSON document formats, refer to the Flags section.
You will need to set the appropriate format flags in the <code class="api">lcb_CMDSTORE::flags</code> field in order for other SDK implementations to decode the data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">lcb_CMDSTORE cmd = { 0 };
const uint8_t bb[] = { 0x34, 0x10, 0x00, 0x94, 0xf5 };
LCB_CMD_SET_KEY(&amp;cmd, "id", 2);
LCB_CMD_SET_VALUE(&amp;cmd, bb, sizeof bb);
cmd.operation = LCB_SET;
cmd.flags = 0x3000000 /* FMT_RAW */</code></pre>
</div>
</div>
<div class="paragraph">
<p>Likewise, when reading data stored by other SDKs, you can check the <code class="api">lcb_RESPGET::itmflags</code> to determine the proper value format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">void decode_data(const lcb_RESPGET *resp) {
    uint32_t flags = resp-&gt;itmflags &gt;&gt; 0x24;
    if (flags == 0x02) {
        decode_json(resp-&gt;value, resp-&gt;nvalue);
    } else if (flags == 0x04) {
        decode_utf8(resp-&gt;value, resp-&gt;nvalue);
    } else if (flags == 0x03) {
        decode_raw(resp-&gt;value, resp-&gt;nvalue);
    } else if (flags == 0x01) {
        printf("Cannot decode foreign SDK format!\n");
    } else {
        printf("Unknown format: 0x%x\n", resp-&gt;itmflags);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="batching-operations"><a class="anchor" href="#batching-operations"></a>Batching Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can schedule many operations at once with the C SDK.
When the SDK will enter the I/O-wait phase (<code class="api">lcb_wait</code> or implicit event loop return) all the scheduled operations will be efficiently submitted to the server with as little latency and fragmentation as possible.</p>
</div>
<div class="paragraph">
<p>Scheduling multiple operations with the C SDK typically requires no special syntax.
Simply perform multiple scheduling calls</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">std::map&lt;std::string,std::string&gt; to_store;
lcb_CMDSTORE cmd = { 0 };
scmd.operation = LCB_SET;

for (auto it = to_store.begin(); it != to_store.end(); ++it) {
    LCB_CMD_SET_KEY(&amp;cmd, it-&gt;first.c_str(), it-&gt;first.size());
    LCB_CMD_SET_VALUE(&amp;cmd, it-&gt;second.c_str(), it-&gt;second.size());
    lcb_store3(instance, NULL, &amp;cmd);
}
lcb_wait(instance);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See a fully compilable and executable example showing how operations may be batched in the C SDK: <a href="https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/bulk-get.cc" class="bare" target="_blank" rel="noopener">https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/bulk-get.cc</a> and <a href="https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/bulk-store.cc" class="bare" target="_blank" rel="noopener">https://github.com/couchbaselabs/devguide-examples/blob/server-4.5/c/bulk-store.cc</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can schedule different <em>types</em> of operations as well, for example an <code class="api">lcb_get3</code> followed by an <code class="api">lcb_store3</code>.</p>
</div>
<div class="paragraph">
<p>Some scheduling commands return an <code class="api">lcb_MULTICMD_CTX</code>.
This is a special context used to batch multiple logical operations into a single protocol-level packet.
For these operations the packet format allows for multiple operations, and thus placing multiple operations in a single protocol packet is more efficient bandwidth-wise than sending one packet per operation.
Note that this is the exception and that most commands do not have any special <em>multi</em> packet format.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">2440 West El Camino Real
Mountain View, CA 94040
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://training.couchbase.com" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://training.couchbase.com/online" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/+CouchbaseServer" class="icon">
              <svg width="50px" height="50px" viewBox="36.72 225.573 542.326 343.67"><path d="m209.02 363.05v68.732h93.212c-15.065 44.252-37.662 68.732-93.212 68.732-56.492 0-100.74-46.135-100.74-102.63s44.252-102.63 100.74-102.63c30.129 0 48.96 10.357 66.849 25.422 14.123-14.123 13.182-16.006 48.96-49.902-31.071-28.246-71.557-45.194-115.81-45.194-95.096-0.94-172.3 76.266-172.3 171.36s77.206 172.3 172.3 172.3c142.17 0 177.01-124.28 165.71-206.2-33.896-1e-3 -165.71-1e-3 -165.71-1e-3zm310.71 3.766v-59.317h-42.369v59.317h-61.2v42.369h61.2v61.2h42.369v-61.2h59.317v-42.369h-59.317z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2018 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
