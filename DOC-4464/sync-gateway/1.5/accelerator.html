<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Accelerator | Couchbase Docs (Staging)</title>
    <link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-4464/sync-gateway/2.5/index.html">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="sync-gateway">
    <meta name="dcterms.identifier" content="1.5">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://simon-dew.github.io/docs-site/DOC-4464">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="../../server/6.0/introduction/intro.html">Server</a></li>
                  <li><a href="../../server/6.0/n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../server/6.0/fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../server/6.0/analytics/introduction.html">Analytics</a></li>
                  <li><a href="../../server/6.0/eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="../../operator/1.2/overview.html">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="../../couchbase-lite/2.5/index.html">Lite</a></li>
                  <li><a href="../2.5/index.html">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../server/6.0/sdk/overview.html">SDKs</a></li>
                  <li><a href="../../c-sdk/2.10/start-using-sdk.html">C</a></li>
                  <li><a href="../../dotnet-sdk/2.7/start-using-sdk.html">.NET</a></li>
                  <li><a href="../../go-sdk/1.5/start-using-sdk.html">Go</a></li>
                  <li><a href="../../java-sdk/2.7/start-using-sdk.html">Java</a></li>
                  <li><a href="../../nodejs-sdk/2.6/start-using-sdk.html">Node.js</a></li>
                  <li><a href="../../php-sdk/2.6/start-using-sdk.html">PHP</a></li>
                  <li><a href="../../python-sdk/2.5/start-using-sdk.html">Python</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../server/6.0/connectors/intro.html">Connectors</a></li>
                  <li><a href="../../elasticsearch-connector/4.0/index.html">Elasticsearch</a></li>
                  <li><a href="../../server/6.0/connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="../../kafka-connector/3.4/index.html">Kafka</a></li>
                  <li><a href="../../spark-connector/2.2/index.html">Spark</a></li>
                  <li><a href="../../talend-connector/index.html">Talend</a></li>
                  <li><a href="../../server/6.0/connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="navbar-item has-dropdown">
            <a class="navbar-link component" href="index.html"><span class="title">Sync Gateway</span> <span class="version">1.5</span></a>
            <div class="navbar-dropdown versions">
              <div class="cols">
                <ul>
                  <li><a class="navbar-item" href="../2.5/index.html">Sync Gateway 2.5</a></li>
                  <li><a class="navbar-item" href="../2.1/index.html">Sync Gateway 2.1</a></li>
                  <li><a class="navbar-item" href="../2.0/index.html">Sync Gateway 2.0</a></li>
                  <li><a class="navbar-item" href="../1.4/accelerator.html">Sync Gateway 1.4</a></li>
                  <li><a class="navbar-item" href="../1.3/accelerator.html">Sync Gateway 1.3</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Introduction</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="index.html">What&#8217;s New</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="getting-started.html">Getting Started</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Access Control</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="authentication.html">Authentication</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="authorizing-users.html">Authorizing Users</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="data-routing.html">Data Routing</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sync-function-api.html">Sync Function API</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Operations</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="config-properties.html">Configuration File</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="command-line-options.html">CLI</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="shared-bucket-access.html">Shared Bucket Access</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="server-integration.html">Webhooks and Changes Feed</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="resolving-conflicts.html">Resolving Conflicts</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="integrating-external-stores.html">Integrating External Stores</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="running-replications.html">Running Replications</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="rest-api-client.html">REST API Client</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sgcollect-info.html">SGCollect Info</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Security</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="deployment-considerations.html">Deployment Considerations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="configuring-ssl.html">Configuring SSL</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Deployment</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="load-balancer.html">NGINX</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="database-offline.html">Taking Databases Offline and Online</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="os-level-tuning.html">OS Level Tuning</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="accelerator.html">Accelerator</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">API References</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="rest-api.html">Public REST API</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="admin-rest-api.html">Admin REST API</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Release Notes</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="release-notes.html">Release Notes</a>
    </span>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-banner">
    <p>A newer version of this documentation is available.</p>
    <a class="btn" href="../2.5/index.html">View Latest</a>
  </div>
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Sync Gateway</a></li>
    <li class="crumb">Deployment</li>
    <li class="crumb"><a href="accelerator.html">Accelerator</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="https://github.com/couchbaselabs/docs-sync-gateway/edit/release/1.5/modules/ROOT/pages/accelerator.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">Accelerator</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this guide, you will learn how to scale a Couchbase Mobile deployment with Sync Gateway Accelerator.
Before going into the details, it&#8217;s important to identify if you wish to scale the <strong>read</strong> or <strong>write</strong> throughput of your application&#8217;s back-end infrastructure.</p>
</div>
<div class="paragraph">
<p>As a distributed database system, Sync Gateway and Couchbase Server can already be scaled horizontally.
Horizontal scaling is achieved by adding more nodes behind a load balancer which distributes the traffic evenly between each one (see the <a href="../../training/deploy/install/index.html">Install,
  Upgrade, Scale</a> lesson). This method of scaling is particularly well suited for a scenario with a large amount of <strong>read traffic</strong>.
On the other hand, it wouldn&#8217;t suit a scenario where only the <strong>write
  traffic</strong> increases.</p>
</div>
<div class="paragraph">
<p>Sync Gateway Accelerator is designed to cover the second aspect of highly scalable server infrastructure for your application, <strong>write traffic</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-does-it-work"><a class="anchor" href="#how-does-it-work"></a>How does it work?</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="changes-feed"><a class="anchor" href="#changes-feed"></a>Changes Feed</h3>
<div class="paragraph">
<p>The changes feed is at the heart of Couchbase Mobile replication - it provides clients an ordered mutation feed of changes, restricted to the set of documents the user has access to.
Clients can disconnect and reconnect, resuming their changes feed where they left off.
When a user is granted access to additional documents, those documents are back filled through the changes feed.</p>
</div>
</div>
<div class="sect2">
<h3 id="sync-gateway-alone"><a class="anchor" href="#sync-gateway-alone"></a>Sync Gateway Alone</h3>
<div class="paragraph">
<p>When Sync Gateway is running in an environment without Sync Gateway Accelerator, each Sync Gateway node listens to the full server mutation feed (DCP or TAP), and builds an in-memory cache of recent changes.
Sync Gateway processes the security metadata (channel membership, access grants) for each document as it arrives over the feed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/channel-access-accelerator.png" alt="channel access accelerator">
</div>
</div>
<div class="paragraph">
<p>To optimize this process, Sync Gateway maintains an in-memory cache of recent changes in each channel (step 3) which is used to serve the <code>GET/POST /{db}/_changes</code> requests (step 4). When a client requests changes, Sync Gateway first attempts to serve the request from the in-memory channel cache.
If the cache isn&#8217;t sufficient, Sync Gateway issues a view query to Couchbase Server to retrieve the non-cached result for the channel(s).</p>
</div>
<div class="paragraph">
<p>So as write throughput increases, the cache for a particular channel is invalidated more frequently and every Sync Gateway node needs to issue a view query to update the in-memory cache and serve changes feed requests.</p>
</div>
</div>
<div class="sect2">
<h3 id="sync-gateway-accelerator"><a class="anchor" href="#sync-gateway-accelerator"></a>Sync Gateway Accelerator</h3>
<div class="paragraph">
<p>The goal of Sync Gateway Accelerator is to move the mutation feed processing off Sync Gateway nodes, and instead distribute this work across a cluster of Sync Gateway Accelerator nodes.
In a cluster with Sync Gateway and Sync Gateway Accelerator deployed, the server DCP feed is sharded across the Accelerator nodes.
Each accelerator node processes a subset of the DCP feed, and persists the set of documents per channel to a backing bucket (the 'channel index' bucket). When a client requests changes from a Sync Gateway node, that node retrieves the changes from the channel index bucket.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/accelerator-comparison.png" alt="accelerator comparison">
</div>
</div>
<div class="paragraph">
<p>In this configuration, the Sync Gateway nodes support your applications (Web, Mobile, IoT) as normal, while Sync Gateway Accelerator handles the channel indexing.
Separating the two workloads in distinct entities makes it possible to scale both Sync Gateway and Sync Gateway Accelerator to handle much larger write throughput.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example"><a class="anchor" href="#example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prior to installing Sync Gateway Accelerator you must have a running instance of Sync Gateway persisting documents to Couchbase Server.
In this guide, we will assume the following components have already been configured, and for simplicity&#8217;s sake are all running on the same host.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Couchbase Server cluster is up and running with a bucket called "data_bucket". A bucket cannot be renamed so if you already have a bucket with a different name that&#8217;s ok. You&#8217;ll have to replace it with your bucket name where applicable in the following steps of this section.</p>
<div class="imageblock">
<div class="content">
<img src="_images/sg-accel-data-bucket.png" alt="sg accel data bucket">
</div>
</div>
<div class="paragraph">
<p>As you can see on this image, the bucket contains a few thousand documents that were added through the Sync Gateway REST API.</p>
</div>
</li>
<li>
<p>A Sync Gateway instance persisting the documents to the data bucket with the following configuration file.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">{
  "log": ["HTTP+"],
  "databases": {
    "app_name": {
      "server": "http://localhost:8091",
      "bucket": "data_bucket"
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Again, if you are following this guide with an existing system already running, your configuration may differ slightly.</p>
</div>
<div class="paragraph">
<p>Note that Sync Gateway Accelerator doesn&#8217;t provide further scalability to deployments that use bucket shadowing.
Bucket shadowing is being deprecated in 1.4 and will be removed in an upcoming version of Couchbase Mobile (2.x).</p>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="sync-gateway-accelerator-2"><a class="anchor" href="#sync-gateway-accelerator-2"></a>Sync Gateway Accelerator</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download Sync Gateway Accelerator from the <a href="http://www.couchbase.com/nosql-databases/downloads#couchbase-mobile">Couchbase Downloads page</a>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/downloads-add-ons.png" alt="downloads add ons">
</div>
</div>
</li>
<li>
<p>Create a new bucket called "channel_bucket" in the Couchbase Server cluster.</p>
<div class="imageblock">
<div class="content">
<img src="_images/sg-accel-create-bucket.png" alt="sg accel create bucket">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/sg-accel-channel-bucket.png" alt="sg accel channel bucket">
</div>
</div>
</li>
<li>
<p>Next, create a new file called <strong>accel-config.json</strong>. That&#8217;s where you must specify the location of the channel and data buckets.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">{
  "log": ["HTTP+"],
  "adminInterface": ":4986",
  "cluster_config": {
    "server": "http://localhost:8091",
    "bucket": "data_bucket",
    "data_dir": "."
  },
  "databases": {
    "app_name": {
      "server": "http://localhost:8091",
      "bucket": "data_bucket",
      "channel_index": {
        "writer": true,
        "server": "http://localhost:8091",
        "bucket": "channel_bucket"
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are a few points to note here:
<strong> The <code>cluster_config</code> section is defined at the root level. This is used to manage cluster communication. It specifies the bucket that should be used to store shared Sync Gateway Accelerator cluster information (server, bucket), and a local location to write runtime configuration files (<code>data_dir</code>). It is possible to reuse the existing data bucket in the <code>cluster_config</code> bucket (the one used by Sync Gateway alone).
</strong> The default listening port for Sync Gateway Accelerator is <code>4985</code>. Here, we&#8217;re setting it to <code>4986</code> to avoid using a port that conflicts with Sync Gateway if they are both started on the same node.
** The <code>"writer": true</code> property specifies that this Accelerator instance must persist the channel index to the Couchbase Server channel index bucket.</p>
</div>
</li>
<li>
<p>Start the Sync Gateway Accelerator node.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">~/Downloads/couchbase-sg-accel/bin/sg_accel accel-config.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the document count is now increasing in <code>channel_bucket</code> because the channel index data is being stored there.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/channel-bucket.png" alt="channel bucket">
</div>
</div>
<div class="paragraph">
<p>To complete the installation, the Sync Gateway configuration file must be updated to reflect the new location of the channel index (i.e <code>channel_bucket</code>).</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="sync-gateway"><a class="anchor" href="#sync-gateway"></a>Sync Gateway</h3>
<div class="paragraph">
<p>Follow the steps below to update the Sync Gateway configuration file.
It must be updated for every instance that was previously running without Sync Gateway Accelerator.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update your <strong>sync-gateway-config.json</strong> with the following.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">{
  "log": ["HTTP+"],
  "databases": {
    "app_name": {
      "server": "http://localhost:8091",
      "bucket": "data_bucket",
      "channel_index": {
        "server": "http://localhost:8091",
        "bucket": "channel_bucket"
      }
    }
  }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Restart Sync Gateway with the updated configuration file.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">~/Downloads/couchbase-sync-gateway/bin/sync_gateway sync-gateway-config.json</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The installation of Sync Gateway with Accelerator is now complete.
Couchbase Lite clients can continue replicating to the same endpoint as if nothing changed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="service-installers"><a class="anchor" href="#service-installers"></a>Service Installers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can download Sync Gateway Accelerator from the <a href="http://www.couchbase.com/nosql-databases/downloads#couchbase-mobile">Couchbase
    download page</a> or download it directly to a Linux system by using the <code>wget</code> or <code>curl</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget {{ site.sg_download_link }}{{ site.sg_accel_package_name }}.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>All download links follow the naming convention:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">couchbase-sg-accel-community_&lt;VERSION&gt;-&lt;BUILDNUM&gt;_&lt;ARCHITECTURE&gt;.&lt;EXT&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VERSION</code> is the release version.</p>
</li>
<li>
<p><code>BUILDNUM</code> is the specific build number.</p>
</li>
<li>
<p><code>ARCHITECTURE</code> is the target architecture of the installer.</p>
</li>
<li>
<p><code>EXT</code> is the file extension.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you have downloaded Sync Gateway Accelerator on the distribution of your choice you are ready to install and start it as a service.</p>
</div>
<div class="sect2">
<h3 id="ubuntu"><a class="anchor" href="#ubuntu"></a>Ubuntu</h3>
<div class="paragraph">
<p>Install sg_accel with the dpkg package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">dpkg -i {{ site.sg_accel_package_name }}.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sg_accel will be running as a service.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">service sg_accel start
service sg_accel stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sg_accel</code>.</p>
</div>
<div class="quoteblock">
<blockquote>
<strong>Note:</strong> You can also run the <strong>sg_accel</strong> binary directly from the command line.
The binary is installed at <code>/opt/couchbase-sg-accel/bin/sg_accel</code>.
</blockquote>
</div>
</div>
<div class="sect2">
<h3 id="red-hat-centos"><a class="anchor" href="#red-hat-centos"></a>Red Hat/CentOS</h3>
<div class="paragraph">
<p>Install sync_gateway with the rpm package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">rpm -i {{ site.sg_accel_package_name }}.rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sg_accel will be running as a service.</p>
</div>
<div class="paragraph">
<p>On CentOS 5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">service sg_accel start
service sg_accel stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>On CentOS 6:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">initctl start sg_accel
initctl stop sg_accel</code></pre>
</div>
</div>
<div class="paragraph">
<p>On CentOS 7:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl start sg_accel
systemctl stop sg_accel</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sg_accel</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="debian"><a class="anchor" href="#debian"></a>Debian</h3>
<div class="paragraph">
<p>Install sg_accel with the dpkg package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">dpkg -i {{ site.sg_accel_package_name }}.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl start sg_accel
systemctl stop sg_accel</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sg_accel</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="windows"><a class="anchor" href="#windows"></a>Windows</h3>
<div class="paragraph">
<p>Install sync_gateway on Windows by running the .exe file from the desktop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">{{ site.sg_accel_package_name }}.exe</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sg_accel will be installed as a service but not running.</p>
</div>
<div class="paragraph">
<p>Use the <strong>Control Panel -&#8594; Admin Tools
      -&#8594; Services</strong> to stop/start the service.</p>
</div>
<div class="paragraph">
<p>The config file and logs are located in ``.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>Configuration Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A configuration file determines the runtime behavior of Sync Gateway Accelerator.
Using a configuration file is the recommended approach for configuring Sync Gateway Accelerator, because you can provide values for all configuration properties.</p>
</div>
<div class="paragraph">
<p>When specifying a configuration file, the command to run Sync Gateway Accelerator is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>$ sg_accel accel-config.json</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference-2"><a class="anchor" href="#configuration-reference-2"></a>Configuration Reference</h2>
<div class="sectionbody">
<div id="swagger-ui"></div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">3250 Olcott Street
Santa Clara, CA 95054
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://learn.couchbase.com/store" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/+CouchbaseServer" class="icon">
              <svg width="50px" height="50px" viewBox="36.72 225.573 542.326 343.67"><path d="m209.02 363.05v68.732h93.212c-15.065 44.252-37.662 68.732-93.212 68.732-56.492 0-100.74-46.135-100.74-102.63s44.252-102.63 100.74-102.63c30.129 0 48.96 10.357 66.849 25.422 14.123-14.123 13.182-16.006 48.96-49.902-31.071-28.246-71.557-45.194-115.81-45.194-95.096-0.94-172.3 76.266-172.3 171.36s77.206 172.3 172.3 172.3c142.17 0 177.01-124.28 165.71-206.2-33.896-1e-3 -165.71-1e-3 -165.71-1e-3zm310.71 3.766v-59.317h-42.369v59.317h-61.2v42.369h61.2v61.2h42.369v-61.2h59.317v-42.369h-59.317z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2018 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<link rel="stylesheet" href="https://couchbase-docs.s3.amazonaws.com/assets/json-config-ui/json-config-ui-vnext.css">
<script src="https://couchbase-docs.s3.amazonaws.com/assets/json-config-ui/json-config-ui-bundle-vnext.js"></script>
<script>
;(function (url, version) {
  JSONConfigUIBundle({
    specs: [{ version: version, url: url }],
    current: version
  })
})('https://couchbase-docs.s3.amazonaws.com/mobile/1.5/configs/sg-accel.json?v=1', '1.5')
</script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
