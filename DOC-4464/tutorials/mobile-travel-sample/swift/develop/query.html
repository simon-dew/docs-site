<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Query | Couchbase Docs (Staging)</title>
    <link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-4464/tutorials/mobile-travel-sample/swift/develop/query.html">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="tutorials">
    <meta name="dcterms.identifier" content="master">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://simon-dew.github.io/docs-site/DOC-4464">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="../../../../server/6.0/introduction/intro.html">Server</a></li>
                  <li><a href="../../../../server/6.0/n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../../../server/6.0/fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../../../server/6.0/analytics/introduction.html">Analytics</a></li>
                  <li><a href="../../../../server/6.0/eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="../../../../operator/1.2/overview.html">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="../../../../couchbase-lite/2.5/index.html">Lite</a></li>
                  <li><a href="../../../../sync-gateway/2.5/index.html">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../../../server/6.0/sdk/overview.html">SDKs</a></li>
                  <li><a href="../../../../c-sdk/2.10/start-using-sdk.html">C</a></li>
                  <li><a href="../../../../dotnet-sdk/2.7/start-using-sdk.html">.NET</a></li>
                  <li><a href="../../../../go-sdk/1.5/start-using-sdk.html">Go</a></li>
                  <li><a href="../../../../java-sdk/2.7/start-using-sdk.html">Java</a></li>
                  <li><a href="../../../../nodejs-sdk/2.6/start-using-sdk.html">Node.js</a></li>
                  <li><a href="../../../../php-sdk/2.6/start-using-sdk.html">PHP</a></li>
                  <li><a href="../../../../python-sdk/2.5/start-using-sdk.html">Python</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../../../server/6.0/connectors/intro.html">Connectors</a></li>
                  <li><a href="../../../../elasticsearch-connector/4.0/index.html">Elasticsearch</a></li>
                  <li><a href="../../../../server/6.0/connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="../../../../kafka-connector/3.4/index.html">Kafka</a></li>
                  <li><a href="../../../../spark-connector/2.2/index.html">Spark</a></li>
                  <li><a href="../../../../talend-connector/index.html">Talend</a></li>
                  <li><a href="../../../../server/6.0/connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <a class="navbar-item component" href="../../../index.html"><span class="title">Session Storage with Couchbase</span></a>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Couchbase Operator</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../../../../operator/1.2/demo.html">Deployment Tutorial</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Travel Sample</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../../../../nodejs-sdk/2.6/sample-application.html">Node.js</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../../../../c-sdk/2.10/sample-application.html">C</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mobile Travel Sample</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../../introduction.html">Introduction</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../installation/index.html">Backend Installation</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../installation/manual.html">Manual</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../installation/docker.html">Docker (Local)</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../installation/cloud.html">Cloud (RightScale)</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Swift</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../installation/travel-mobile-app.html">Installation</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../design/data-modeling.html">Data Modeling</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="mvp-architecture.html">MVP Architecture</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="the-basics.html">The Basics</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="security.html">Security</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="sync.html">Sync</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="pre-built-database.html">Pre-built database</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="query.html">Query</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="full-text-search.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Android</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/installation/travel-mobile-app.html">Installation</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/design/data-modeling.html">Data Modeling</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/mvp-architecture.html">MVP Architecture</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/the-basics.html">The Basics</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/security.html">Security</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/sync.html">Sync</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/pre-built-database.html">Pre-built database</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/query.html">Query</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../java/develop/full-text-search.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other tutorials</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Hotel Finder</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../../hotel-finder/ios.html">iOS</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../../hotel-finder/android.html">Android</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Hotel Lister</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../../hotel-lister/ios.html">iOS</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../../../hotel-lister/android.html">Android</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="https://docs.couchbase.com/tutorials/universitylister-android/livequery_recyclerview.html">University Lister</a>
    </span>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../../../index.html">Session Storage with Couchbase</a></li>
    <li class="crumb">Mobile Travel Sample</li>
    <li class="crumb">Swift</li>
    <li class="crumb"><a href="query.html">Query</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="https://github.com/couchbaselabs/mobile-travel-sample/edit/tutorials/content/modules/mobile-travel-sample/pages/swift/develop/query.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">Query</h1>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Lite 2.0 includes support for N1QL like query interface.
Database can be queried by constructing a query using a Query builder and then executing that query.</p>
</div>
<div class="paragraph">
<p>The Query interface in Couchbase Lite 2.0 is poweful and includes support for the following among others</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pattern Matching</p>
</li>
<li>
<p>Regex Matching</p>
</li>
<li>
<p>Math Functions</p>
</li>
<li>
<p>String Manipulation Functions</p>
</li>
<li>
<p>Aggregate Functions</p>
</li>
<li>
<p>Grouping</p>
</li>
<li>
<p>Joins (within single database)</p>
</li>
<li>
<p>Sorting</p>
</li>
<li>
<p>NilOrMissing properties</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="implementation-pattern"><a class="anchor" href="#implementation-pattern"></a>Implementation Pattern</h3>
<div class="paragraph">
<p>The <code>select</code> clause and <code>where</code> clause in the <code>Query</code> statement require a <code>CouchbaseLite.Expression</code> type.
Consider the following query.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let hotelSearchQuery = Query
  .select(SelectResult.expression(Meta.id),
          SelectResult.expression(Expression.property("name")))
  .from(DataSource.database(db))
  .where(
      Expression.property("description").like("%\(descriptionStr)%")
     .and(Expression.property("type").equalTo("hotel"))
     .and(Expression.property("country").equalTo(locationStr)
     .or(Expression.property("city").equalTo(locationStr))
     .or(Expression.property("state").equalTo(locationStr))
     .or(Expression.property("address").equalTo(locationStr)))
  )</code></pre>
</div>
</div>
<div class="paragraph">
<p>Often times, the same <code>Expression</code> may be required across multiple queries.
This can quickly become tedious and difficult to maintain.
The recommended pattern is to define constants corresponding to the Expressions and to reuse them across queries.</p>
</div>
<div class="paragraph">
<p>Open the <a href="https://github.com/couchbaselabs/mobile-travel-sample/blob/master/ios/TravelSample/TravelSample/Utilities/QueryConsts.swift#L15">QueryConsts.swift</a> file.
This file defines the CouchbaseLite expressions that are used in the Travel App</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">  struct _Property {
  // Query: Property Expressions
  static let DOCID        = Meta.id

  static let TYPE         = Expression.property("type")
  static let USERNAME     = Expression.property("username")
  static let FLIGHTS      = Expression.property("flights")
  static let DESCRIPTION  = Expression.property("description")
  static let NAME         = Expression.property("name")
  static let COUNTRY      = Expression.property("country")
  static let CITY         = Expression.property("city")
  static let STATE        = Expression.property("state")
  static let ADDRESS      = Expression.property("address")
  static let FAA          = Expression.property("faa")
  static let ICAO         = Expression.property("icao")
  static let AIRPORTNAME  = Expression.property("airportname")
  }

  struct _SelectColumn {
      // Query: Select Results
      static let NAMERESULT         = SelectResult.expression(_Property.NAME)
      static let AIRPORTNAMERESULT  = SelectResult.expression(_Property.AIRPORTNAME)
      static let FLIGHTSRESULT      = SelectResult.expression(_Property.FLIGHTS)
      static let DOCIDRESULT        = SelectResult.expression(_Property.DOCID)
      static let COUNTRESULT        = SelectResult.expression(Function.count(1))
      static let ALLRESULT          = SelectResult.all()
  }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="simple-query"><a class="anchor" href="#simple-query"></a>Simple Query</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The travel app has many instances of querying the database.
We will discuss a simple example here.</p>
</div>
<div class="paragraph">
<p><strong>Open the file</strong> <code>AirportPresenter.swift</code>.
We will review the <code>fetchAirportsMatching</code> method.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/couchbaselabs/mobile-travel-sample/blob/master/ios/TravelSample/TravelSample/Presenter/AirportPresenter.swift#L28">AirportPresenter.swift</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">func fetchAirportsMatching( _ searchStr:String, handler:@escaping(_ airports:Airports?, _ error:Error?)-&gt;Void) {
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are 3 different queries in this function body.
The query that is ran depends on the length of the search term.
You can ignore this specificity, in this section we will look at the 3rd query.</p>
</div>
<div class="paragraph">
<p>The query below <strong>selects</strong> the "name" property in documents <strong>from</strong> the database <strong>where</strong> the <strong>type</strong> property is equal to <strong>airport</strong> and the "airportname" property is equal to the search term.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">searchQuery = QueryBuilder
  .select(_SelectColumn.AIRPORTNAMERESULT)
  .from(DataSource.database(db))
  .where(_Property.TYPE
      .equalTo(Expression.string("airport"))
      .and (Expression.property("airportname")
      .like(Expression.string("\(searchStr)%"))))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, the query is executed using the <code>execute()</code> method.
Each row in the result will contain a single property called "airportname".
The final result is passed to the <code>handler</code> callback where the result will be displayed in a <code>TableView</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">if let searchQuery = searchQuery {
var matches:Airports = []
do {
    for row in try searchQuery.execute() {
        if let match = row.string(forKey: "airportname") {
            matches.append( match)
        }
    }
    handler(matches,nil)
}
catch {
    handler(nil,error)
  }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="try-it-out"><a class="anchor" href="#try-it-out"></a>Try it out</h3>
<div class="ulist">
<ul>
<li>
<p>Log into the Travel Sample Mobile app as &#8220;demo&#8221; user and password as &#8220;password&#8221;</p>
</li>
<li>
<p>Tap on "+"" button to make a flight reservation</p>
</li>
<li>
<p>In the &#8220;From&#8221; airport textfield, enter "DTW""</p>
</li>
<li>
<p>Verify that the first item in the drop down list is "Detroit Metro Wayne Co""</p>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/couchbaselabs/mobile-travel-sample/master/content/assets/ios_simple_query.gif" alt="ios simple query">
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-query"><a class="anchor" href="#advanced-query"></a>Advanced Query</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section we will discuss the JOIN query.
JOIN Queries in Couchbase Lite 2.0 are intra-database joins.</p>
</div>
<div class="paragraph">
<p>If you recall from the Data Modeling section, the document with a <strong>type</strong> equal to "bookmarkedhotels" contains a <strong>hotels</strong> property which is an array of IDs of bookmarked hotels.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "_id": "hotel1",
  "name": "San Francisco Hotel",
  "address": "123, Park Street, San Francisco"
}

{
  "type": "bookmarkedhotels",
  "hotels": ["hotel1", "hotel2"]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will review the query that fetches documents whose <code>_id</code> is included in the "hotels" property array of the document of type "bookmarkedhotels".</p>
</div>
<div class="paragraph">
<p><strong>Open the file</strong> <code>HotelPresenter.swift</code>.
We will review the <code>fetchBookmarkedHotels</code> method.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/couchbaselabs/mobile-travel-sample/blob/master/ios/TravelSample/TravelSample/Presenter/HotelPresenter.swift#L154">HotelPresenter.swift</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">func fetchBookmarkedHotels( handler:@escaping(_ hotels:Hotels?, _ error:Error?)-&gt;Void) {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>First, we instantiate two data sources which corresponds to the two sides of the join query.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let bookmarkDS = DataSource.database(db).as("bookmarkDS")
let hotelsDS = DataSource.database(db).as("hotelsDS")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we write the query expressions.
The first one gets the <code>hotels</code> property on the bookmarks data source.
The seconds get the document ID on the hotels data source.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let hotelsExpr = Expression.property("hotels").from("bookmarkDS")
let hotelIdExpr = Meta.id.from("hotelsDS")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we use a function expression to find document&#8217;s whose <code>\_id</code> property is in the <code>hotels</code> array.
And build the join expression.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let joinExpr = ArrayFunction.contains(hotelsExpr, value: hotelIdExpr)
let join = Join.join(hotelsDS).on(joinExpr);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the query object uses that join expression to find all the hotel document referenced in the "hotels" array of the bookmark document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let typeExpr = Expression.property("type").from("bookmarkDS")

let bookmarkAllColumns = _SelectColumn.ALLRESULT.from("bookmarkDS")
let hotelsAllColumns = _SelectColumn.ALLRESULT.from("hotelsDS")

let query = QueryBuilder.select(bookmarkAllColumns, hotelsAllColumns)
                .from(bookmarkDS)
                .join(join)
                .where(typeExpr.equalTo(Expression.string("bookmarkedhotels")));</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we use the <code>execute()</code> method to get the results back pass them on to the view.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">for result in try query.execute() {
  if let hotel = result.dictionary(forKey: "hotelsDS")?.toDictionary() as? Hotel{
        bookmarkedHotels.append(hotel)
  }
}
handler(bookmarkedHotels,nil)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="try-it-out-2"><a class="anchor" href="#try-it-out-2"></a>Try it out</h3>
<div class="ulist">
<ul>
<li>
<p>Log into the Travel Sample Mobile app as "Guest" user by selecting "Proceed as Guest"</p>
</li>
<li>
<p>Tap on "Hotels"" button</p>
</li>
<li>
<p>In the "Description" text field, enter "pets"</p>
</li>
<li>
<p>In the "Location" text field, enter "London"</p>
</li>
<li>
<p>Verify that you see the "Novotel London West" listed</p>
</li>
<li>
<p>Swipe left to "bookmark" the hotel</p>
</li>
<li>
<p>Tap "Cancel" button</p>
</li>
<li>
<p>Verify that the Novatel hotel that you bookmarked earlier shows up in the list</p>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/couchbaselabs/mobile-travel-sample/master/content/assets/ios_join_query.gif" alt="ios join query">
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">3250 Olcott Street
Santa Clara, CA 95054
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://learn.couchbase.com/store" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/+CouchbaseServer" class="icon">
              <svg width="50px" height="50px" viewBox="36.72 225.573 542.326 343.67"><path d="m209.02 363.05v68.732h93.212c-15.065 44.252-37.662 68.732-93.212 68.732-56.492 0-100.74-46.135-100.74-102.63s44.252-102.63 100.74-102.63c30.129 0 48.96 10.357 66.849 25.422 14.123-14.123 13.182-16.006 48.96-49.902-31.071-28.246-71.557-45.194-115.81-45.194-95.096-0.94-172.3 76.266-172.3 171.36s77.206 172.3 172.3 172.3c142.17 0 177.01-124.28 165.71-206.2-33.896-1e-3 -165.71-1e-3 -165.71-1e-3zm310.71 3.766v-59.317h-42.369v59.317h-61.2v42.369h61.2v61.2h42.369v-61.2h59.317v-42.369h-59.317z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2018 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
