<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Couchbase Distributed ACID Transactions for Java SDK Release Notes | Couchbase Docs (Staging)</title>
    <link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-6236/java-sdk/3.0/project-docs/distributed-transactions-java-release-notes.html">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="java-sdk">
    <meta name="dcterms.identifier" content="3.0">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://simon-dew.github.io/docs-site/DOC-6236">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="../../../server/6.5/introduction/intro.html">Server</a></li>
                  <li><a href="../../../server/6.5/n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../../server/6.5/fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../../server/6.5/analytics/introduction.html">Analytics</a></li>
                  <li><a href="../../../server/6.5/eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="#">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="#">Lite</a></li>
                  <li><a href="#">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../../server/6.5/sdk/overview.html">SDKs</a></li>
                  <li><a href="#">C</a></li>
                  <li><a href="#">.NET</a></li>
                  <li><a href="#">Go</a></li>
                  <li><a href="../hello-world/start-using-sdk.html">Java</a></li>
                  <li><a href="#">Node.js</a></li>
                  <li><a href="#">PHP</a></li>
                  <li><a href="#">Python</a></li>
                  <li><a href="#">Scala</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../../server/6.5/connectors/intro.html">Connectors</a></li>
                  <li><a href="#">Elasticsearch</a></li>
                  <li><a href="../../../server/6.5/connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="#">Kafka</a></li>
                  <li><a href="#">Spark</a></li>
                  <li><a href="../../../server/6.5/connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="navbar-item has-dropdown">
            <a class="navbar-link component" href="../hello-world/start-using-sdk.html"><span class="title">Java SDK</span> <span class="version">3.0</span></a>
            <div class="navbar-dropdown versions">
              <div class="cols">
                <ul>
                  <li class="current"><a class="navbar-item" href="distributed-transactions-java-release-notes.html">Java SDK 3.0</a></li>
                  <li><a class="navbar-item" href="../../2.7/start-using-sdk.html">Java SDK 2.7</a></li>
                  <li><a class="navbar-item" href="../../2.6/start-using-sdk.html">Java SDK 2.6</a></li>
                  <li><a class="navbar-item" href="../../2.5/start-using-sdk.html">Java SDK 2.5</a></li>
                  <li><a class="navbar-item" href="../../2.4/start-using-sdk.html">Java SDK 2.4</a></li>
                  <li><a class="navbar-item" href="../../2.3/start-using-sdk.html">Java SDK 2.3</a></li>
                  <li><a class="navbar-item" href="../../2.2/java-intro.html">Java SDK 2.2</a></li>
                  <li><a class="navbar-item" href="../../2.1/java-intro.html">Java SDK 2.1</a></li>
                </ul>
                <ul class="related">
                  <li><a class="navbar-item" href="#">c-sdk</a></li>
                  <li><a class="navbar-item" href="#">dotnet-sdk</a></li>
                  <li><a class="navbar-item" href="#">go-sdk</a></li>
                  <li><a class="navbar-item" href="#">nodejs-sdk</a></li>
                  <li><a class="navbar-item" href="#">php-sdk</a></li>
                  <li><a class="navbar-item" href="#">python-sdk</a></li>
                  <li><a class="navbar-item" href="#">scala-sdk</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Getting Started</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../hello-world/start-using-sdk.html">Start Using the Java SDK</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../hello-world/sample-application.html">Sample Application</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Working with Data</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/kv-operations.html">Key Value Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/subdocument-operations.html">Sub-Document Operations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/n1ql-queries-with-sdk.html">Query</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/analytics-using-sdk.html">Analytics</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/full-text-searching-with-sdk.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Advanced Data Operations</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/concurrent-async-apis.html">Async &amp; Reactive APIs</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/distributed-acid-transactions-from-the-sdk.html">Distributed ACID Transactions</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/transcoders-nonjson.html">Transcoders &amp; Non-JSON</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/working-with-collections.html">Working with Collections DP</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Managing Couchbase</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/managing-connections.html">Managing Connections</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Errors &amp; Diagnostics</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../howtos/collecting-information-and-logging.html">Logging</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Learn</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/concepts.html">Overview</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/buckets-and-clusters.html">Buckets &amp; Clusters</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/collections.html">Collections &amp; Scope</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/compression.html">Compression</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../concept-docs/data-model.html">Data Model</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/documents.html">Documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/nonjson.html">Non-json Docs</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/subdocument-operations.html">Sub-Documents</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/xattr.html">XATTR &amp; Virtual XATTR</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../concept-docs/errors.html">Errors and Diagnostics</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/health-check.html">Health Check</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/response-time-observability.html">Tracing</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/durability-replication-failure-considerations.html">Failure Considerations</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/encryption.html">Field Level Encryption</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../concept-docs/data-services.html">Service Selection</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/analytics-for-sdk-users.html">Analytics</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/understanding-views.html">Map Reduce Views</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/n1ql-query.html">Query</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="../concept-docs/full-text-search-overview.html">Search</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">References</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="https://docs.couchbase.com/sdk-api/couchbase-java-client">API Reference</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="../ref/client-settings.html">Client Settings</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Project Docs</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sdk-release-notes.html">SDK Release Notes</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="distributed-transactions-java-release-notes.html">Transactions Release Notes</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="compatibility.html">Compatibility</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="migrating-sdk-code-to-3.n.html">Migrating to SDK 3 API</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sdk-licenses.html">Licenses</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="get-involved.html">Get involved</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="https://docs.couchbase.com/home/contribute/index.html">Improve the Docs</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../hello-world/start-using-sdk.html">Java SDK</a></li>
    <li class="crumb">Project Docs</li>
    <li class="crumb"><a href="distributed-transactions-java-release-notes.html">Transactions Release Notes</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="https://github.com/couchbase/docs-sdk-java/edit/release/3.0/modules/project-docs/pages/distributed-transactions-java-release-notes.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">Couchbase Distributed ACID Transactions for Java SDK Release Notes</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Distributed ACID Transactions is distributed as a separate library for the Java SDK.
This page features the release notes for that library&#8201;&#8212;&#8201;for release notes, download links, and installation methods for the latest 3.x Java SDK releases, see <a href="sdk-release-notes.html" class="page">the current Release Notes page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-distributed-transactions"><a class="anchor" href="#using-distributed-transactions"></a>Using Distributed Transactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See the <a href="../../../server/6.5/learn/data/transactions.html" class="page">Distributed ACID Transactions concept doc</a> in the server documentation for details of how Couchbase implements transactions.
The <a href="../howtos/distributed-acid-transactions-from-the-sdk.html" class="page">Distributed Transactions HOWTO doc</a> walks you through all aspects of working with Distributed Transactions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="distributed-transactions-java-1-0-0-17th-january-2020"><a class="anchor" href="#distributed-transactions-java-1-0-0-17th-january-2020"></a>Distributed Transactions Java 1.0.0 (17th January 2020)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the first General Availability (GA) release of Distributed ACID Transactions 1.0.0 for Couchbase Server 6.5.</p>
</div>
<div class="paragraph">
<p>Built on Couchbase java-client version 3.0.0 (GA).
Requires Couchbase Server 6.5 or above.</p>
</div>
<div class="sect2">
<h3 id="bug-fixes-stability"><a class="anchor" href="#bug-fixes-stability"></a>Bug Fixes &amp; Stability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-119">TXNJ-119</a>:
Calling commit multiple times leads to an error mentioning "rollback"; changed to separate error messages for commit and rollback.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-126">TXNJ-126</a>:
Expire a transaction immediately if it expires while deferred.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-149">TXNJ-149</a>:
Improve ambiguous error handling during commit.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-163">TXNJ-163</a>, <a href="https://issues.couchbase.com/browse/TXNJ-156">TXNJ-156</a>:
Ensure that java-client errors are correctly handled after its changes to error handling.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-165">TXNJ-165</a>:
Fix reactor.core.Exceptions$OverflowException seen during cleanup.  Would only affect users setting a cleanup window of 1 second or less.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements"><a class="anchor" href="#enhancements"></a>Enhancements</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-173">TXNJ-173</a>:
Register for changes to bucket configurations, so if the application opens a bucket after creating Transactions object, background cleanup will be started on those new buckets.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-69">TXNJ-69</a>:
Provide some future proofing for client-record.  Implementation detail, allows for future extensibility of the background cleanup process.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-111">TXNJ-111</a>, <a href="https://issues.couchbase.com/browse/TXNJ-110">TXNJ-110</a>:
Sends new events to the java-client event-bus with details from the background cleanup process.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-120">TXNJ-120</a>:
Once Transactions object is closed, prevent futher operations on it as a sanity check.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-151">TXNJ-151</a>:
Add Java client metadata to help track failures.  Implementation detail, adds some additional info to exceptions to help debugging.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-152">TXNJ-152</a>:
When transaction expires, attempt to roll it back (or complete commit).
Completes the work in TXNJ-124 (in 1.0.0-beta.3), to cover all cases.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-155">TXNJ-155</a>:
Remove OpenTracing dependency.  An implementation detail as it has already been removed from the API, this completes the work and removes the dependency on the jar.
Once OpenTelemetry (OpenTracing&#8217;s direct replacement) is stable, support for it will be added.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-162">TXNJ-162</a>:
Performance improvements related to String parsing.  Internal benchmarking sees a huge reduction in memory allocations and GC pressure with this change.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-167">TXNJ-167</a>:
Rebuild on java-client 3.0.0 GA.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-170">TXNJ-170</a>:
Perform ATR cleanup in serial, which prevents errors being sent to Hooks.onErrorDropped (and by default stdout) when shutting down transactions.
Along with java-client fix <a href="https://issues.couchbase.com/browse/JVMCBC-781">JVMCBC-781</a>, users should no longer see Hooks.onErrorDropped errors.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="api-changes"><a class="anchor" href="#api-changes"></a>API changes</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-171">TXNJ-171</a>:
Rename MAJORITY_AND_PERSIST_ON_MASTER to MAJORITY_AND_PERSIST_ON_ACTIVE, in accordance with new naming conventions.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-169">TXNJ-169</a>:
Simplify cleanup window logic to remove divide-by-2; previously, specifying <code>TransactionConfigBuilder.cleanupWindow(120 seconds)</code> would lead to ATRs getting checked every 60 seconds (in the general case): now to reduce confusion they will be checked every 120 seconds.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-164">TXNJ-164</a>:
Remove <code>TransactionConfigBuilder.logDirectlyCleanup</code>.  As all cleanup trace is now sent directly to java-client&#8217;s event-bus, it can be configured from there and this parameter is useless.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="distributed-transactions-java-1-0-0-beta-3-13th-november-2019"><a class="anchor" href="#distributed-transactions-java-1-0-0-beta-3-13th-november-2019"></a>Distributed Transactions Java 1.0.0-beta.3 (13th November 2019)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the third <em>Beta</em> release of Distributed ACID Transactions 1.0.0 for Couchbase Server 6.5 and the Java 3.0.0 client.
There are no major changes.
The main purpose of the release is to rebuild on top of the beta.1 release of the java-client, so applications can use both together.</p>
</div>
<div class="paragraph">
<p>Built on Couchbase java-client version 3.0.0-beta.1.
Requires Couchbase Server 6.5 or above.</p>
</div>
<div class="sect2">
<h3 id="bug-fixes-and-stability"><a class="anchor" href="#bug-fixes-and-stability"></a>Bug-fixes And Stability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-127">TXNJ-127</a>:
Fixes an <code>ArrayIndexOutOfBoundsException</code> error when using the reactive API to perform concurrency inside a txn.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-145">TXNJ-145</a>:
ATR names are changed, to hash to their expected vbucket.
It is recommended to flush (remove all documents from) the bucket to remove ATR documents from previous releases.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-136">TXNJ-136</a>:
Fixes an erroneous <code>IllegalDocumentState</code> alert in edge-cases involving the <code>DurabilityAmbiguous</code> error.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="new-features-and-enhancements"><a class="anchor" href="#new-features-and-enhancements"></a>New Features and Enhancements</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-124">TXNJ-124</a>:
An aborting transaction will now attempt rollback before completing raising <code>TransactionExpired</code> failure, rather than leaving cleanup solely to cleanup process.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-131">TXNJ-131</a>:
Minor logging improvement.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="distributed-transactions-java-1-0-0-beta-2-9th-september-2019"><a class="anchor" href="#distributed-transactions-java-1-0-0-beta-2-9th-september-2019"></a>Distributed Transactions Java 1.0.0-beta.2 (9th September 2019)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the second <em>Beta</em> release of Distributed ACID Transactions 1.0.0 for Couchbase Server 6.5 and the Java 3.0.0 client.</p>
</div>
<div class="paragraph">
<p>Built on Couchbase java-client version 3.0.0-alpha.7.
Requires Couchbase Server 6.5 beta or above.</p>
</div>
<div class="sect2">
<h3 id="bug-fixes-and-stability-2"><a class="anchor" href="#bug-fixes-and-stability-2"></a>Bug-fixes and stability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/JVMCBC-728">JVMCBC-728</a>: This fix in the underlying Couchbase java-client prevented conflict detection from working correctly in all situations with durability enabled (which it is, by default).
All users are strongly recommended to upgrade as soon as possible, for this fix.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes"><a class="anchor" href="#breaking-changes"></a>Breaking changes</h3>
<div class="paragraph">
<p>As a rule, we do not make breaking API changes after GA release, and only consider them rarely during the beta period.
This particular breaking change aligns the transaction and Java libraries much better, makes for a more natural and usable API, and requires little porting work.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-121">TXNJ-121</a>: Align with the Couchbase Java client,
by renaming the <code>get</code> method to <code>getOptional</code>, <code>getOrError</code> to <code>get</code>, and <code>TransactionJsonDocument</code> to <code>TransactionGetResult</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="performance"><a class="anchor" href="#performance"></a>Performance</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-40">TXNJ-40</a>:
Retry operations on many transient errors, rather than retrying the full transaction.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="new-features"><a class="anchor" href="#new-features"></a>New features</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-85">TXNJ-85</a>:
(Experimental) Supported deferred commit for transactions.
Please see the documentation for details.
This feature should be regarded as alpha, as its API and functionality may change in the future; please feel free to try it out and provide feedback.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-112">TXNJ-112</a>:
(Experimental) Allow the number of ATRs to be configured.
This can potentially be used to improve transactions throughput, but is currently experimental and should be used only with Couchbase&#8217;s guidance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-107">TXNJ-107</a>: Make txn metadata documents more consistently named by prefacing them with "_txn:"</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="distributed-transactions-java-1-0-0-beta-1"><a class="anchor" href="#distributed-transactions-java-1-0-0-beta-1"></a>Distributed Transactions Java 1.0.0-beta.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the first <em>Beta</em> release of Distributed ACID Transactions 1.0.0 for Couchbase Server 6.5 and the Java 3.0.0 client.</p>
</div>
<div class="paragraph">
<p>Built on Couchbase java-client version 3.0.0-alpha.6.
Requires Couchbase Server 6.5 beta or above.</p>
</div>
<div class="sect2">
<h3 id="new-features-2"><a class="anchor" href="#new-features-2"></a>New features</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-41">TXNJ-41</a>:
Add fields required for backup</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-52">TXNJ-52</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-53">TXNJ-53</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-56">TXNJ-56</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-71">TXNJ-71</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-72">TXNJ-72</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-75">TXNJ-75</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-76">TXNJ-76</a>,
<a href="https://issues.couchbase.com/browse/TXNJ-83">TXNJ-83</a>:
More readable and useful logging</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bug-fixes-and-stability-3"><a class="anchor" href="#bug-fixes-and-stability-3"></a>Bug-fixes and stability</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-47">TXNJ-47</a>:
Improved handling for expiry&#8201;&#8212;&#8201;the transaction will now try to enter Aborted state</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-50">TXNJ-50</a>:
Intermittent reactive asserts about blocking on a thread from the "parallel" scheduler</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-55">TXNJ-55</a>:
Retry transient errors while rolling back ATR entry, rather than retrying transaction</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-57">TXNJ-57</a>:
Add log redaction for document keys</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-59">TXNJ-59</a>:
Fix an issue with the lost cleanup thread aborting early</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-64">TXNJ-64</a>:
Commit documents in the order they were staged</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-79">TXNJ-79</a>, <a href="https://issues.couchbase.com/browse/TXNJ-81">TXNJ-81</a>:
Improved handling of transient server errors while trying to create ATR entries</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-90">TXNJ-90</a>:
Improved handling of conflicts when multiple applications start at once and try to create the client record</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-96">TXNJ-96</a>:
Improved handling of transient errors removing entries from the client record</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecations-and-removals"><a class="anchor" href="#deprecations-and-removals"></a>Deprecations and removals</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/TXNJ-92">TXNJ-92</a>:
OpenTracing removed from API&#8201;&#8212;&#8201;will be re-added when <em>OpenTelemetry</em> is ready</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">3250 Olcott Street
Santa Clara, CA 95054
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://learn.couchbase.com/store" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2019 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
