<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/asciidoc/sqlpp/builtins.adoc at 2020-01-28
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200128" />
    <meta http-equiv="Content-Language" content="en" />
    <title>AsterixDB &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script type="text/javascript" src="../js/apache-maven-fluido-1.7.min.js"></script>

  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href=".././" id="bannerLeft"><img src="../images/asterixlogo.png"  alt="AsterixDB"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-01-28</li>
      <li id="projectVersion" class="pull-right">Version: 0.9.5-SNAPSHOT</li>
      <li class="pull-right"><a href="../index.html" title="Documentation Home">Documentation Home</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Get Started - Installation</li>
    <li><a href="../ncservice.html" title="Option 1: using NCService"><span class="none"></span>Option 1: using NCService</a></li>
    <li><a href="../ansible.html" title="Option 2: using Ansible"><span class="none"></span>Option 2: using Ansible</a></li>
    <li><a href="../aws.html" title="Option 3: using Amazon Web Services"><span class="none"></span>Option 3: using Amazon Web Services</a></li>
      <li class="nav-header">AsterixDB Primer</li>
    <li><a href="../sqlpp/primer-sqlpp.html" title="Using SQL++"><span class="none"></span>Using SQL++</a></li>
      <li class="nav-header">Data Model</li>
    <li><a href="../datamodel.html" title="The Asterix Data Model"><span class="none"></span>The Asterix Data Model</a></li>
      <li class="nav-header">Queries</li>
    <li><a href="../sqlpp/manual.html" title="The SQL++ Query Language"><span class="none"></span>The SQL++ Query Language</a></li>
    <li class="active"><a href="#"><span class="none"></span>Builtin Functions</a></li>
      <li class="nav-header">API/SDK</li>
    <li><a href="../api.html" title="HTTP API"><span class="none"></span>HTTP API</a></li>
    <li><a href="../csv.html" title="CSV Output"><span class="none"></span>CSV Output</a></li>
      <li class="nav-header">Advanced Features</li>
    <li><a href="../aql/externaldata.html" title="Accessing External Data"><span class="none"></span>Accessing External Data</a></li>
    <li><a href="../feeds.html" title="Data Ingestion with Feeds"><span class="none"></span>Data Ingestion with Feeds</a></li>
    <li><a href="../udf.html" title="User Defined Functions"><span class="none"></span>User Defined Functions</a></li>
    <li><a href="../sqlpp/filters.html" title="Filter-Based LSM Index Acceleration"><span class="none"></span>Filter-Based LSM Index Acceleration</a></li>
    <li><a href="../sqlpp/fulltext.html" title="Support of Full-text Queries"><span class="none"></span>Support of Full-text Queries</a></li>
    <li><a href="../sqlpp/similarity.html" title="Support of Similarity Queries"><span class="none"></span>Support of Similarity Queries</a></li>
      <li class="nav-header">Deprecated</li>
    <li><a href="../aql/primer.html" title="AsterixDB Primer: Using AQL"><span class="none"></span>AsterixDB Primer: Using AQL</a></li>
    <li><a href="../aql/manual.html" title="Queries: The Asterix Query Language (AQL)"><span class="none"></span>Queries: The Asterix Query Language (AQL)</a></li>
    <li><a href="../aql/builtins.html" title="Queries: Builtin Functions (AQL)"><span class="none"></span>Queries: Builtin Functions (AQL)</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href=".././" title="AsterixDB" class="builtBy"><img class="builtBy"  alt="AsterixDB" src="../images/asterixlogo.png"    /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Builtin Functions</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#numeric-functions">Numeric Functions</a></li>
<li><a href="#string-functions">String Functions</a></li>
<li><a href="#binary-functions">Binary Functions</a></li>
<li><a href="#spatial-functions">Spatial Functions</a></li>
<li><a href="#similarity-functions">Similarity Functions</a></li>
<li><a href="#tokenizing-functions">Tokenizing Functions</a></li>
<li><a href="#temporal-functions">Temporal Functions</a></li>
<li><a href="#object-functions">Object Functions</a></li>
<li><a href="#aggregate-functions-array-functions">Aggregate Functions (Array Functions)</a></li>
<li><a href="#comparison-functions">Comparison Functions</a></li>
<li><a href="#type-functions">Type Functions</a></li>
<li><a href="#conditional-functions">Conditional Functions</a></li>
<li><a href="#miscellaneous-functions">Miscellaneous Functions</a></li>
<li><a href="#bitwise-functions">Bitwise Functions</a></li>
<li><a href="#window-functions">Window Functions</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The system provides various classes of functions to support operations
on numeric, string, spatial, and temporal data. This document explains
how to use these functions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="numeric-functions">Numeric Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="abs">abs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>abs(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the absolute value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The absolute value of the argument with the same type as the input
argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": abs(2013), "v2": abs(-4036), "v3": abs(0), "v4": abs(float("-2013.5")), "v5": abs(double("-2013.593823748327284")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2013, "v2": 4036, "v3": 0, "v4": 2013.5, "v5": 2013.5938237483274 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="acos">acos</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>acos(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc cosine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc cosine in radians for the argument, if the argument
is in the range of -1 (inclusive) to 1 (inclusive),</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error,</p>
</li>
<li>
<p>"NaN" for other legitimate numeric values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": acos(1), "v2": acos(2), "v3": acos(0), "v4": acos(float("0.5")), "v5": acos(double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": "NaN", "v3": 1.5707963267948966, "v4": 1.0471975511965979, "v5": 2.0943951023931957 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="asin">asin</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>asin(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc sine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc sin in radians for the argument, if the argument is
in the range of -1 (inclusive) to 1 (inclusive),</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error,</p>
</li>
<li>
<p>"NaN" for other legitimate numeric values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": asin(1), "v2": asin(2), "v3": asin(0), "v4": asin(float("0.5")), "v5": asin(double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1.5707963267948966, "v2": "NaN", "v3": 0.0, "v4": 0.5235987755982989, "v5": -0.5235987755982989 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="atan">atan</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>atan(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc tangent value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc tangent in radians for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": atan(1), "v2": atan(2), "v3": atan(0), "v4": atan(float("0.5")), "v5": atan(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.7853981633974483, "v2": 1.1071487177940904, "v3": 0.0, "v4": 0.4636476090008061, "v5": 1.5697963271282298 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="atan2">atan2</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>atan2(numeric_value1, numeric_value2)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc tangent value of numeric_value2/numeric_value1.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc tangent in radians for <code>numeric_value1</code> and
<code>numeric_value2</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": atan2(1, 2), "v2": atan2(0, 4), "v3": atan2(float("0.5"), double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.4636476090008061, "v2": 0.0, "v3": 2.356194490192345 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ceil">ceil</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>ceil(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the smallest (closest to negative infinity) number with no
fractional part that is not less than the value of the argument. If the
argument is already equal to mathematical integer, then the result is
the same as the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The ceiling value for the given number in the same type as the input
argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": ceil(2013),
  "v2": ceil(-4036),
  "v3": ceil(0.3),
  "v4": ceil(float("-2013.2")),
  "v5": ceil(double("-2013.893823748327284"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 1.0, "v4": -2013.0, "v5": -2013.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cos">cos</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>cos(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the cosine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> cosine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": cos(1), "v2": cos(2), "v3": cos(0), "v4": cos(float("0.5")), "v5": cos(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.5403023058681398, "v2": -0.4161468365471424, "v3": 1.0, "v4": 0.8775825618903728, "v5": 0.562379076290703 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cosh">cosh</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>cosh(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the hyperbolic cosine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> hyperbolic cosine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": cosh(1), "v2": cosh(2), "v3": cosh(0), "v4": cosh(float("0.5")), "v5": cosh(double("8")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1.5430806348152437, "v2": 3.7621956910836314, "v3": 1.0, "v4": 1.1276259652063807, "v5": 1490.479161252178 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="degrees">degrees</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>degrees(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Converts radians to degrees</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The degrees value for the given radians value. The returned value has
type <code>double</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": degrees(pi()) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 180.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="e">e</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<hr/>
<div class="paragraph">
<p>e()
---</p>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>e (base of the natural logarithm)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": e() };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2.718281828459045 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="exp">exp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>exp(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes enumeric_value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>enumeric_value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": exp(1), "v2": exp(2), "v3": exp(0), "v4": exp(float("0.5")), "v5": exp(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2.718281828459045, "v2": 7.38905609893065, "v3": 1.0, "v4": 1.6487212707001282, "v5": "Infinity" }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="floor">floor</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>floor(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the largest (closest to positive infinity) number with no
fractional part that is not greater than the value. If the argument is
already equal to mathematical integer, then the result is the same as
the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The floor value for the given number in the same type as the input
argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": floor(2013),
  "v2": floor(-4036),
  "v3": floor(0.8),
  "v4": floor(float("-2013.2")),
  "v5": floor(double("-2013.893823748327284"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 0.0, "v4": -2014.0, "v5": -2014.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ln">ln</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>ln(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes logenumeric_value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>logenumeric_value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": ln(1), "v2": ln(2), "v3": ln(0), "v4": ln(float("0.5")), "v5": ln(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": 0.6931471805599453, "v3": "-Infinity", "v4": -0.6931471805599453, "v5": 6.907755278982137 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="log">log</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>log(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes log10numeric_value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>log10numeric_value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": log(1), "v2": log(2), "v3": log(0), "v4": log(float("0.5")), "v5": log(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": 0.3010299956639812, "v3": "-Infinity", "v4": -0.3010299956639812, "v5": 3.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="pi">pi</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>pi()</pre>
</div>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Pi</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": pi() };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 3.141592653589793 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="power">power</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>power(numeric_value1, numeric_value2)</pre>
</div>
</div>
</li>
<li>
<p>Computes numeric_value1numeric_value2.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>numeric_value1numeric_value2,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": power(1, 2), "v3": power(0, 4), "v4": power(float("0.5"), double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1, "v3": 0, "v4": 1.4142135623730951 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="radians">radians</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>radians(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Converts degrees to radians</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The radians value for the given degrees value. The returned value has
type <code>double</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": radians(180) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 3.141592653589793 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="round">round</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>round(numeric_value[, round_digit])</pre>
</div>
</div>
</li>
<li>
<p>Rounds the value to the given number of integer digits to the right of
the decimal point, or to the left of the decimal point if the number of
digits is negative.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value that
represents the numeric value to be rounded.</p>
</li>
<li>
<p><code>round_digit</code>: (Optional) a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value that
specifies the digit to round to. This argument may be positive or
negative; positive indicating that rounding needs to be to the right of
the decimal point, and negative indicating that rounding needs to be to
the left of the decimal point. Values such as 1.0 and 2.0 are
acceptable, but values such as 1.3 and 1.5 result in a <code>null</code>. If
omitted, the default is 0.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The rounded value for the given number. The returned value has the
following type:</p>
<div class="ulist">
<ul>
<li>
<p><code>bigint</code> if the input value has type <code>tinyint</code>, <code>smallint</code>,
<code>integer</code> or <code>bigint</code>,</p>
</li>
<li>
<p><code>float</code> if the input value has type <code>float</code>,</p>
</li>
<li>
<p><code>double</code> if the input value has type <code>double</code>;</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>missing</code> if the input value is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the input value is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will return a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": round(2013),
  "v2": round(-4036),
  "v3": round(0.8),
  "v4": round(float("-2013.256")),
  "v5": round(double("-2013.893823748327284"))
  "v6": round(123456, -1),
  "v7": round(456.456, 2),
  "v8": round(456.456, -1),
  "v9": round(-456.456, -2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 1.0, "v4": -2013.0, "v5": -2014.0, "v6": 123460, "v7": 456.46, "v8": 460, "v9": -500 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sign">sign</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>sign(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the sign of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the sign (a <code>tinyint</code>) of the argument, -1 for negative values, 0 for
0, and 1 for positive values,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": sign(1), "v2": sign(2), "v3": sign(0), "v4": sign(float("0.5")), "v5": sign(double("-1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1, "v2": 1, "v3": 0, "v4": 1, "v5": -1 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sin">sin</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>sin(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the sine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> sine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": sin(1), "v2": sin(2), "v3": sin(0), "v4": sin(float("0.5")), "v5": sin(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.8414709848078965, "v2": 0.9092974268256817, "v3": 0.0, "v4": 0.479425538604203, "v5": 0.8268795405320025 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sinh">sinh</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>sinh(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the hyperbolic sine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> hyperbolic sine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": sinh(1), "v2": sinh(2), "v3": sinh(0), "v4": sinh(float("0.5")), "v5": sinh(double("8")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1.1752011936438014, "v2": 3.626860407847019, "v3": 0.0, "v4": 0.5210953054937474, "v5": 1490.4788257895502 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sqrt">sqrt</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>sqrt(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the square root of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> square root value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": sqrt(1), "v2": sqrt(2), "v3": sqrt(0), "v4": sqrt(float("0.5")), "v5": sqrt(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1.0, "v2": 1.4142135623730951, "v3": 0.0, "v4": 0.7071067811865476, "v5": 31.622776601683793 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tan">tan</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>tan(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the tangent value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> tangent value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": tan(1), "v2": tan(2), "v3": tan(0), "v4": tan(float("0.5")), "v5": tan(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1.5574077246549023, "v2": -2.185039863261519, "v3": 0.0, "v4": 0.5463024898437905, "v5": 1.4703241557027185 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tanh">tanh</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>tanh(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the hyperbolic tangent value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> hyperbolic tangent value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": tanh(1), "v2": tanh(2), "v3": tanh(0), "v4": tanh(float("0.5")), "v5": tanh(double("8")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.7615941559557649, "v2": 0.964027580075817, "v3": 0.0, "v4": 0.4621171572600098, "v5": 0.999999774929676 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="trunc">trunc</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>trunc(numeric_value, number_digits)</pre>
</div>
</div>
</li>
<li>
<p>Truncates the number to the given number of integer digits to the
right of the decimal point (left if digits is negative). Digits is 0 if
not given.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>number_digits</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> tangent value for the argument,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is
<code>missing</code>,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-numeric value,</p>
</li>
<li>
<p>the second argument is any other non-tinyint, non-smallint,
non-integer, and non-bigint value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": trunc(1, 1), "v2": trunc(2, -2), "v3": trunc(0.122, 2), "v4": trunc(float("11.52"), -1), "v5": trunc(double("1000.5252"), 3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1, "v2": 2, "v3": 0.12, "v4": 10.0, "v5": 1000.525 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="round_half_to_even">round_half_to_even</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>round_half_to_even(numeric_value, [precision])</pre>
</div>
</div>
</li>
<li>
<p>Computes the closest numeric value to <code>numeric_value</code> that is a
multiple of ten to the power of minus <code>precision</code>. <code>precision</code> is
optional and by default value <code>0</code> is used.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
<li>
<p><code>precision</code>: an optional <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>
field representing the number of digits in the fraction of the the
result</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The rounded value for the given number in the same type as the input
argument,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-numeric value,</p>
</li>
<li>
<p>or, the second argument is any other non-tinyint, non-smallint,
non-integer, or non-bigint value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": round_half_to_even(2013),
  "v2": round_half_to_even(-4036),
  "v3": round_half_to_even(0.8),
  "v4": round_half_to_even(float("-2013.256")),
  "v5": round_half_to_even(double("-2013.893823748327284")),
  "v6": round_half_to_even(double("-2013.893823748327284"), 2),
  "v7": round_half_to_even(2013, 4),
  "v8": round_half_to_even(float("-2013.256"), 5)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 1.0, "v4": -2013.0, "v5": -2014.0, "v6": -2013.89, "v7": 2013, "v8": -2013.256 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="string-functions">String Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="concat">concat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>concat(string1, string2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Returns a concatenated string from arguments.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string1</code>: a string value,</p>
</li>
<li>
<p><code>string2</code>: a string value,</p>
</li>
<li>
<p>&#8230;&#8203;.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a concatenated string from arguments,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>concat("test ", "driven ", "development");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"test driven development"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="contains">contains</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>contains(string, substring_to_contain)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> contains the string
<code>substring_to_contain</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the given substring,</p>
</li>
<li>
<p><code>substring_to_contain</code> : a target <code>string</code> that might be contained.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value, <code>true</code> if <code>string</code> contains
<code>substring_to_contain</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Note: an
<a href="similarity.html#UsingIndexesToSupportSimilarityQueries">n_gram
index</a> can be utilized for this function.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": contains("I like x-phone", "phone"), "v2": contains("one", "phone") };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ends_with">ends_with</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>ends_with(string, substring_to_end_with)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> ends with the string
<code>substring_to_end_with</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might end with the given string,</p>
</li>
<li>
<p><code>substring_to_end_with</code> : a <code>string</code> that might be contained as the
ending substring.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value, <code>true</code> if <code>string</code> contains
<code>substring_to_contain</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": ends_with(" love product-b its shortcut_menu is awesome:)", ":)"),
  "v2": ends_with(" awsome:)", ":-)")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="initcap-or-title">initcap (or title)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>initcap(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts a given string <code>string</code> so that the first letter of each word
is uppercase and every other letter is lowercase. The function has an
alias called "title".</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> as the title form of the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": initcap("ASTERIXDB is here!"), "v2": title("ASTERIXDB is here!") };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": "Asterixdb Is Here!", "v2": "Asterixdb Is Here!" }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="length">length</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>length(string)</pre>
</div>
</div>
</li>
<li>
<p>Returns the length of the string <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> or <code>null</code> that represents the string to be
checked.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>bigint</code> that represents the length of <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>length("test string");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>11</p>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lower">lower</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>lower(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts a given string <code>string</code> to its lowercase form.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> as the lowercase form of the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>lower("ASTERIXDB");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"asterixdb"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ltrim">ltrim</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>ltrim(string[, chars]);</pre>
</div>
</div>
</li>
<li>
<p>Returns a new string with all leading characters that appear in
<code>chars</code> removed. By default, white space is the character to trim.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be trimmed,</p>
</li>
<li>
<p><code>chars</code> : a <code>string</code> that contains characters that are used to trim.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a trimmed, new <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>ltrim("me like x-phone", "eml");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>" like x-phone"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="position">position</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>position(string, string_pattern)</pre>
</div>
</div>
</li>
<li>
<p>Returns the first position of <code>string_pattern</code> within <code>string</code>. The
function returns the 0-based position. Another version of the function
returns the 1-based position. Below are the aliases for each version:</p>
</li>
<li>
<p>Aliases:</p>
<div class="ulist">
<ul>
<li>
<p>0-based: <code>position</code>, <code>pos</code>, <code>position0</code>, <code>pos0</code>.</p>
</li>
<li>
<p>1-based: <code>position1</code>, <code>pos1</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern.</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the first position that <code>string_pattern</code> appears within <code>string</code>
(starting at 0), or -1 if it does not appear,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will return a <code>null</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": position("ppphonepp", "phone"),
  "v2": position("hone", "phone"),
  "v3": position1("ppphonepp", "phone"),
  "v4": position1("hone", "phone"),
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 2, "v2": -1, v3": 3, "v4": -1 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_contains">regexp_contains</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>regexp_contains(string, string_pattern[, string_flags])</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the strings <code>string</code> contains the regular expression
pattern <code>string_pattern</code> (a Java regular expression pattern).</p>
</li>
<li>
<p>Aliases:</p>
<div class="ulist">
<ul>
<li>
<p><code>regexp_contains</code>, <code>regex_contains</code>, <code>contains_regexp</code>,
<code>contains_regex</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern.</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched.</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during
regular expression matching.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s),
multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code>, returns <code>true</code> if <code>string</code> contains the pattern
<code>string_pattern</code>, <code>false</code> otherwise.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value.</p>
</li>
<li>
<p>any other non-string input value will return a <code>null</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": regexp_contains("pphonepp", "p*hone"),
  "v2": regexp_contains("hone", "p+hone")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_like">regexp_like</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>regexp_like(string, string_pattern[, string_flags])</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> exactly matches the regular
expression pattern <code>string_pattern</code> (a Java regular expression pattern).</p>
</li>
<li>
<p>Aliases:</p>
<div class="ulist">
<ul>
<li>
<p><code>regexp_like</code>, <code>regex_like</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern.</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> that might be contained.</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during
regular expression matching.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s),
multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value, <code>true</code> if <code>string</code> contains the pattern
<code>string_pattern</code>, <code>false</code> otherwise.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value.</p>
</li>
<li>
<p>any other non-string input value will return a <code>null</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": regexp_like(" can't stand acast the network is horrible:(", ".*acast.*"),
  "v2": regexp_like("acast", ".*acst.*")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_position">regexp_position</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>regexp_position(string, string_pattern[, string_flags])</pre>
</div>
</div>
</li>
<li>
<p>Returns first position of the regular expression <code>string_pattern</code> (a
Java regular expression pattern) within <code>string</code>. The function returns
the 0-based position. Another version of the function returns the
1-based position. Below are the aliases for each version:</p>
</li>
<li>
<p>Aliases:</p>
<div class="ulist">
<ul>
<li>
<p>0-Based: <code>regexp_position</code>, <code>regexp_pos</code>, <code>regexp_position0</code>,
<code>regexp_pos0</code>, <code>regex_position</code>, <code>regex_pos</code>, <code>regex_position0</code>,
<code>regex_pos0</code>.</p>
</li>
<li>
<p>1-Based: <code>regexp_position1</code>, <code>regexp_pos1</code>, <code>regex_position1</code>
<code>regex_pos1</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern.</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched.</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during
regular expression matching.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s),
multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the first position that the regular expression <code>string_pattern</code>
appears in <code>string</code> (starting at 0), or -1 if it does not appear.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will return a <code>null</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": regexp_position("pphonepp", "p*hone"),
  "v2": regexp_position("hone", "p+hone"),
  "v3": regexp_position1("pphonepp", "p*hone"),
  "v4": regexp_position1("hone", "p+hone")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0, "v2": -1, "v3": 1, "v4": -1 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_replace">regexp_replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>regexp_replace(string, string_pattern, string_replacement[, string_flags])
regexp_replace(string, string_pattern, string_replacement[, replacement_limit])</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> matches the given regular
expression pattern <code>string_pattern</code> (a Java regular expression pattern),
and replaces the matched pattern <code>string_pattern</code> with the new pattern
<code>string_replacement</code>.</p>
</li>
<li>
<p>Aliases:</p>
<div class="ulist">
<ul>
<li>
<p><code>regexp_replace</code>, <code>regex_replace</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern.</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched.</p>
</li>
<li>
<p><code>string_replacement</code> : a pattern <code>string</code> to be used as the
replacement.</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during
replace.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s),
multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>replacement_limit</code>: (Optional) an <code>integer</code> specifying the maximum
number of replacements to make (if negative then all occurrences will be
replaced)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a <code>string</code> that is obtained after the replacements.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value.</p>
</li>
<li>
<p>any other non-string input value will return a <code>null</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>regexp_replace(" like x-phone the voicemail_service is awesome", " like x-phone", "like product-a");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"like product-a the voicemail_service is awesome"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="repeat">repeat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>repeat(string, n)</pre>
</div>
</div>
</li>
<li>
<p>Returns a string formed by repeating the input <code>string</code> <code>n</code> times.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be repeated,</p>
</li>
<li>
<p><code>n</code> : an <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value - how many
times the string should be repeated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a string that repeats the input <code>string</code> <code>n</code> times,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-string value,</p>
</li>
<li>
<p>or, the second argument is not a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>,
or <code>bigint</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>repeat("test", 3);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"testtesttest"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="replace">replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>replace(string, search_string, replacement_string[, limit])</pre>
</div>
</div>
</li>
<li>
<p>Finds occurrences of the given substring <code>search_string</code> in the input
string <code>string</code> and replaces them with the new substring
<code>replacement_string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : an input <code>string</code>,</p>
</li>
<li>
<p><code>search_string</code> : a <code>string</code> substring to be searched for,</p>
</li>
<li>
<p><code>replacement_string</code> : a <code>string</code> to be used as the replacement,</p>
</li>
<li>
<p><code>limit</code> : (Optional) an <code>integer</code> - maximum number of occurrences to
be replaced. If not specified or negative then all occurrences will be
replaced</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a <code>string</code> that is obtained after the replacements,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value or non-integer <code>limit</code> will cause a
type error,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": replace(" like x-phone the voicemail_service is awesome", " like x-phone", "like product-a"),
  "v2": replace("x-phone and x-phone", "x-phone", "product-a", 1)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": "like product-a the voicemail_service is awesome",
  "v2": "product-a and x-phone"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="reverse">reverse</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>reverse(string)</pre>
</div>
</div>
</li>
<li>
<p>Returns a string formed by reversing characters in the input <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be reversed</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a string containing characters from the the input <code>string</code> in the
reverse order,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-string value</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>reverse("hello");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"olleh"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rtrim">rtrim</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>rtrim(string[, chars]);</pre>
</div>
</div>
</li>
<li>
<p>Returns a new string with all trailing characters that appear in
<code>chars</code> removed. By default, white space is the character to trim.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be trimmed,</p>
</li>
<li>
<p><code>chars</code> : a <code>string</code> that contains characters that are used to trim.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a trimmed, new <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": rtrim("i like x-phone", "x-phone"),
  "v2": rtrim("i like x-phone", "onexph")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": "i like ", "v2": "i like " }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="split">split</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>split(string, sep)</pre>
</div>
</div>
</li>
<li>
<p>Splits the input <code>string</code> into an array of substrings separated by the
string <code>sep</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be split.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an array of substrings by splitting the input <code>string</code> by <code>sep</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>split("test driven development", " ");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ "test", "driven", "development" ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="starts_with">starts_with</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>starts_with(string, substring_to_start_with)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> starts with the string
<code>substring_to_start_with</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might start with the given string.</p>
</li>
<li>
<p><code>substring_to_start_with</code> : a <code>string</code> that might be contained as the
starting substring.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code>, returns <code>true</code> if <code>string</code> starts with the string
<code>substring_to_start_with</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1" : starts_with(" like the plan, amazing", " like"),
  "v2" : starts_with("I like the plan, amazing", " like")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="substr">substr</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>substr(string, offset[, length])</pre>
</div>
</div>
</li>
<li>
<p>Returns the substring from the given string <code>string</code> based on the
given start offset <code>offset</code> with the optional <code>length</code>. The function
uses the 0-based position. Another version of the function uses the
1-based position. Below are the aliases for each version:</p>
</li>
<li>
<p>Aliases:</p>
<div class="ulist">
<ul>
<li>
<p>0-Based: <code>substring</code>, <code>substr</code>, <code>substring0</code>, <code>substr0</code>.</p>
</li>
<li>
<p>1-Based: <code>substring1</code>, <code>substr1</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be extracted.</p>
</li>
<li>
<p><code>offset</code> : an <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value as the
starting offset of the substring in <code>string</code> (starting at 0). If
negative then counted from the end of the string.</p>
</li>
<li>
<p><code>length</code> : (Optional) an an <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>
value as the length of the substring.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> that represents the substring,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value, or if the substring could not be obtained because the
starting offset is not within string bounds or <code>length</code> is negative.</p>
</li>
<li>
<p>a <code>null</code> will be returned if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-string value.</p>
</li>
<li>
<p>the second argument is not a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or
<code>bigint</code>.</p>
</li>
<li>
<p>the third argument is not a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or
<code>bigint</code> if the argument is present.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": substr("test string", 6, 3), "v2": substr1("test string", 6, 3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": "tri", "v2": "str" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>substring</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="trim">trim</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>trim(string[, chars]);</pre>
</div>
</div>
</li>
<li>
<p>Returns a new string with all leading characters that appear in
<code>chars</code> removed. By default, white space is the character to trim.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be trimmed,</p>
</li>
<li>
<p><code>chars</code> : a <code>string</code> that contains characters that are used to trim.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a trimmed, new <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>trim("i like x-phone", "xphoen");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>" like "</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="upper">upper</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>upper(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts a given string <code>string</code> to its uppercase form.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> as the uppercase form of the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>upper("hello")</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"HELLO"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="string_concat">string_concat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>string_concat(array)</pre>
</div>
</div>
</li>
<li>
<p>Concatenates an array of strings <code>array</code> into a single string.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array</code> : an <code>array</code> or <code>multiset</code> of <code>string`s (could be `null</code> or
<code>missing</code>) to be concatenated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the concatenated <code>string</code> value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p><code>missing</code> if any element in the input array is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if any element in the input array is <code>null</code> but no element in
the input array is <code>missing</code>,</p>
</li>
<li>
<p>any other non-array input value or non-integer element in the input
array will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>string_concat(["ASTERIX", " ", "ROCKS!"]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"ASTERIX ROCKS!"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="string_join">string_join</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>string_join(array, string)</pre>
</div>
</div>
</li>
<li>
<p>Joins an array or multiset of strings <code>array</code> with the given separator
<code>string</code> into a single string.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array</code> : an <code>array</code> or <code>multiset</code> of strings (could be <code>null</code>) to be
joined.</p>
</li>
<li>
<p><code>string</code> : a <code>string</code> to serve as the separator.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the joined <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p><code>missing</code> if the first argument array contains a <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if the first argument array contains a <code>null</code> but does not
contain a <code>missing</code>,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-array value, or contains any
other non-string value,</p>
</li>
<li>
<p>or, the second argument is any other non-string value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>string_join(["ASTERIX", "ROCKS~"], "!! ");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"ASTERIX!! ROCKS~"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="string_to_codepoint">string_to_codepoint</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>string_to_codepoint(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts the string <code>string</code> to its code_based representation.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that will be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> of the code points for the string <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>string_to_codepoint("Hello ASTERIX!");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ 72, 101, 108, 108, 111, 32, 65, 83, 84, 69, 82, 73, 88, 33 ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="codepoint_to_string">codepoint_to_string</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>codepoint_to_string(array)</pre>
</div>
</div>
</li>
<li>
<p>Converts the ordered code_based representation <code>array</code> to the
corresponding string.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array</code> : an <code>array</code> of integer code_points.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> representation of <code>array</code>.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p><code>missing</code> if any element in the input array is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if any element in the input array is <code>null</code> but no element in
the input array is <code>missing</code>,</p>
</li>
<li>
<p>any other non-array input value or non-integer element in the input
array will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>codepoint_to_string([72, 101, 108, 108, 111, 32, 65, 83, 84, 69, 82, 73, 88, 33]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"Hello ASTERIX!"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="substring_before">substring_before</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>substring_before(string, string_pattern)</pre>
</div>
</div>
</li>
<li>
<p>Returns the substring from the given string <code>string</code> before the given
pattern <code>string_pattern</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be extracted.</p>
</li>
<li>
<p><code>string_pattern</code> : a <code>string</code> pattern to be searched.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> that represents the substring,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>substring_before(" like x-phone", "x-phone");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>" like "</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="substring_after">substring_after</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>substring_after(string, string_pattern);</p>
</div>
</li>
<li>
<p>Returns the substring from the given string <code>string</code> after the given
pattern <code>string_pattern</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be extracted.</p>
</li>
<li>
<p><code>string_pattern</code> : a <code>string</code> pattern to be searched.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> that represents the substring,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>substring_after(" like x-phone", "xph");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"one"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="binary-functions">Binary Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="parse_binary">parse_binary</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>parse_binary(string, encoding)</p>
</div>
</li>
<li>
<p>Creates a <code>binary</code> from an string encoded in <code>encoding</code> format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : an encoded <code>string</code>,</p>
</li>
<li>
<p><code>encoding</code> : a string notation specifies the encoding type of the
given <code>string</code>. Currently we support <code>hex</code> and <code>base64</code> format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>binary</code> that is decoded from the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>[ parse_binary("ABCDEF0123456789","hex"),
parse_binary("abcdef0123456789","HEX"),
parse_binary('QXN0ZXJpeAE=',"base64") ];</p>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>[ hex("ABCDEF0123456789"), hex("ABCDEF0123456789"),
hex("4173746572697801") ]</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="print_binary">print_binary</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>print_binary(binary, encoding)</p>
</div>
</li>
<li>
<p>Prints a <code>binary</code> to the required encoding <code>string</code> format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>binary</code> : a <code>binary</code> data need to be printed.</p>
</li>
<li>
<p><code>encoding</code> : a string notation specifies the expected encoding type.
Currently we support <code>hex</code> and <code>base64</code> format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> that represents the encoded format of a <code>binary</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>[ print_binary(hex("ABCDEF0123456789"), "base64"), print_binary(base64("q83vASNFZ4k="), "hex") ]</pre>
</div>
</div>
</li>
<li>
<p>The expected result are:</p>
<div class="listingblock">
<div class="content">
<pre>[ "q83vASNFZ4k=", "ABCDEF0123456789" ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="binary_length">binary_length</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>binary_length(binary)</p>
</div>
</li>
<li>
<p>Returns the number of bytes storing the binary data.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>binary</code> : a <code>binary</code> value to be checked.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>bigint</code> that represents the number of bytes,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-binary input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>binary_length(hex("00AA"))</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>2</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sub_binary">sub_binary</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>sub_binary(binary, offset[, length])</p>
</div>
</li>
<li>
<p>Returns the sub binary from the given <code>binary</code> based on the given
start offset with the optional <code>length</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>binary</code> : a <code>binary</code> to be extracted,</p>
</li>
<li>
<p><code>offset</code> : a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or <code>bigint</code> value as
the starting offset of the sub binary in <code>binary</code> (starting at 0),</p>
</li>
<li>
<p><code>length</code> : (Optional) a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or <code>bigint</code>
value as the length of the sub binary.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>binary</code> that represents the sub binary,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-binary value,</p>
</li>
<li>
<p>or, the second argument is any other non-integer value,</p>
</li>
<li>
<p>or, the third argument is any other non-integer value, if it is
present.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>sub_binary(hex("AABBCCDD"), 4);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is</p>
<div class="listingblock">
<div class="content">
<pre>hex("DD")</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="binary_concat">binary_concat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>binary_concat(array)</p>
</div>
</li>
<li>
<p>Concatenates a binary <code>array</code> or <code>multiset</code> into a single binary.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array</code> : an <code>array</code> or <code>multiset</code> of binaries (could be <code>null</code> or
<code>missing</code>) to be concatenated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value :</p>
<div class="ulist">
<ul>
<li>
<p>the concatenated <code>binary</code> value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p><code>missing</code> if any element in the input array is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if any element in the input array is <code>null</code> but no element in
the input array is <code>missing</code>,</p>
</li>
<li>
<p>any other non-array input value or non-binary element in the input
array will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>binary_concat([hex("42"), hex(""), hex('42')]);</p>
</div>
</li>
<li>
<p>The expected result is</p>
<div class="paragraph">
<p>hex("4242")</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spatial-functions">Spatial Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="create_point">create_point</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>create_point(x, y)</pre>
</div>
</div>
</li>
<li>
<p>Creates the primitive type <code>point</code> using an <code>x</code> and <code>y</code> value.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<p><code>x</code> : a <code>double</code> that represents the x-coordinate,</p>
</li>
<li>
<p><code>y</code> : a <code>double</code> that represents the y-coordinate.</p>
</li>
<li>
<p>Return Value:</p>
</li>
<li>
<p>a <code>point</code> representing the ordered pair (<code>x</code>, <code>y</code>),</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-double input value will cause a type error.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "point": create_point(30.0,70.0) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "point": point("30.0,70.0") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="create_line">create_line</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>create_line(point1, point2)</pre>
</div>
</div>
</li>
<li>
<p>Creates the primitive type <code>line</code> using <code>point1</code> and <code>point2</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>point1</code> : a <code>point</code> that represents the start point of the line.</p>
</li>
<li>
<p><code>point2</code> : a <code>point</code> that represents the end point of the line.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a spatial <code>line</code> created using the points provided in <code>point1</code> and
<code>point2</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-point input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "line": create_line(create_point(30.0,70.0), create_point(50.0,90.0)) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "line": line("30.0,70.0 50.0,90.0") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="create_rectangle">create_rectangle</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>create_rectangle(point1, point2)</pre>
</div>
</div>
</li>
<li>
<p>Creates the primitive type <code>rectangle</code> using <code>point1</code> and <code>point2</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>point1</code> : a <code>point</code> that represents the lower_left point of the
rectangle.</p>
</li>
<li>
<p><code>point2</code> : a <code>point</code> that represents the upper_right point of the
rectangle.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a spatial <code>rectangle</code> created using the points provided in <code>point1</code>
and <code>point2</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-point input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "rectangle": create_rectangle(create_point(30.0,70.0), create_point(50.0,90.0)) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "rectangle": rectangle("30.0,70.0 50.0,90.0") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="create_circle">create_circle</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>create_circle(point, radius)</pre>
</div>
</div>
</li>
<li>
<p>Creates the primitive type <code>circle</code> using <code>point</code> and <code>radius</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>point</code> : a <code>point</code> that represents the center of the circle.</p>
</li>
<li>
<p><code>radius</code> : a <code>double</code> that represents the radius of the circle.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a spatial <code>circle</code> created using the center point and the radius
provided in <code>point</code> and <code>radius</code>.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-point value,</p>
</li>
<li>
<p>or, the second argument is any other non-double value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "circle": create_circle(create_point(30.0,70.0), 5.0) }</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "circle": circle("30.0,70.0 5.0") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="create_polygon">create_polygon</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>create_polygon(array)</pre>
</div>
</div>
</li>
<li>
<p>Creates the primitive type <code>polygon</code> using the double values provided
in the argument <code>array</code>. Each two consecutive double values represent a
point starting from the first double value in the array. Note that at
least six double values should be specified, meaning a total of three
points.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array</code> : an array of doubles representing the points of the polygon.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>polygon</code>, represents a spatial simple polygon created using the
points provided in <code>array</code>.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p><code>missing</code> if any element in the input array is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if any element in the input array is <code>null</code> but no element in
the input array is <code>missing</code>,</p>
</li>
<li>
<p>any other non-array input value or non-double element in the input
array will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "polygon": create_polygon([1.0,1.0,2.0,2.0,3.0,3.0,4.0,4.0]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "polygon": polygon("1.0,1.0 2.0,2.0 3.0,3.0 4.0,4.0") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_xget_y">get_x/get_y</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_x(point) or get_y(point)</pre>
</div>
</div>
</li>
<li>
<p>Returns the x or y coordinates of a point <code>point</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>point</code> : a <code>point</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> representing the x or y coordinates of the point <code>point</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-point input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "x_coordinate": get_x(create_point(2.3,5.0)), "y_coordinate": get_y(create_point(2.3,5.0)) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "x_coordinate": 2.3, "y_coordinate": 5.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_points">get_points</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_points(spatial_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns an ordered array of the points forming the spatial object
<code>spatial_object</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>spatial_object</code> : a <code>point</code>, <code>line</code>, <code>rectangle</code>, <code>circle</code>, or
<code>polygon</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> of the points forming the spatial object <code>spatial_object</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-spatial-object input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>get_points(create_polygon([1.0,1.0,2.0,2.0,3.0,3.0,4.0,4.0]))</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ point("1.0,1.0"), point("2.0,2.0"), point("3.0,3.0"), point("4.0,4.0") ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_centerget_radius">get_center/get_radius</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_center(circle_expression) or get_radius(circle_expression)</pre>
</div>
</div>
</li>
<li>
<p>Returns the center and the radius of a circle <code>circle_expression</code>,
respectively.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>circle_expression</code> : a <code>circle</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>point</code> or <code>double</code>, represent the center or radius of the circle
<code>circle_expression</code>.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-circle input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "circle_radius": get_radius(create_circle(create_point(6.0,3.0), 1.0)),
  "circle_center": get_center(create_circle(create_point(6.0,3.0), 1.0))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "circle_radius": 1.0, "circle_center": point("6.0,3.0") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="spatial_distance">spatial_distance</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_distance(point1, point2)</pre>
</div>
</div>
</li>
<li>
<p>Returns the Euclidean distance between <code>point1</code> and <code>point2</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>point1</code> : a <code>point</code>.</p>
</li>
<li>
<p><code>point2</code> : a <code>point</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> as the Euclidean distance between <code>point1</code> and <code>point2</code>.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-point input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_distance(point("47.44,80.65"), create_point(30.0,70.0));</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>20.434678857275934</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="spatial_area">spatial_area</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_area(spatial_2d_expression)</pre>
</div>
</div>
</li>
<li>
<p>Returns the spatial area of <code>spatial_2d_expression</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>spatial_2d_expression</code> : a <code>rectangle</code>, <code>circle</code>, or <code>polygon</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> representing the area of <code>spatial_2d_expression</code>.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-2d-spatial-object will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_area(create_circle(create_point(0.0,0.0), 5.0));</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>78.53981625</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="spatial_intersect">spatial_intersect</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_intersect(spatial_object1, spatial_object2)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether <code>@arg1</code> and <code>@arg2</code> spatially intersect each other.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>spatial_object1</code> : a <code>point</code>, <code>line</code>, <code>rectangle</code>, <code>circle</code>, or
<code>polygon</code>.</p>
</li>
<li>
<p><code>spatial_object2</code> : a <code>point</code>, <code>line</code>, <code>rectangle</code>, <code>circle</code>, or
<code>polygon</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> representing whether <code>spatial_object1</code> and
<code>spatial_object2</code> spatially overlap with each other,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-spatial-object input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_intersect(point("39.28,70.48"), create_rectangle(create_point(30.0,70.0), create_point(40.0,80.0)));</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="spatial_cell">spatial_cell</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_cell(point1, point2, x_increment, y_increment)</pre>
</div>
</div>
</li>
<li>
<p>Returns the grid cell that <code>point1</code> belongs to.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>point1</code> : a <code>point</code> representing the point of interest that its grid
cell will be returned.</p>
</li>
<li>
<p><code>point2</code> : a <code>point</code> representing the origin of the grid.</p>
</li>
<li>
<p><code>x_increment</code> : a <code>double</code>, represents X increments.</p>
</li>
<li>
<p><code>y_increment</code> : a <code>double</code>, represents Y increments.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>rectangle</code> representing the grid cell that <code>point1</code> belongs to,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first or second argument is any other non-point value,</p>
</li>
<li>
<p>or, the second or third argument is any other non-double value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>spatial_cell(point("39.28,70.48"), create_point(20.0,50.0), 5.5, 6.0);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>rectangle("36.5,68.0 42.0,74.0");</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="similarity-functions">Similarity Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AsterixDB supports queries with different similarity functions,
including <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">edit
distance</a> and <a href="https://en.wikipedia.org/wiki/Jaccard_index">Jaccard</a>.</p>
</div>
<div class="sect2">
<h3 id="edit_distance">edit_distance</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>edit_distance(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Returns the edit distance of <code>expression1</code> and <code>expression2</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expression1</code> : a <code>string</code> or a homogeneous <code>array</code> of a comparable
item type.</p>
</li>
<li>
<p><code>expression2</code> : The same type as <code>expression1</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>bigint</code> that represents the edit distance between <code>expression1</code>
and <code>expression2</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Note: an
<a href="similarity.html#UsingIndexesToSupportSimilarityQueries">n_gram
index</a> can be utilized for this function.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>edit_distance("SuzannaTillson", "Suzanna Tilson");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
2
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="edit_distance_check">edit_distance_check</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>edit_distance_check(expression1, expression2, threshold)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the edit distance of <code>expression1</code> and <code>expression2</code> is
within a given threshold.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expression1</code> : a <code>string</code> or a homogeneous <code>array</code> of a comparable
item type.</p>
</li>
<li>
<p><code>expression2</code> : The same type as <code>expression1</code>.</p>
</li>
<li>
<p><code>threshold</code> : a <code>bigint</code> that represents the distance threshold.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> with two items:</p>
<div class="ulist">
<ul>
<li>
<p>The first item contains a <code>boolean</code> value representing whether the
edit distance of <code>expression1</code> and <code>expression2</code> is within the given
threshold.</p>
</li>
<li>
<p>The second item contains an <code>integer</code> that represents the edit
distance of <code>expression1</code> and <code>expression2</code> if the first item is true.</p>
</li>
<li>
<p>If the first item is false, then the second item is set to
2147483647.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first or second argument is any other non-string value,</p>
</li>
<li>
<p>or, the third argument is any other non-bigint value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Note: an
<a href="similarity.html#UsingIndexesToSupportSimilarityQueries">n_gram
index</a> can be utilized for this function.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>edit_distance_check("happy","hapr",2);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ true, 2 ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="edit_distance_contains">edit_distance_contains</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>edit_distance_contains(expression1, expression2, threshold)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether <code>expression1</code> contains <code>expression2</code> with an
<a href="http://en.wikipedia.org/wiki/Levenshtein_distance">edit distance</a> within
a given threshold.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expression1</code> : a <code>string</code> or a homogeneous <code>array</code> of a comparable
item type.</p>
</li>
<li>
<p><code>expression2</code> : The same type as <code>expression1</code>.</p>
</li>
<li>
<p><code>threshold</code> : a <code>bigint</code> that represents the distance threshold.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> with two items:</p>
<div class="ulist">
<ul>
<li>
<p>The first item contains a <code>boolean</code> value representing whether
<code>expression1</code> can contain <code>expression2</code>.</p>
</li>
<li>
<p>The second item contains an <code>integer</code> that represents the required
edit distance for <code>expression1</code> to contain <code>expression2</code> if the first
item is true.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first or second argument is any other non-string value,</p>
</li>
<li>
<p>or, the third argument is any other non-bigint value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Note: an
<a href="similarity.html#UsingIndexesToSupportSimilarityQueries">n_gram
index</a> can be utilized for this function.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>edit_distance_contains("happy","hapr",2);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ true, 1 ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="similarity_jaccard">similarity_jaccard</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>similarity_jaccard(array1, array2)</pre>
</div>
</div>
</li>
<li>
<p>Returns the <a href="http://en.wikipedia.org/wiki/Jaccard_index">Jaccard
similarity</a> of <code>array1</code> and <code>array2</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array1</code> : an <code>array</code> or <code>multiset</code>.</p>
</li>
<li>
<p><code>array2</code> : an <code>array</code> or <code>multiset</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>float</code> that represents the Jaccard similarity of <code>array1</code> and
<code>array2</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p><code>missing</code> if any element in any input array is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if any element in any input array is <code>null</code> but no element in
the input array is <code>missing</code>,</p>
</li>
<li>
<p>any other non-array input value or non-integer element in any input
array will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Note: a
<a href="similarity.html#UsingIndexesToSupportSimilarityQueries">keyword
index</a> can be utilized for this function.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>similarity_jaccard([1,5,8,9], [1,5,9,10]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>0.6
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="similarity_jaccard_check">similarity_jaccard_check</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>similarity_jaccard_check(array1, array2, threshold)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether <code>array1</code> and <code>array2</code> have a
<a href="http://en.wikipedia.org/wiki/Jaccard_index">Jaccard similarity</a> greater
than or equal to threshold. Again, the “check” version of Jaccard is
faster than the "non_check" version.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array1</code> : an <code>array</code> or <code>multiset</code>.</p>
</li>
<li>
<p><code>array2</code> : an <code>array</code> or <code>multiset</code>.</p>
</li>
<li>
<p><code>threshold</code> : a <code>double</code> that represents the similarity threshold.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> with two items:</p>
<div class="ulist">
<ul>
<li>
<p>The first item contains a <code>boolean</code> value representing whether
<code>array1</code> and <code>array2</code> are similar.</p>
</li>
<li>
<p>The second item contains a <code>float</code> that represents the Jaccard
similarity of <code>array1</code> and <code>array2</code> if it is greater than or equal to
the threshold, or 0 otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p><code>missing</code> if any element in any input array is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if any element in any input array is <code>null</code> but no element in
the input array is <code>missing</code>,</p>
</li>
<li>
<p>a type error will be raised if: * the first or second argument is any
other non-array value, * or, the third argument is any other non-double
value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Note: a
<a href="similarity.html#UsingIndexesToSupportSimilarityQueries">keyword
index</a> can be utilized for this function.</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>similarity_jaccard_check([1,5,8,9], [1,5,9,10], 0.6);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ false, 0.0 ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tokenizing-functions">Tokenizing Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="word_tokens">word_tokens</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>word_tokens(string)</pre>
</div>
</div>
</li>
<li>
<p>Returns an array of word tokens of <code>string</code> using non_alphanumeric
characters as delimiters.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that will be tokenized.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> of <code>string</code> word tokens,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>word_tokens("I like the phone, awesome!");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ "i", "like", "the", "phone", "awesome" ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="temporal-functions">Temporal Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="get_yearget_monthget_dayget_hourget_minuteget_secondget_millisecond">get_year/get_month/get_day/get_hour/get_minute/get_second/get_millisecond</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_year/get_month/get_day/get_hour/get_minute/get_second/get_millisecond(temporal_value)</pre>
</div>
</div>
</li>
<li>
<p>Accessors for accessing fields in a temporal value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>temporal_value</code> : a temporal value represented as one of the
following types: <code>date</code>, <code>datetime</code>, <code>time</code>, and <code>duration</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>bigint</code> value representing the field to be extracted,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "year": get_year(date("2010-10-30")),
  "month": get_month(datetime("1987-11-19T23:49:23.938")),
  "day": get_day(date("2010-10-30")),
  "hour": get_hour(time("12:23:34.930+07:00")),
  "min": get_minute(duration("P3Y73M632DT49H743M3948.94S")),
  "second": get_second(datetime("1987-11-19T23:49:23.938")),
  "ms": get_millisecond(duration("P3Y73M632DT49H743M3948.94S"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "year": 2010, "month": 11, "day": 30, "hour": 5, "min": 28, "second": 23, "ms": 94 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adjust_datetime_for_timezone">adjust_datetime_for_timezone</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>adjust_datetime_for_timezone(datetime, string)</pre>
</div>
</div>
</li>
<li>
<p>Adjusts the given datetime <code>datetime</code> by applying the timezone
information <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>datetime</code> : a <code>datetime</code> value to be adjusted.</p>
</li>
<li>
<p><code>string</code> : a <code>string</code> representing the timezone information.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> value representing the new datetime after being adjusted
by the timezone information,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-datetime value,</p>
</li>
<li>
<p>or, the second argument is any other non-string value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>adjust_datetime_for_timezone(datetime("2008-04-26T10:10:00"), "+08:00");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"2008-04-26T18:10:00.000+08:00"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adjust_time_for_timezone">adjust_time_for_timezone</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>adjust_time_for_timezone(time, string)</pre>
</div>
</div>
</li>
<li>
<p>Adjusts the given time <code>time</code> by applying the timezone information
<code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>time</code> : a <code>time</code> value to be adjusted.</p>
</li>
<li>
<p><code>string</code> : a <code>string</code> representing the timezone information.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> value representing the new time after being adjusted by
the timezone information,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-time value,</p>
</li>
<li>
<p>or, the second argument is any other non-string value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>adjust_time_for_timezone(get_time_from_datetime(datetime("2008-04-26T10:10:00")), "+08:00");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"18:10:00.000+08:00"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="calendar_duration_from_datetime">calendar_duration_from_datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>calendar_duration_from_datetime(datetime, duration_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets a user_friendly representation of the duration <code>duration_value</code>
based on the given datetime <code>datetime</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>datetime</code> : a <code>datetime</code> value to be used as the reference time
point.</p>
</li>
<li>
<p><code>duration_value</code> : a <code>duration</code> value to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>duration</code> value with the duration as <code>duration_value</code> but with a
user_friendly representation,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-datetime value,</p>
</li>
<li>
<p>or, the second argument is any other non-duration input value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>calendar_duration_from_datetime(
      datetime("2016-03-26T10:10:00"),
      datetime("2016-03-26T10:10:00") - datetime("2011-01-01T00:00:00")
);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>duration("P5Y2M24DT10H10M")</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_year_month_durationget_day_time_duration">get_year_month_duration/get_day_time_duration</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_year_month_duration/get_day_time_duration(duration_value)</pre>
</div>
</div>
</li>
<li>
<p>Extracts the correct <code>duration</code> subtype from <code>duration_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>duration_value</code> : a <code>duration</code> value to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>year_month_duration</code> value or a <code>day_time_duration</code> value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-duration input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>get_year_month_duration(duration("P12M50DT10H"));</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>year_month_duration("P1Y")</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="months_from_year_month_durationms_from_day_time_duration">months_from_year_month_duration/ms_from_day_time_duration</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>months_from_year_month_duration/ms_from_day_time_duration(duration_value)</pre>
</div>
</div>
</li>
<li>
<p>Extracts the number of months or the number of milliseconds from the
<code>duration</code> subtype.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>duration_value</code> : a <code>duration</code> of the correct subtype.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> representing the number of months/milliseconds,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-duration input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "months": months_from_year_month_duration(get_year_month_duration(duration("P5Y7MT50M"))),
    "milliseconds": ms_from_day_time_duration(get_day_time_duration(duration("P5Y7MT50M")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{"months": 67, "milliseconds": 3000000}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="duration_from_monthsduration_from_ms">duration_from_months/duration_from_ms</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>duration_from_months/duration_from_ms(number_value)</pre>
</div>
</div>
</li>
<li>
<p>Creates a <code>duration</code> from <code>number_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>number_value</code> : a <code>bigint</code> representing the number of
months/milliseconds</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>duration</code> containing <code>number_value</code> value for months/milliseconds,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-duration input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>duration_from_months(8);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>duration("P8M")</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="duration_from_interval">duration_from_interval</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>duration_from_interval(interval_value)</pre>
</div>
</div>
</li>
<li>
<p>Creates a <code>duration</code> from <code>interval_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval_value</code> : an <code>interval</code> value</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>duration</code> representing the time in the <code>interval_value</code></p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-duration input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "dr1" : duration_from_interval(interval(date("2010-10-30"), date("2010-12-21"))),
  "dr2" : duration_from_interval(interval(datetime("2012-06-26T01:01:01.111"), datetime("2012-07-27T02:02:02.222"))),
  "dr3" : duration_from_interval(interval(time("12:32:38"), time("20:29:20"))),
  "dr4" : duration_from_interval(null)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "dr1": day_time_duration("P52D"),
  "dr2": day_time_duration("P31DT1H1M1.111S"),
  "dr3": day_time_duration("PT7H56M42S"),
  "dr4": null
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="current_date">current_date</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>current_date()</pre>
</div>
</div>
</li>
<li>
<p>Gets the current date.</p>
</li>
<li>
<p>Arguments: None</p>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>date</code> value of the date when the function is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="current_time">current_time</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>current_time()</pre>
</div>
</div>
</li>
<li>
<p>Get the current time</p>
</li>
<li>
<p>Arguments: None</p>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>time</code> value of the time when the function is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="current_datetime">current_datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>current_datetime()</pre>
</div>
</div>
</li>
<li>
<p>Get the current datetime</p>
</li>
<li>
<p>Arguments: None</p>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>datetime</code> value of the datetime when the function is called.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_date_from_datetime">get_date_from_datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_date_from_datetime(datetime)</pre>
</div>
</div>
</li>
<li>
<p>Gets the date value from the given datetime value <code>datetime</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>datetime</code>: a <code>datetime</code> value to be extracted from.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>date</code> value from the datetime,</p>
</li>
<li>
<p>any other non-datetime input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_time_from_datetime">get_time_from_datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_time_from_datetime(datetime)</pre>
</div>
</div>
</li>
<li>
<p>Get the time value from the given datetime value <code>datetime</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>datetime</code>: a <code>datetime</code> value to be extracted from.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>time</code> value from the datetime.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-datetime input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>get_time_from_datetime(datetime("2016-03-26T10:10:00"));</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>time("10:10:00.000Z")</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="day_of_week">day_of_week</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>day_of_week(date)</pre>
</div>
</div>
</li>
<li>
<p>Finds the day of the week for a given date (1_7)</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date</code>: a <code>date</code> value (Can also be a <code>datetime</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>tinyint</code> representing the day of the week (1_7),</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-date input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>day_of_week(datetime("2012-12-30T12:12:12.039Z"));</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
7
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="date_from_unix_time_in_days">date_from_unix_time_in_days</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>date_from_unix_time_in_days(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets a date representing the time after <code>numeric_value</code> days since
1970_01_01.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value
representing the number of days.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>date</code> value as the time after <code>numeric_value</code> days since
1970-01-01,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datetime_from_unix_time_in_ms">datetime_from_unix_time_in_ms</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>datetime_from_unix_time_in_ms(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets a datetime representing the time after <code>numeric_value</code>
milliseconds since 1970_01_01T00:00:00Z.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value
representing the number of milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>datetime</code> value as the time after <code>numeric_value</code> milliseconds
since 1970-01-01T00:00:00Z,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datetime_from_unix_time_in_secs">datetime_from_unix_time_in_secs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>datetime_from_unix_time_in_secs(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets a datetime representing the time after <code>numeric_value</code> seconds
since 1970_01_01T00:00:00Z.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value
representing the number of seconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>datetime</code> value as the time after <code>numeric_value</code> seconds since
1970_01_01T00:00:00Z,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datetime_from_date_time">datetime_from_date_time</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>datetime_from_date_time(date,time)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gets a datetime representing the combination of <code>date</code> and <code>time</code></p>
<div class="ulist">
<ul>
<li>
<p>Arguments:</p>
</li>
<li>
<p><code>date</code>: a <code>date</code> value</p>
</li>
<li>
<p><code>time</code> a <code>time</code> value</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>datetime</code> value by combining <code>date</code> and <code>time</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-date value,</p>
</li>
<li>
<p>or, the second argument is any other non-time value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="time_from_unix_time_in_ms">time_from_unix_time_in_ms</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>time_from_unix_time_in_ms(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets a time representing the time after <code>numeric_value</code> milliseconds
since 00:00:00.000Z.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value
representing the number of milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>time</code> value as the time after <code>numeric_value</code> milliseconds since
00:00:00.000Z,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "date": date_from_unix_time_in_days(15800),
  "datetime": datetime_from_unix_time_in_ms(1365139700000),
  "time": time_from_unix_time_in_ms(3748)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "date": date("2013-04-05"), "datetime": datetime("2013-04-05T05:28:20.000Z"), "time": time("00:00:03.748Z") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="unix_time_from_date_in_days">unix_time_from_date_in_days</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>unix_time_from_date_in_days(date_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets an integer value representing the number of days since 1970_01_01
for <code>date_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date_value</code>: a <code>date</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of days,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-date input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="unix_time_from_datetime_in_ms">unix_time_from_datetime_in_ms</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>unix_time_from_datetime_in_ms(datetime_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets an integer value representing the time in milliseconds since
1970_01_01T00:00:00Z for <code>datetime_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>datetime_value</code> : a <code>datetime</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of milliseconds,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-datetime input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="unix_time_from_datetime_in_secs">unix_time_from_datetime_in_secs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>unix_time_from_datetime_in_secs(datetime_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets an integer value representing the time in seconds since
1970_01_01T00:00:00Z for <code>datetime_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>datetime_value</code> : a <code>datetime</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of seconds,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-datetime input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="unix_time_from_time_in_ms">unix_time_from_time_in_ms</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>unix_time_from_time_in_ms(time_value)</pre>
</div>
</div>
</li>
<li>
<p>Gets an integer value representing the time the milliseconds since
00:00:00.000Z for <code>time_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>time_value</code> : a <code>time</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of milliseconds,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-datetime input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "date": date_from_unix_time_in_days(15800),
  "datetime": datetime_from_unix_time_in_ms(1365139700000),
  "time": time_from_unix_time_in_ms(3748)
}</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "date": date("2013-04-05"), "datetime": datetime("2013-04-05T05:28:20.000Z"), "time": time("00:00:03.748Z") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="parse_dateparse_timeparse_datetime">parse_date/parse_time/parse_datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>parse_date/parse_time/parse_datetime(date,formatting_expression)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creates a <code>date/time/date_time</code> value by treating <code>date</code> with
formatting <code>formatting_expression</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date</code>: a <code>string</code> value representing the <code>date/time/datetime</code>.</p>
</li>
<li>
<p><code>formatting_expression</code> a <code>string</code> value providing the formatting for
<code>date_expression</code>.Characters used to create date expression:</p>
</li>
<li>
<p><code>h</code> hours</p>
</li>
<li>
<p><code>m</code> minutes</p>
</li>
<li>
<p><code>s</code> seconds</p>
</li>
<li>
<p><code>n</code> milliseconds</p>
</li>
<li>
<p><code>a</code> am/pm</p>
</li>
<li>
<p><code>z</code> timezone</p>
</li>
<li>
<p><code>Y</code> year</p>
</li>
<li>
<p><code>M</code> month</p>
</li>
<li>
<p><code>D</code> day</p>
</li>
<li>
<p><code>W</code> weekday</p>
</li>
<li>
<p><code>_</code>, <code>'</code>, <code>/</code>, <code>.</code>, <code>,</code>, <code>T</code> seperators for both time and date</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>date/time/date_time</code> value corresponding to <code>date</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
</li>
<li>
<p>the first argument is any other non-date value,</p>
</li>
<li>
<p>the second argument is any other non-string value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>parse_time("30:30","m:s");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>time("00:30:30.000Z")</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="print_dateprint_timeprint_datetime">print_date/print_time/print_datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>print_date/print_time/print_datetime(date,formatting_expression)</pre>
</div>
</div>
</li>
<li>
<p>Creates a <code>string</code> representing a <code>date/time/date_time</code> value of the
<code>date</code> using the formatting <code>formatting_expression</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date</code>: a <code>date/time/datetime</code> value.</p>
</li>
<li>
<p><code>formatting_expression</code> a <code>string</code> value providing the formatting for
<code>date_expression</code>. Characters used to create date expression:</p>
</li>
<li>
<p><code>h</code> hours</p>
</li>
<li>
<p><code>m</code> minutes</p>
</li>
<li>
<p><code>s</code> seconds</p>
</li>
<li>
<p><code>n</code> milliseconds</p>
</li>
<li>
<p><code>a</code> am/pm</p>
</li>
<li>
<p><code>z</code> timezone</p>
</li>
<li>
<p><code>Y</code> year</p>
</li>
<li>
<p><code>M</code> month</p>
</li>
<li>
<p><code>D</code> day</p>
</li>
<li>
<p><code>W</code> weekday</p>
</li>
<li>
<p><code>_</code>, <code>'</code>, <code>/</code>, <code>.</code>, <code>,</code>, <code>T</code> seperators for both time and date</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> value corresponding to <code>date</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-date value,</p>
</li>
<li>
<p>the second argument is any other non-string value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>print_time(time("00:30:30.000Z"),"m:s");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"30:30"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_interval_start-get_interval_end">get_interval_start, get_interval_end</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_interval_start/get_interval_end(interval)</pre>
</div>
</div>
</li>
<li>
<p>Gets the start/end of the given interval.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval</code>: the interval to be accessed.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>time</code>, <code>date</code>, or <code>datetime</code> (depending on the time instances of
the interval) representing the starting or ending time,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-interval value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "start": get_interval_start(interval_start_from_date("1984-01-01", "P1Y")),
  "end": get_interval_end(interval_start_from_date("1984-01-01", "P1Y"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "start": date("1984_01_01"), "end": date("1985_01_01") }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_interval_start_dateget_interval_start_datetimeget_interval_start_time-get_interval_end_dateget_interval_end_datetimeget_interval_end_time">get_interval_start_date/get_interval_start_datetime/get_interval_start_time, get_interval_end_date/get_interval_end_datetime/get_interval_end_time</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_interval_start_date/get_interval_start_datetime/get_interval_start_time/get_interval_end_date/get_interval_end_datetime/get_interval_end_time(interval)</pre>
</div>
</div>
</li>
<li>
<p>Gets the start/end of the given interval for the specific
date/datetime/time type.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval</code>: the interval to be accessed.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>time</code>, <code>date</code>, or <code>datetime</code> (depending on the function)
representing the starting or ending time,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-interval value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "start1": get_interval_start_date(interval_start_from_date("1984-01-01", "P1Y")),
  "end1": get_interval_end_date(interval_start_from_date("1984-01-01", "P1Y")),
  "start2": get_interval_start_datetime(interval_start_from_datetime("1984-01-01T08:30:00.000", "P1Y1H")),
  "end2": get_interval_end_datetime(interval_start_from_datetime("1984-01-01T08:30:00.000", "P1Y1H")),
  "start3": get_interval_start_time(interval_start_from_time("08:30:00.000", "P1H")),
  "end3": get_interval_end_time(interval_start_from_time("08:30:00.000", "P1H"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "start1": date("1984-01-01"),
  "end1": date("1985-01-01"),
  "start2": datetime("1984-01-01T08:30:00.000Z"),
  "end2": datetime("1985-01-01T09:30:00.000Z"),
  "start3": time("08:30:00.000Z"),
  "end3": time("09:30:00.000Z")
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="get_overlapping_interval">get_overlapping_interval</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_overlapping_interval(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>Gets the start/end of the given interval for the specific
date/datetime/time type.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>: an <code>interval</code> value</p>
</li>
<li>
<p><code>interval2</code>: an <code>interval</code> value</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>interval</code> that is overlapping <code>interval1</code> and <code>interval2</code>. If
<code>interval1</code> and <code>interval2</code> do not overlap <code>null</code> is returned. Note each
interval must be of the same type.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "overlap1": get_overlapping_interval(interval(time("11:23:39"), time("18:27:19")), interval(time("12:23:39"), time("23:18:00"))),
  "overlap2": get_overlapping_interval(interval(time("12:23:39"), time("18:27:19")), interval(time("07:19:39"), time("09:18:00"))),
  "overlap3": get_overlapping_interval(interval(date("1980-11-30"), date("1999-09-09")), interval(date("2013-01-01"), date("2014-01-01"))),
  "overlap4": get_overlapping_interval(interval(date("1980-11-30"), date("2099-09-09")), interval(date("2013-01-01"), date("2014-01-01"))),
  "overlap5": get_overlapping_interval(interval(datetime("1844-03-03T11:19:39"), datetime("2000-10-30T18:27:19")), interval(datetime("1989-03-04T12:23:39"), datetime("2009-10-10T23:18:00"))),
  "overlap6": get_overlapping_interval(interval(datetime("1989-03-04T12:23:39"), datetime("2000-10-30T18:27:19")), interval(datetime("1844-03-03T11:19:39"), datetime("1888-10-10T23:18:00")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "overlap1": interval(time("12:23:39.000Z"), time("18:27:19.000Z")),
  "overlap2": null,
  "overlap3": null,
  "overlap4": interval(date("2013-01-01"), date("2014_01_01")),
  "overlap5": interval(datetime("1989-03-04T12:23:39.000Z"), datetime("2000-10-30T18:27:19.000Z")),
  "overlap6": null
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_bin">interval_bin</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_bin(time_to_bin, time_bin_anchor, duration_bin_size)</pre>
</div>
</div>
</li>
<li>
<p>Returns the <code>interval</code> value representing the bin containing the
<code>time_to_bin</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>time_to_bin</code>: a date/time/datetime value representing the time to be
binned.</p>
</li>
<li>
<p><code>time_bin_anchor</code>: a date/time/datetime value representing an anchor
of a bin starts. The type of this argument should be the same as the
first <code>time_to_bin</code> argument.</p>
</li>
<li>
<p><code>duration_bin_size</code>: the duration value representing the size of the
bin, in the type of year_month_duration or day_time_duration. The type
of this duration should be compatible with the type of <code>time_to_bin</code>, so
that the arithmetic operation between <code>time_to_bin</code> and
<code>duration_bin_size</code> is well_defined. Currently AsterixDB supports the
following arithmetic operations:</p>
<div class="ulist">
<ul>
<li>
<p>datetime +|_ year_month_duration</p>
</li>
<li>
<p>datetime +|_ day_time_duration</p>
</li>
<li>
<p>date +|_ year_month_duration</p>
</li>
<li>
<p>date +|_ day_time_duration</p>
</li>
<li>
<p>time +|_ day_time_duration</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>interval</code> value representing the bin containing the <code>time_to_bin</code>
value. Note that the internal type of this interval value should be the
same as the <code>time_to_bin</code> type,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument or the second argument is any other
non-date/non-time/non-datetime value,</p>
</li>
<li>
<p>or, the second argument is any other
non-year_month_duration/non-day_time_duration value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "bin1": interval_bin(date("2010-10-30"), date("1990-01-01"), year_month_duration("P1Y")),
  "bin2": interval_bin(datetime("1987-11-19T23:49:23.938"), datetime("1990-01-01T00:00:00.000Z"), year_month_duration("P6M")),
  "bin3": interval_bin(time("12:23:34.930+07:00"), time("00:00:00"), day_time_duration("PT1M")),
  "bin4": interval_bin(datetime("1987-11-19T23:49:23.938"), datetime("2013-01-01T00:00:00.000"), day_time_duration("PT24H"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "bin1": interval(date("2010-01-01"),date("2011-01-01")),
  "bin2": interval(datetime("1987-07-01T00:00:00.000Z"), datetime("1988-01-01T00:00:00.000Z")),
  "bin3": interval(time("05:23:00.000Z"), time("05:24:00.000Z")),
  "bin4": interval(datetime("1987-11-19T00:00:00.000Z"), datetime("1987-11-20T00:00:00.000Z"))
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_start_from_datetimedatetime">interval_start_from_date/time/datetime</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_start_from_date/time/datetime(date/time/datetime, duration)</pre>
</div>
</div>
</li>
<li>
<p>Construct an <code>interval</code> value by the given starting
<code>date</code>/<code>time</code>/<code>datetime</code> and the <code>duration</code> that the interval lasts.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date/time/datetime</code>: a <code>string</code> representing a <code>date</code>, <code>time</code> or
<code>datetime</code>, or a <code>date</code>/<code>time</code>/<code>datetime</code> value, representing the
starting time point.</p>
</li>
<li>
<p><code>duration</code>: a <code>string</code> or <code>duration</code> value representing the duration
of the interval. Note that duration cannot be negative value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>interval</code> value representing the interval starting from the given
time point with the length of duration,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument or the second argument is any other
non-date/non-time/non-datetime value,</p>
</li>
<li>
<p>or, the second argument is any other non-duration value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "interval1": interval_start_from_date("1984-01-01", "P1Y"),
  "interval2": interval_start_from_time(time("02:23:28.394"), "PT3H24M"),
  "interval3": interval_start_from_datetime("1999-09-09T09:09:09.999", duration("P2M30D"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expectecd result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "interval1": interval(date("1984-01-01"), date("1985-01-01")),
  "interval2": interval(time("02:23:28.394Z"), time("05:47:28.394Z")),
  "interval3": interval(datetime("1999-09-09T09:09:09.999Z"), datetime("1999-12-09T09:09:09.999Z"))
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="overlap_bins">overlap_bins</h3>
<div class="ulist">
<ul>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>interval</code> value representing the bin containing the <code>time_to_bin</code>
value. Note that the internal type of this interval value should be the
same as the <code>time_to_bin</code> type.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>overlap_bins(interval, time_bin_anchor, duration_bin_size)</pre>
</div>
</div>
</li>
<li>
<p>Returns an ordered list of <code>interval</code> values representing each bin
that is overlapping the <code>interval</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval</code>: an <code>interval</code> value</p>
</li>
<li>
<p><code>time_bin_anchor</code>: a date/time/datetime value representing an anchor
of a bin starts. The type of this argument should be the same as the
first <code>time_to_bin</code> argument.</p>
</li>
<li>
<p><code>duration_bin_size</code>: the duration value representing the size of the
bin, in the type of year_month_duration or day_time_duration. The type
of this duration should be compatible with the type of <code>time_to_bin</code>, so
that the arithmetic operation between <code>time_to_bin</code> and
<code>duration_bin_size</code> is well_defined. Currently AsterixDB supports the
following arithmetic operations:</p>
<div class="ulist">
<ul>
<li>
<p>datetime +|_ year_month_duration</p>
</li>
<li>
<p>datetime +|_ day_time_duration</p>
</li>
<li>
<p>date +|_ year_month_duration</p>
</li>
<li>
<p>date +|_ day_time_duration</p>
</li>
<li>
<p>time +|_ day_time_duration</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a ordered list of <code>interval</code> values representing each bin that is
overlapping the <code>interval</code>. Note that the internal type as <code>time_to_bin</code>
and <code>duration_bin_size</code>.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first arugment is any other non-interval value,</p>
</li>
<li>
<p>or, the second argument is any other non-date/non-time/non-datetime
value,</p>
</li>
<li>
<p>or, the second argument is any other
non-year_month_duration/non-day_time_duration value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "timebins": overlap_bins(interval(time("17:23:37"), time("18:30:21")), time("00:00:00"), day_time_duration("PT30M")),
  "datebins": overlap_bins(interval(date("1984-03-17"), date("2013-08-22")), date("1990-01-01"), year_month_duration("P10Y")),
  "datetimebins": overlap_bins(interval(datetime("1800-01-01T23:59:48.938"), datetime("2015-07-26T13:28:30.218")),
                              datetime("1900-01-01T00:00:00.000"), year_month_duration("P100Y"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "timebins": [
                interval(time("17:00:00.000Z"), time("17:30:00.000Z")),
                interval(time("17:30:00.000Z"), time("18:00:00.000Z")),
                interval(time("18:00:00.000Z"), time("18:30:00.000Z")),
                interval(time("18:30:00.000Z"), time("19:00:00.000Z"))
              ],
  "datebins": [
                interval(date("1980-01-01"), date("1990-01-01")),
                interval(date("1990-01-01"), date("2000-01-01")),
                interval(date("2000-01-01"), date("2010-01-01")),
                interval(date("2010-01-01"), date("2020-01-01"))
              ],
  "datetimebins": [
                    interval(datetime("1800-01-01T00:00:00.000Z"), datetime("1900-01-01T00:00:00.000Z")),
                    interval(datetime("1900-01-01T00:00:00.000Z"), datetime("2000-01-01T00:00:00.000Z")),
                    interval(datetime("2000-01-01T00:00:00.000Z"), datetime("2100-01-01T00:00:00.000Z"))
                   ]
};</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_before-interval_after">interval_before, interval_after</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_before(interval1, interval2)
interval_after(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>These two functions check whether an interval happens before/after
another interval.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_before(interval1, interval2)</code> is true if and only if
<code>interval1.end &lt; interval2.start</code>, and
<code>interval_after(interval1, interval2)</code> is true if and only if
<code>interval1.start &gt; interval2.end</code>.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "interval_before": interval_before(interval(date("2000-01-01"), date("2005-01-01")),
                                     interval(date("2005-05-01"), date("2012-09-09"))),
  "interval_after": interval_after(interval(date("2005-05-01"), date("2012-09-09")),
                                   interval(date("2000-01-01"), date("2005-01-01")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "interval_before": true, "interval_after": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_covers-interval_covered_by">interval_covers, interval_covered_by</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_covers(interval1, interval2)
interval_covered_by(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>These two functions check whether one interval covers the other
interval.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_covers(interval1, interval2)</code> is true if and only if</p>
<div class="paragraph">
<p>interval1.start &#8656; interval2.start AND interval1.end &gt;= interval2.end</p>
</div>
<div class="paragraph">
<p><code>interval_covered_by(interval1, interval2)</code> is true if and only if</p>
</div>
<div class="paragraph">
<p>interval2.start &#8656; interval1.start AND interval2.end &gt;= interval1.end</p>
</div>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "interval_covers": interval_covers(interval(date("2000-01-01"), date("2005-01-01")),
                                     interval(date("2000-03-01"), date("2004-09-09"))),
  "interval_covered_by": interval_covered_by(interval(date("2006-08-01"), date("2007-03-01")),
                                             interval(date("2004-09-10"), date("2012-08-01")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "interval_covers": true, "interval_covered_by": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_overlaps-interval_overlapped_by">interval_overlaps, interval_overlapped_by</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_overlaps(interval1, interval2)
interval_overlapped_by(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>These functions check whether two intervals overlap with each other.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_overlaps(interval1, interval2)</code> is true if and only if</p>
<div class="paragraph">
<p>interval1.start &lt; interval2.start AND interval2.end &gt; interval1.end AND
interval1.end &gt; interval2.start</p>
</div>
<div class="paragraph">
<p><code>interval_overlapped_by(interval1, interval2)</code> is true if and only if</p>
</div>
<div class="listingblock">
<div class="content">
<pre>interval2.start &lt; interval1.start
AND interval1.end &gt; interval2.end
AND interval2.end &gt; interval1.start</pre>
</div>
</div>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
<div class="paragraph">
<p>Note that <code>interval_overlaps</code> and <code>interval_overlapped_by</code> are following
the Allen&#8217;s relations on the definition of overlap.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "overlaps": interval_overlaps(interval(date("2000-01-01"), date("2005-01-01")),
                                interval(date("2004-05-01"), date("2012-09-09"))),
  "overlapped_by": interval_overlapped_by(interval(date("2006-08-01"), date("2007-03-01")),
                                          interval(date("2004-05-01"), date("2012-09-09"))))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "overlaps": true, "overlapped_by": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_overlapping">interval_overlapping</h3>
<div class="paragraph">
<p>Note that <code>interval_overlapping</code> is not an Allen&#8217;s Relation, but
syntactic sugar we added for the case that the intersect of two
intervals is not empty. Basically this function returns true if any of
these functions return true: <code>interval_overlaps</code>,
<code>interval_overlapped_by</code>, <code>interval_covers</code>, or <code>interval_covered_by</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_overlapping(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>This functions check whether two intervals share any points with each
other.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_overlapping(interval1, interval2)</code> is true if</p>
<div class="paragraph">
<p>interval1.start &lt; interval2.end AND interval1.end &gt; interval2.start</p>
</div>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "overlapping1": interval_overlapping(interval(date("2000-01-01"), date("2005-01-01")),
                                       interval(date("2004-05-01"), date("2012-09-09"))),
  "overlapping2": interval_overlapping(interval(date("2006-08-01"), date("2007-03-01")),
                                       interval(date("2004-09-10"), date("2006-12-31")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "overlapping1": true, "overlapping2": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_meets-interval_met_by">interval_meets, interval_met_by</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_meets(interval1, interval2)
interval_met_by(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>These two functions check whether an interval meets with another
interval.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_meets(interval1, interval2)</code> is true if and only if
<code>interval1.end = interval2.start</code>, and
<code>interval_met_by(interval1, interval2)</code> is true if and only if
<code>interval1.start = interval2.end</code>. If any of the two inputs is <code>null</code>,
<code>null</code> is returned.</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "meets": interval_meets(interval(date("2000-01-01"), date("2005-01-01")),
                          interval(date("2005-01-01"), date("2012-09-09"))),
  "metby": interval_met_by(interval(date("2006-08-01"), date("2007-03-01")),
                           interval(date("2004-09-10"), date("2006-08-01")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "meets": true, "metby": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_starts-interval_started_by">interval_starts, interval_started_by</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_starts(interval1, interval2)
interval_started_by(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>These two functions check whether one interval starts with the other
interval.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_starts(interval1, interval2)</code> returns true if and only if</p>
<div class="paragraph">
<p>interval1.start = interval2.start AND interval1.end &#8656; interval2.end</p>
</div>
<div class="paragraph">
<p><code>interval_started_by(interval1, interval2)</code> returns true if and only if</p>
</div>
<div class="listingblock">
<div class="content">
<pre>interval1.start = interval2.start
AND interval2.end &lt;= interval1.end</pre>
</div>
</div>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "interval_starts": interval_starts(interval(date("2000-01-01"), date("2005-01-01")),
                                     interval(date("2000-01-01"), date("2012-09-09"))),
  "interval_started_by": interval_started_by(interval(date("2006-08-01"), date("2007-03-01")),
                                             interval(date("2006-08-01"), date("2006-08-02")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "interval_starts": true, "interval_started_by": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="interval_ends-interval_ended_by">interval_ends, interval_ended_by</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>interval_ends(interval1, interval2)
interval_ended_by(interval1, interval2)</pre>
</div>
</div>
</li>
<li>
<p>These two functions check whether one interval ends with the other
interval.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>interval1</code>, <code>interval2</code>: two intervals to be compared</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value. Specifically,
<code>interval_ends(interval1, interval2)</code> returns true if and only if</p>
<div class="paragraph">
<p>interval1.end = interval2.end AND interval1.start &gt;= interval2.start</p>
</div>
<div class="paragraph">
<p><code>interval_ended_by(interval1, interval2)</code> returns true if and only if</p>
</div>
<div class="paragraph">
<p>interval2.end = interval1.end AND interval2.start &gt;= interval1.start</p>
</div>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-interval input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "interval_ends": interval_ends(interval(date("2000-01-01"), date("2005-01-01")),
                                 interval(date("1998-01-01"), date("2005-01-01"))),
  "interval_ended_by": interval_ended_by(interval(date("2006-08-01"), date("2007-03-01")),
                                         interval(date("2006-09-10"), date("2007-03-01")))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "interval_ends": true, "interval_ended_by": true }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="object-functions">Object Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="get_object_fields">get_object_fields</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>get_object_fields(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Access the object field names, type and open status for a given
object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : a object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an array of <code>object</code> values that include the field_name <code>string</code>,
field_type <code>string</code>, is_open <code>boolean</code> (used for debug purposes only:
<code>true</code> if field is open and <code>false</code> otherwise), and optional nested
<code>orderedList</code> for the values of a nested object,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-object input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>get_object_fields(
                  {
                    "id": 1,
                    "project": "AsterixDB",
                    "address": {"city": "Irvine", "state": "CA"},
                    "related": ["Hivestrix", "Preglix", "Apache VXQuery"]
                  }
                 );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  { "field-name": "id", "field-type": "INT64", "is-open": false },
  { "field-name": "project", "field-type": "STRING", "is-open": false },
  { "field-name": "address", "field-type": "RECORD", "is-open": false,
    "nested": [
                { "field-name": "city", "field-type": "STRING", "is-open": false },
                { "field-name": "state", "field-type": "STRING", "is-open": false }
              ]
  },
  { "field-name":
        "related",
        "field-type": "ORDEREDLIST",
        "is-open": false,
        "list": [
                  { "field-type": "STRING" },
                  { "field-type": "STRING" },
                  { "field-type": "STRING" }
                ]
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>] <mark># get_object_field_value </mark># * Syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    get_object_field_value(input_object, string)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Access the field name given in the <code>string_expression</code> from the
<code>object_expression</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : a <code>object</code> value.</p>
</li>
<li>
<p><code>string</code> : a <code>string</code> representing the top level field name.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>any</code> value saved in the designated field of the object,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-object value,</p>
</li>
<li>
<p>or, the second argument is any other non-string value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>get_object_field_value({
                         "id": 1,
                         "project": "AsterixDB",
                         "address": {"city": "Irvine", "state": "CA"},
                         "related": ["Hivestrix", "Preglix", "Apache VXQuery"]
                        },
                        "project"
                       );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>"AsterixDB"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_remove_fields">object_remove_fields</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_remove_fields(input_object, field_names)</pre>
</div>
</div>
</li>
<li>
<p>Remove indicated fields from a object given a list of field names.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code>: a object value.</p>
</li>
<li>
<p><code>field_names</code>: an array of strings and/or array of array of strings.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a new object value without the fields listed in the second argument,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-object value,</p>
</li>
<li>
<p>or, the second argument is any other non-array value or recursively
contains non-string items.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_remove_fields(
                       {
                         "id":1,
                         "project":"AsterixDB",
                         "address":{"city":"Irvine", "state":"CA"},
                         "related":["Hivestrix", "Preglix", "Apache VXQuery"]
                       },
                       [["address", "city"], "related"]
                     );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "id":1,
  "project":"AsterixDB",
  "address":{ "state": "CA" }
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_add_fields">object_add_fields</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_add_fields(input_object, fields)</pre>
</div>
</div>
</li>
<li>
<p>Add fields to a object given a list of field names.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : a object value.</p>
</li>
<li>
<p><code>fields</code>: an array of field descriptor objects where each object has
field_name and field_value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a new object value with the new fields included,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-object value,</p>
</li>
<li>
<p>the second argument is any other non-array value, or contains
non-object items.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_add_fields(
                   {
                     "id":1,
                     "project":"AsterixDB",
                     "address":{"city":"Irvine", "state":"CA"},
                     "related":["Hivestrix", "Preglix", "Apache VXQuery"]
                    },
                    [{"field-name":"employment_location", "field-value":create_point(30.0,70.0)}]
                  );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
   "id":1,
   "project":"AsterixDB",
   "address":{"city":"Irvine", "state":"CA"},
   "related":["Hivestrix", "Preglix", "Apache VXQuery"]
   "employment_location": point("30.0,70.0")
 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_merge">object_merge</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_merge(object1, object2)</pre>
</div>
</div>
</li>
<li>
<p>Merge two different objects into a new object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object1</code> : a object value.</p>
</li>
<li>
<p><code>object2</code> : a object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a new object value with fields from both input objects. If a field’s
names in both objects are the same, an exception is issued,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>any other non-object input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_merge(
              {
                "id":1,
                "project":"AsterixDB",
                "address":{"city":"Irvine", "state":"CA"},
                "related":["Hivestrix", "Preglix", "Apache VXQuery"]
              },
              {
                "user_id": 22,
                "employer": "UC Irvine",
                "employment_type": "visitor"
              }
            );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "employment_type": "visitor",
  "address": {
    "city": "Irvine",
    "state": "CA"
  },
  "related": [
    "Hivestrix",
    "Preglix",
    "Apache VXQuery"
  ],
  "user_id": 22,
  "project": "AsterixDB",
  "employer": "UC Irvine",
  "id": 1
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_length">object_length</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_length(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns number of top-level fields in the given object</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an integer that represents the number of top-level fields in the
given object,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value or any other non-object
value</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_length(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"},
               }
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
3
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_names">object_names</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_names(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns names of top-level fields in the given object</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an array with top-level field names of the given object,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value or any other non-object
value</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_names(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"},
               }
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ "id", "project", "address" ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_remove">object_remove</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_remove(input_object, field_name)</pre>
</div>
</div>
</li>
<li>
<p>Returns a new object that has the same fields as the input object
except the field to be removed</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
<li>
<p><code>field_name</code> : a string field name.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A new object that has the same fields as <code>input_object</code> except the
field <code>field_name</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument <code>input_object</code> or <code>field_name</code> is missing,</p>
</li>
<li>
<p><code>null</code> if the argument <code>input_object</code> is <code>null</code> or any other
non-object value, or the argument <code>field_name</code> is <code>null</code> or any other
non-string value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_remove(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"}
               }
               , "address"
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "id": 1,
  "project": "AsterixDB",
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_rename">object_rename</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_rename(input_object, old_field, new_field)</pre>
</div>
</div>
</li>
<li>
<p>Returns a new object that has the same fields as <code>input_object</code> with
field <code>old_field</code> replaced by <code>new_field</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
<li>
<p><code>old_field</code> : a string representing the old (original) field name
inside the object <code>input_object</code>.</p>
</li>
<li>
<p><code>new_field</code> : a string representing the new field name to replace
<code>old_field</code> inside the object <code>input_object</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A new object that has the same fields as <code>input_object</code> with field
<code>old_field</code> replaced by <code>new_field</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is <code>null</code> or <code>input_object</code> is non-object
value, or <code>old_field</code> is non-string value, or <code>new_field</code> is any
non-string value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_rename(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"}
               }
               , "address"
               , "location"
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "id": 1,
  "project": "AsterixDB",
  "location": {"city": "Irvine", "state": "CA"}
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_unwrap">object_unwrap</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_unwrap(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns the value of the single name-value pair that appears in
<code>input_object</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value that consists of exactly one
name-value pair.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The value of the single name-value pair that appears in
<code>input_object</code>,</p>
</li>
<li>
<p><code>missing</code> if <code>input_object</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> is null, or an empty object, or there is
more than one name-value pair in <code>input_object</code>, or any non-object
value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_unwrap(
             {
               "id": 1
             }
           );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>{
  1
}
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_replace">object_replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_replace(input_object, old_value, new_value)</pre>
</div>
</div>
</li>
<li>
<p>Returns a new object that has the same fields as <code>input_object</code> with
all occurrences of value <code>old_value</code> replaced by <code>new_value</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
<li>
<p><code>old_value</code> : a primitive type value to be replaced by <code>new_value</code>.</p>
</li>
<li>
<p><code>new_value</code> : a value to replace <code>old_value</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A new object that has the same fields as <code>input_object</code> with all
occurrences of value <code>old_value</code> replaced by <code>new_value</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> or <code>old_value</code> is null,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p><code>old_value</code> is not a primitive type value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_replace(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"}
               }
               , "AsterixDB"
               , "Apache AsterixDB"
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "id": 1,
  "project": "Apache AsterixDB",
  "location": {"city": "Irvine", "state": "CA"}
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_add">object_add</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_add(input_object, field_name, field_value)</pre>
</div>
</div>
</li>
<li>
<p>Returns a new object that has the same fields as <code>input_object</code> as
well as the new field <code>field_name</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
<li>
<p><code>field_name</code> : a string representing a field name to be added.</p>
</li>
<li>
<p><code>field_value</code> : a value to be assigned to the new field <code>field_name</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A new object that has the same fields as <code>input_object</code> as well as
the new field <code>field_name</code>,</p>
</li>
<li>
<p><code>missing</code> if <code>input_object</code> or <code>field_name</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> or <code>field_name</code> is <code>null</code>, or <code>input_object</code>
is not an object, or <code>field_name</code> is not a string,</p>
</li>
<li>
<p><code>input_object</code> if <code>field_name`already exists in `input_object</code> or
<code>field_value</code> is missing.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_add(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"}
               }
               , "company"
               , "Apache"
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "id": 1,
  "project": "AsterixDB",
  "location": {"city": "Irvine", "state": "CA"},
  "company": "Apache"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_put">object_put</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_put(input_object, field_name, field_value)</pre>
</div>
</div>
</li>
<li>
<p>Adds, modifies, or removes a field of an object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
<li>
<p><code>field_name</code> : a string representing a field name to be added.</p>
</li>
<li>
<p><code>field_value</code> : a value to be assigned to the new field <code>field_name</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a new object that has the same fields as <code>input_object</code> as well as
the new field <code>field_name</code>, or with updated <code>field_name</code> value to
<code>field_value</code> if <code>field_name</code> already exists in <code>input_object</code>, or with
<code>field_name`removed if `field_name</code> already exists in <code>input_object</code> and
<code>field_value</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>missing</code> if <code>input_object</code> or <code>field_name</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> or <code>field_name</code> is <code>null</code>, or <code>input_object</code>
is not an object, or <code>field_name</code> is not not a string.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_put(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"}
               }
               , "project"
               , "Apache AsterixDB"
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "id": 1,
  "project": "Apache AsterixDB",
  "location": {"city": "Irvine", "state": "CA"}
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_values">object_values</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_values(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns an array of the values of the fields in <code>input_object</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of the values of the fields in <code>input_object</code>,</p>
</li>
<li>
<p><code>missing</code> if <code>input_object</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> is null or any non-object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_values(
               {
                 "id": 1,
                 "project": "AsterixDB",
                 "address": {"city": "Irvine", "state": "CA"}
               }
             );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  1,
  "AsterixDB",
  {"city": "Irvine", "state": "CA"}
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_pairs">object_pairs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>object_pairs(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns an array of objects describing fields of <code>input_object</code>. For
each field of the <code>input_object</code> the returned array contains an object
with two fields <code>name</code> and <code>value</code> which are set to the `input_object&#8217;s
field name and value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of the <code>name</code>/<code>value</code> pairs of the fields in <code>input_object</code>,</p>
</li>
<li>
<p><code>missing</code> if <code>input_object</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> is null or any non-object value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>object_pairs(
              {
                "id": 1,
                "project": "AsterixDB",
                "address": {"city": "Irvine", "state": "CA"}
              }
            );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  { "name": "id", "value": 1 },
  { "name": "project", "value": "AsterixDB" },
  { "name": "address", "value": {"city": "Irvine", "state": "CA"} }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="pairs">pairs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>pairs(input_object)</pre>
</div>
</div>
</li>
<li>
<p>Returns an array of arrays describing fields of <code>input_object</code>,
including nested fields. For each field of the <code>input_object</code> the
returned array contains an array with two elements. The first element is
the name and the second one is the value of the `input_object&#8217;s field.
The input object is introspected recursively, so all fields of its
nested objects are returned. Nested objects contained in arrays and
multisets are also processed by this function.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>input_object</code> : an object value (or an array or a multiset)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of arrays with name, value pairs of the fields in
<code>input_object</code>, including nested fields. Each inner array has exactly
two items: name and value of the `input_object&#8217;s field.</p>
</li>
<li>
<p><code>missing</code> if <code>input_object</code> is <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> if <code>input_object</code> is null or a value of a primitive data type.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>pairs(
       {
         "id": 1,
         "project": "AsterixDB",
         "address": {"city": "Irvine", "state": "CA"}
       }
     );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  [ "id", 1 ],
  [ "project", "AsterixDB" ],
  [ "address", { "city": "Irvine", "state": "CA" } ],
  [ "city", "Irvine" ],
  [ "state", "CA" ]
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aggregate-functions-array-functions">Aggregate Functions (Array Functions)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains detailed descriptions of the built-in aggregate
functions in the query language.</p>
</div>
<div class="paragraph">
<p>The query language also supports standard SQL aggregate functions (e.g.,
<code>MIN</code>, <code>MAX</code>, <code>SUM</code>, <code>COUNT</code>, and <code>AVG</code>). Note that these are not real
functions in the query language, but just syntactic sugars over
corresponding builtin aggregate functions (e.g., <code>ARRAY_MIN</code>,
<code>ARRAY_MAX</code>, <code>ARRAY_SUM</code>, <code>ARRAY_COUNT</code>, and <code>ARRAY_AVG</code>). Refer to
<a href="manual.html#SQL-92_aggregation_functions">SQL-92 Aggregation
Functions</a> for details.</p>
</div>
<div class="paragraph">
<p>The <code>DISTINCT</code> keyword may be used with built-in aggregate functions and
standard SQL aggregate functions. It may also be used with aggregate
functions used as window functions. It determines whether the function
aggregates all values in the group, or distinct values only. Refer to
<a href="manual.html#Aggregation_functions">Aggregation Functions</a> for
details.</p>
</div>
<div class="paragraph">
<p>Aggregate functions may be used as window functions when they are used
with an OVER clause. Refer to <a href="manual.html#Over_clauses">OVER
Clauses</a> for details.</p>
</div>
<div class="sect2">
<h3 id="array_count">array_count</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_count(collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the number of non-null and non-missing items in the given
collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> to be counted,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of non-null and non-missing
items in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause an error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_count( ['hello', 'world', 1, 2, 3, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
5
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_avg">array_avg</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_avg(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the average value of the non-null and non-missing numeric items
in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the average of the non-null and
non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_avg( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>1.725</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_sum">array_sum</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_sum(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sum of non-null and non-missing items in the given
collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the sum of the non-null and non-missing numbers in the given
collection. The returning type is decided by the item type with the
highest order in the numeric type promotion order (<code>tinyint</code>&#8594;
<code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_sum( [1.2, 2.3, 3.4, 0, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>6.9
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_min">array_min</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_min(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the min value of non-null and non-missing comparable items in the
given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the min value of non-null and non-missing values in the given
collection. The returning type is decided by the item type with the
highest order in the type promotion order (<code>tinyint</code>&#8594;
<code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause
a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_min( [1.2, 2.3, 3.4, 0, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>0.0
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_max">array_max</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_max(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the max value of the non-null and non-missing comparable items in
the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the max value of non-null and non-missing numbers in the given
collection. The returning type is decided by the item type with the
highest order in the type promotion order (<code>tinyint</code>&#8594;
<code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause
a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_max( [1.2, 2.3, 3.4, 0, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>3.4
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_stddev_samp">array_stddev_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_stddev_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample standard deviation value of the non-null and
non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample standard deviation of the
non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_stddev_samp( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>1.4591664287073858</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_stddev_pop">array_stddev_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_stddev_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population standard deviation value of the non-null and
non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population standard deviation of
the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_stddev_pop( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>1.2636751956100112</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_var_samp">array_var_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_var_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample variance value of the non-null and non-missing numeric
items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample variance of the non-null and
non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_var_samp( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>2.1291666666666664</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_var_pop">array_var_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_var_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population variance value of the non-null and non-missing
numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population variance of the non-null
and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_var_pop( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>1.5968749999999998</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_skewness">array_skewness</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_skewness(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the skewness value of the non-null and non-missing numeric items
in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the skewness of the non-null and
non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_skewness( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>-0.04808451539164242</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_kurtosis">array_kurtosis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>array_kurtosis(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the kurtosis value from the normal distribution of the non-null
and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the kurtosis from a normal distribution
of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any
non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>array_kurtosis( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>-1.342049701096427</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_count">strict_count</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_count(collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the number of items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing the items to be counted,</p>
</li>
<li>
<p>or a <code>null</code> value,</p>
</li>
<li>
<p>or a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of items in the given
collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_count( [1, 2, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
4
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_avg">strict_avg</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_avg(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the average value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the average of the numbers in the given
collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_avg( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>200.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_sum">strict_sum</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_sum(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sum of the items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the sum of the numbers in the given collection. The returning type is
decided by the item type with the highest order in the numeric type
promotion order (<code>tinyint</code>&#8594;
<code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_sum( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>600
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_min">strict_min</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_min(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the min value of comparable items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the min value of the given collection. The returning type is decided
by the item type with the highest order in the type promotion order
(<code>tinyint</code>&#8594; <code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among
numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause
a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_min( [10.2, 100, 5] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>5.0
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_max">strict_max</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_max(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the max value of numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The max value of the given collection. The returning type is decided
by the item type with the highest order in the type promotion order
(<code>tinyint</code>&#8594; <code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among
numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause
a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_max( [10.2, 100, 5] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>100.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_stddev_samp">strict_stddev_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_stddev_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample standard deviation value of the numeric items in the
given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample standard deviation of the
numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_stddev_samp( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>100.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_stddev_pop">strict_stddev_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_stddev_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population standard deviation value of the numeric items in
the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population standard deviation of
the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_stddev_pop( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>81.64965809277261</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_var_samp">strict_var_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_var_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample variance value of the numeric items in the given
collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample variance of the numbers in
the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_var_samp( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>10000.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_var_pop">strict_var_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_var_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population variance value of the numeric items in the given
collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population variance of the numbers
in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_var_pop( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>6666.666666666667</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_skewness">strict_skewness</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_skewness(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the skewness value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the skewness of the numbers in the
given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_skewness( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<hr/>
<div class="paragraph">
<p>0.0
---</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_kurtosis">strict_kurtosis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>strict_kurtosis(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the kurtosis value from the normal distribution of the numeric
items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, `null`s or
`missing`s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the kurtosis from a normal distribution
of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input
collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type
error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>strict_kurtosis( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>-1.5</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="comparison-functions">Comparison Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="greatest">greatest</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>greatest(numeric_value1, numeric_value2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Computes the greatest value among arguments.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p>&#8230;&#8203;.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the greatest values among arguments. The returning type is decided by
the item type with the highest order in the numeric type promotion order
(<code>tinyint</code>&#8594; <code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among
items.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>missing</code> value or <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": greatest(1, 2, 3), "v2": greatest(float("0.5"), double("-0.5"), 5000) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 3, "v2": 5000.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="least">least</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>least(numeric_value1, numeric_value2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Computes the least value among arguments.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p>&#8230;&#8203;.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the least values among arguments. The returning type is decided by
the item type with the highest order in the numeric type promotion order
(<code>tinyint</code>&#8594; <code>smallint</code>&#8594;`integer`&#8594;`bigint`&#8594;`float`&#8594;`double`) among
items.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>missing</code> value or <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": least(1, 2, 3), "v2": least(float("0.5"), double("-0.5"), 5000) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 1, "v2": -0.5 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="type-functions">Type Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="is_array">is_array</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_array(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be an <code>array</code>
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is an <code>array</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "a": is_array(true),
  "b": is_array(false),
  "c": isarray(null),
  "d": isarray(missing),
  "e": isarray("d"),
  "f": isarray(4.0),
  "g": isarray(5),
  "h": isarray(["1", 2]),
  "i": isarray({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": false, "f": false, "g": false, "h": true, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isarray</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_atomic-is_atom">is_atomic (is_atom)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_atomic(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a value of a
<a href="../datamodel.html#PrimitiveTypes">primitive</a> type.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a primitive type or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "a": is_atomic(true),
  "b": is_atomic(false),
  "c": isatomic(null),
  "d": isatomic(missing),
  "e": isatomic("d"),
  "f": isatom(4.0),
  "g": isatom(5),
  "h": isatom(["1", 2]),
  "i": isatom({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": null, "e": true, "f": true, "g": true, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isatomic</code>, <code>is_atom</code>, and <code>isatom</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_boolean-is_bool">is_boolean (is_bool)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_boolean(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>boolean</code>
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>boolean</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "a": isboolean(true),
  "b": isboolean(false),
  "c": is_boolean(null),
  "d": is_boolean(missing),
  "e": isbool("d"),
  "f": isbool(4.0),
  "g": isbool(5),
  "h": isbool(["1", 2]),
  "i": isbool({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": null, "e": false, "f": false, "g": false, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isboolean</code>, <code>is_bool</code>, and <code>isbool</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_number-is_num">is_number (is_num)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_number(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a numeric
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a
<code>smallint</code>/<code>tinyint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "a": is_number(true),
  "b": is_number(false),
  "c": isnumber(null),
  "d": isnumber(missing),
  "e": isnumber("d"),
  "f": isnum(4.0),
  "g": isnum(5),
  "h": isnum(["1", 2]),
  "i": isnum({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": false, "f": true, "g": true, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isnumber</code>, <code>is_num</code>, and <code>isnum</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_object-is_obj">is_object (is_obj)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_object(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>object</code>
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>object</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "a": is_object(true),
  "b": is_object(false),
  "c": isobject(null),
  "d": isobject(missing),
  "e": isobj("d"),
  "f": isobj(4.0),
  "g": isobj(5),
  "h": isobj(["1", 2]),
  "i": isobj({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>\{ "a": false, "b": false, "c": null, "e": false, "f": false, "g":
false, "h": false, "i": true }</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isobject</code>, <code>is_obj</code>, and <code>isobj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_string-is_str">is_string (is_str)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_string(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>string</code>
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>string</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "a": is_string(true),
  "b": isstring(false),
  "c": isstring(null),
  "d": isstr(missing),
  "e": isstr("d"),
  "f": isstr(4.0),
  "g": isstr(5),
  "h": isstr(["1", 2]),
  "i": isstr({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": true, "f": false, "g": false, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isstring</code>, <code>is_str</code>, and <code>isstr</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_null">is_null</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_null(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>null</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the variable is a <code>null</code> or not,</p>
</li>
<li>
<p>a <code>missing</code> if the input is <code>missing</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": is_null(null), "v2": is_null(1), "v3": is_null(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isnull</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_missing">is_missing</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_missing(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>missing</code>
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the variable is a <code>missing</code> or not.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": is_missing(null), "v2": is_missing(1), "v3": is_missing(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": false, "v2": false, "v3": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ismissing</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_unknown">is_unknown</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>is_unknown(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given variable is a <code>null</code> value or a <code>missing</code>
value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the variable is a <code>null</code>/<code>`missing</code> value
(<code>true</code>) or not (<code>false</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": is_unknown(null), "v2": is_unknown(1), "v3": is_unknown(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": true, "v2": false, "v3": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isunknown</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_array">to_array</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_array(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to an <code>array</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code> type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>multiset</code> type then it is returned as an
<code>array</code> with elements in an undefined order</p>
</li>
<li>
<p>otherwise an <code>array</code> containing the input expression as its single
item is returned</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_array("asterix"),
  "v2": to_array(["asterix"]),
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": ["asterix"], "v2": ["asterix"] }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>toarray</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_atomic-to_atom">to_atomic (to_atom)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_atomic(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a
<a href="../datamodel.html#PrimitiveTypes">primitive</a> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of primitive type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>array</code> or <code>multiset</code> type and has only one
element then the result of invoking to_atomic() on that element is
returned</p>
</li>
<li>
<p>if the argument is of <code>object</code> type and has only one field then the
result of invoking to_atomic() on the value of that field is returned</p>
</li>
<li>
<p>otherwise <code>null</code> is returned</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_atomic("asterix"),
  "v2": to_atomic(["asterix"]),
  "v3": to_atomic([0, 1]),
  "v4": to_atomic({"value": "asterix"}),
  "v5": to_number({"x": 1, "y": 2})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": "asterix", "v2": "asterix", "v3": null, "v4": "asterix", "v5": null }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>toatomic</code>, <code>to_atom</code>, and <code>toatom</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_boolean-to_bool">to_boolean (to_bool)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_boolean(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a <code>boolean</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then it is returned as is</p>
</li>
<li>
<p>if the argument is of numeric type then <code>false</code> is returned if it is
<code>0</code> or <code>NaN</code>, otherwise <code>true</code></p>
</li>
<li>
<p>if the argument is of <code>string</code> type then <code>false</code> is returned if it&#8217;s
empty, otherwise <code>true</code></p>
</li>
<li>
<p>if the argument is of <code>array</code> or <code>multiset</code> type then <code>false</code> is
returned if it&#8217;s size is <code>0</code>, otherwise <code>true</code></p>
</li>
<li>
<p>if the argument is of <code>object</code> type then <code>false</code> is returned if it
has no fields, otherwise <code>true</code></p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_boolean(0),
  "v2": to_boolean(1),
  "v3": to_boolean(""),
  "v4": to_boolean("asterix")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": false, "v2": true, "v3": false, "v4": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>toboolean</code>, <code>to_bool</code>, and <code>tobool</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_bigint">to_bigint</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_bigint(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to an integer value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>1</code> is returned if it is
<code>true</code>, <code>0</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of numeric integer type then it is returned as the
same value of <code>bigint</code> type</p>
</li>
<li>
<p>if the argument is of numeric <code>float</code>/<code>double</code> type then it is
converted to <code>bigint</code> type</p>
</li>
<li>
<p>if the argument is of <code>string</code> type and can be parsed as integer then
that integer value is returned, otherwise <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is
returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_bigint(false),
  "v2": to_bigint(true),
  "v3": to_bigint(10),
  "v4": to_bigint(float("1e100")),
  "v5": to_bigint(double("1e1000")),
  "v6": to_bigint("20")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0, "v2": 1, "v3": 10, "v4": 9223372036854775807, "v5": 9223372036854775807, "v6": 20 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>tobigint</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_double">to_double</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_double(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a <code>double</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>1.0</code> is returned if it is
<code>true</code>, <code>0.0</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of numeric type then it is returned as the value
of <code>double</code> type</p>
</li>
<li>
<p>if the argument is of <code>string</code> type and can be parsed as <code>double</code>
then that <code>double</code> value is returned, otherwise <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is
returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_double(false),
  "v2": to_double(true),
  "v3": to_double(10),
  "v4": to_double(11.5),
  "v5": to_double("12.5")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": 1.0, "v3": 10.0, "v4": 11.5, "v5": 12.5 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>todouble</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_number-to_num">to_number (to_num)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_number(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a numeric value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of numeric type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>1</code> is returned if it is
<code>true</code>, <code>0</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of <code>string</code> type and can be parsed as <code>bigint</code>
then that <code>bigint</code> value is returned, otherwise if it can be parsed as
<code>double</code> then that <code>double</code> value is returned, otherwise <code>null</code> is
returned</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is
returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_number(false),
  "v2": to_number(true),
  "v3": to_number(10),
  "v4": to_number(11.5),
  "v5": to_number("12.5")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": 0, "v2": 1, "v3": 10, "v4": 11.5, "v5": 12.5 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>tonumber</code>, <code>to_num</code>, and <code>tonum</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_object-to_obj">to_object (to_obj)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_object(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to an <code>object</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>object</code> type then it is returned as is</p>
</li>
<li>
<p>otherwise an empty <code>object</code> is returned</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_object({"value": "asterix"}),
  "v2": to_object("asterix")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": {"value": "asterix"}, "v2": {} }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>toobject</code>, <code>to_obj</code>, and <code>toobj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_string-to_str">to_string (to_str)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>to_string(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a string value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>"true"</code> is returned if it
is <code>true</code>, <code>"false"</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of numeric type then its string representation is
returned</p>
</li>
<li>
<p>if the argument is of <code>string</code> type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is
returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": to_string(false),
  "v2": to_string(true),
  "v3": to_string(10),
  "v4": to_string(11.5),
  "v5": to_string("asterix")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": "false", "v2": "true", "v3": "10", "v4": "11.5", "v5": "asterix" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>tostring</code>, <code>to_str</code>, and <code>tostr</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conditional-functions">Conditional Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="if_null-ifnull">if_null (ifnull)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>if_null(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which value is not <code>null</code> and returns that value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>null</code> if all arguments evaluate to <code>null</code> or no arguments
specified</p>
</li>
<li>
<p>a value of the first non-<code>null</code> argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": if_null(),
    "b": if_null(null),
    "c": if_null(null, "asterixdb"),
    "d": is_missing(if_null(missing))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": null, "b": null, "c": "asterixdb", "d": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifnull</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_missing-ifmissing">if_missing (ifmissing)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>if_missing(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which value is not <code>missing</code> and returns that
value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>null</code> if all arguments evaluate to <code>missing</code> or no arguments
specified</p>
</li>
<li>
<p>a value of the first non-<code>missing</code> argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": if_missing(),
    "b": if_missing(missing),
    "c": if_missing(missing, "asterixdb"),
    "d": if_missing(null, "asterixdb")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": null, "b": null, "c": "asterixdb", "d": null }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifmissing</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_missing_or_null-ifmissingornull-coalesce">if_missing_or_null (ifmissingornull, coalesce)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>if_missing_or_null(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which value is not <code>null</code> or <code>missing</code> and
returns that value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>null</code> if all arguments evaluate to either <code>null</code> or <code>missing</code>, or
no arguments specified</p>
</li>
<li>
<p>a value of the first non-<code>null</code>, non-<code>missing</code> argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": if_missing_or_null(),
    "b": if_missing_or_null(null, missing),
    "c": if_missing_or_null(null, missing, "asterixdb")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": null, "b": null, "c": "asterixdb" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has two aliases: <code>ifmissingornull</code> and <code>coalesce</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_inf-ifinf">if_inf (ifinf)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>if_inf(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which is a non-infinite (<code>INF</code> or`-INF`) number</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>missing</code> if <code>missing</code> argument was encountered before the first
non-infinite number argument</p>
</li>
<li>
<p>a <code>null</code> if <code>null</code> argument or any other non-number argument was
encountered before the first non-infinite number argument</p>
</li>
<li>
<p>the first non-infinite number argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": is_null(if_inf(null)),
    "b": is_missing(if_inf(missing)),
    "c": is_null(if_inf(double("INF"))),
    "d": if_inf(1, null, missing) ],
    "e": is_null(if_inf(null, missing, 1)) ],
    "f": is_missing(if_inf(missing, null, 1)) ],
    "g": if_inf(float("INF"), 1) ],
    "h": to_string(if_inf(float("INF"), double("NaN"), 1)) ]
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": true, "d": 1, "e": true, "f": true, "g": 1, "h": "NaN" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifinf</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_nan-ifnan">if_nan (ifnan)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>if_nan(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which is a non-<code>NaN</code> number</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>missing</code> if <code>missing</code> argument was encountered before the first
non-<code>NaN</code> number argument</p>
</li>
<li>
<p>a <code>null</code> if <code>null</code> argument or any other non-number argument was
encountered before the first non-<code>NaN</code> number argument</p>
</li>
<li>
<p>the first non-<code>NaN</code> number argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": is_null(if_nan(null)),
    "b": is_missing(if_nan(missing)),
    "c": is_null(if_nan(double("NaN"))),
    "d": if_nan(1, null, missing) ],
    "e": is_null(if_nan(null, missing, 1)) ],
    "f": is_missing(if_nan(missing, null, 1)) ],
    "g": if_nan(float("NaN"), 1) ],
    "h": to_string(if_nan(float("NaN"), double("INF"), 1)) ]
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": true, "d": 1, "e": true, "f": true, "g": 1, "h": "INF" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifnan</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_nan_or_inf-ifnanorinf">if_nan_or_inf (ifnanorinf)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>if_nan_or_inf(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which is a non-infinite (<code>INF</code> or`-INF`) and
non-<code>NaN</code> number</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>missing</code> if <code>missing</code> argument was encountered before the first
non-infinite and non-<code>NaN</code> number argument</p>
</li>
<li>
<p>a <code>null</code> if <code>null</code> argument or any other non-number argument was
encountered before the first non-infinite and non-<code>NaN</code> number argument</p>
</li>
<li>
<p>the first non-infinite and non-<code>NaN</code> number argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": is_null(if_nan_or_inf(null)),
    "b": is_missing(if_nan_or_inf(missing)),
    "c": is_null(if_nan_or_inf(double("NaN"), double("INF"))),
    "d": if_nan_or_inf(1, null, missing) ],
    "e": is_null(if_nan_or_inf(null, missing, 1)) ],
    "f": is_missing(if_nan_or_inf(missing, null, 1)) ],
    "g": if_nan_or_inf(float("NaN"), float("INF"), 1) ],
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": true, "d": 1, "e": true, "f": true, "g": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifnanorinf</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="null_if-nullif">null_if (nullif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>null_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>null</code> if they are equal, otherwise
returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if</p>
<div class="ulist">
<ul>
<li>
<p>any argument is a <code>null</code> value but no argument is a <code>missing</code> value,
or</p>
</li>
<li>
<p><code>argument1</code> = <code>argument2</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": null_if("asterixdb", "asterixdb"),
    "b": null_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": null, "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>nullif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="missing_if-missingif">missing_if (missingif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>missing_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>missing</code> if they are equal,
otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if</p>
<div class="ulist">
<ul>
<li>
<p>any argument is a <code>missing</code> value, or</p>
</li>
<li>
<p>no argument is a <code>null</code> value and <code>argument1</code> = <code>argument2</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value</p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": missing_if("asterixdb", "asterixdb")
    "b": missing_if(1, 2),
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>missingif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="nan_if-nanif">nan_if (nanif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>nan_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>NaN</code> value if they are equal,
otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value</p>
</li>
<li>
<p><code>NaN</code> value of type <code>double</code> if <code>argument1</code> = <code>argument2</code></p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": to_string(nan_if("asterixdb", "asterixdb")),
    "b": nan_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": "NaN", "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>nanif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="posinf_if-posinfif">posinf_if (posinfif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>posinf_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>+INF</code> value if they are equal,
otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value</p>
</li>
<li>
<p><code>+INF</code> value of type <code>double</code> if <code>argument1</code> = <code>argument2</code></p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": to_string(posinf_if("asterixdb", "asterixdb")),
    "b": posinf_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": "+INF", "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>posinfif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="neginf_if-neginfif">neginf_if (neginfif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>neginf_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>-INF</code> value if they are equal,
otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value</p>
</li>
<li>
<p><code>-INF</code> value of type <code>double</code> if <code>argument1</code> = <code>argument2</code></p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
    "a": to_string(neginf_if("asterixdb", "asterixdb")),
    "b": neginf_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "a": "-INF", "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>neginfif</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="miscellaneous-functions">Miscellaneous Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="uuid">uuid</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>uuid()</pre>
</div>
</div>
</li>
<li>
<p>Generates a <code>uuid</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>none</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a generated, random <code>uuid</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="len">len</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="paragraph">
<p>len(array)</p>
</div>
</li>
<li>
<p>Returns the length of the array array.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>array</code> : an <code>array</code>, <code>multiset</code>, <code>null</code>, or <code>missing</code>, represents
the collection that needs to be checked.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>integer</code> that represents the length of input array or the size of
the input multiset,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>len(["Hello", "World"])</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
2
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="not">not</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>not(expr)</pre>
</div>
</div>
</li>
<li>
<p>Inverts a <code>boolean</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code>, the inverse of <code>expr</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value,</p>
</li>
<li>
<p>other non-boolean argument value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": `not`(true), "v2": `not`(false), "v3": `not`(null), "v4": `not`(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "v1": false, "v2": true, "v3": null }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="random">random</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>random( [seed_value] )</pre>
</div>
</div>
</li>
<li>
<p>Returns a random number, accepting an optional seed value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>seed_value</code>: an optional
<code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value
representing the seed number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A random number of type <code>double</code> between 0 and 1,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value or a non-numeric value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>{
  "v1": random(),
  "v2": random(unix_time_from_datetime_in_ms(current_datetime()))
};</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="range">range</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>range(start_numeric_value, end_numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Generates a series of <code>bigint</code> values based start the
<code>start_numeric_value</code> until the <code>end_numeric_value</code>.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<p><code>start_numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value
representing the start value.</p>
</li>
<li>
<p><code>end_numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value
representing the max final value.</p>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an array that starts with the integer value of <code>start_numeric_value</code>
and ends with the integer value of <code>end_numeric_value</code>, where the value
of each entry in the array is the integer successor of the value in the
preceding entry.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>range(0, 3);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[ 0, 1, 2, 3 ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="switch_case">switch_case</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>switch_case(
    condition,
    case1, case1_result,
    case2, case2_result,
    ...,
    default, default_result
)</pre>
</div>
</div>
</li>
<li>
<p>Switches amongst a sequence of cases and returns the result of the
first matching case. If no match is found, the result of the default
case is returned.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>condition</code>: a variable (any type is allowed).</p>
</li>
<li>
<p><code>caseI/default</code>: a variable (any type is allowed).</p>
</li>
<li>
<p><code>caseI/default_result</code>: a variable (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>caseI_result</code> if <code>condition</code> matches <code>caseI</code>, otherwise
<code>default_result</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="listingblock">
<div class="content">
<pre>switch_case(
    "a",
    "a", 0,
    "x", 1,
    "y", 2,
    "z", 3
);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
0
-</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="listingblock">
<div class="content">
<pre>switch_case(
    "a",
    "x", 1,
    "y", 2,
    "z", 3
);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="paragraph">
<p>-
3
-</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deep_equal">deep_equal</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>deep_equal(expr1, expr2)</pre>
</div>
</div>
</li>
<li>
<p>Assess the equality between two expressions of any type (e.g., object,
arrays, or multiset). Two objects are deeply equal iff both their types
and values are equal.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr1</code> : an expression,</p>
</li>
<li>
<p><code>expr2</code> : an expression.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>true</code> or <code>false</code> depending on the data equality,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a
<code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre>deep_equal(
           {
             "id":1,
             "project":"AsterixDB",
             "address":{"city":"Irvine", "state":"CA"},
             "related":["Hivestrix", "Preglix", "Apache VXQuery"]
           },
           {
             "id":1,
             "project":"AsterixDB",
             "address":{"city":"San Diego", "state":"CA"},
             "related":["Hivestrix", "Preglix", "Apache VXQuery"]
           }
);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bitwise-functions">Bitwise Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All Bit/Binary functions can only operate on 64-bit signed integers.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> All non-integer numbers and other data types result in null.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The query language uses two’s complement representation.</p>
</div>
<div class="paragraph">
<p>When looking at the value in binary form, bit 1 is the Least Significant
Bit (LSB) and bit 32 is the Most Significant Bit (MSB).</p>
</div>
<div class="paragraph">
<p>(MSB) Bit 32 → <code>0000 0000 0000 0000 0000 0000 0000 0000</code> ← Bit 1 (LSB)</p>
</div>
<div class="sect2">
<h3 id="bitand">bitand</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITAND(int_value1, int_value2, ... , int_valueN)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bitwise AND operation performed on all input
integer values.</p>
<div class="paragraph">
<p>The bitwise AND operation compares each bit of <code>int_value1</code> to the
corresponding bit of every other <code>int_value</code>. If all bits are 1, then
the corresponding result bit is set to 1; otherwise it is set to 0
(zero).</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_valueI</code>: Integers, or any valid expressions which evaluate to
integers, that are used to compare.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the bitwise AND between all of the input
integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Compare 3 (0011 in binary) and 6 (0110 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": BITAND(3,6) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": 2 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 2 (0010 in binary) because only bit 2 is set in both 3
(00*1*1) and 6 (01*1*0).</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Compare 4.5 and 3 (0011 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": BITAND(4.5,3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": null }</pre>
</div>
</div>
<div class="paragraph">
<p>The result is null because 4.5 is not an integer.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Compare 4.0 (0100 in binary) and 3 (0011 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": BITAND(4.0,3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": 0 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 0 (zero) because 4.0 (0100) and 3 (0011) do not share
any bits that are both 1.</p>
</div>
</li>
<li>
<p>Example 4:</p>
<div class="paragraph">
<p>Compare 3 (0011 in binary) and 6 (0110 in binary) and 15 (1111 in
binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": BITAND(3,6,15) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitAND": 2 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 2 (0010 in binary) because only the 2nd bit from the
right is 1 in all three numbers.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitclear">bitclear</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITCLEAR(int_value, positions)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result after clearing the specified bit, or array of bits
in <code>int_value</code> using the given <code>positions</code>.</p>
<div class="paragraph">
<p><strong>Note:</strong> Specifying a negative or zero bit position makes the function
return a null.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to
an integer, that contains the target bit or bits to clear.</p>
</li>
<li>
<p><code>positions</code>: An integer or an array of integers specifying the
position or positions to be cleared.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result after clearing the bit or bits
specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Clear bit 1 from 6 (0110 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitCLEAR": BITCLEAR(6,1) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitCLEAR": 6 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 6 (011*0* in binary) because bit 1 was already zero.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Clear bits 1 and 2 from 6 (01*10* in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitCLEAR": BITCLEAR(6,[1,2]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitCLEAR": 4 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 4 (01*0*0 in binary) because bit 2 changed to zero.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Clear bits 1, 2, 4, and 5 from 31 (0*11*1*11* in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitCLEAR": BITCLEAR(31,[1,2,4,5]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitCLEAR": 4 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 4 (0*00*1*00*) because bits 1, 2, 4, and 5 changed to
zero.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitnot">bitnot</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITNOT(int_value)</pre>
</div>
</div>
</li>
<li>
<p>Returns the results of a bitwise logical NOT operation performed on an
integer value.</p>
<div class="paragraph">
<p>The bitwise logical NOT operation reverses the bits in the value. For
each value bit that is 1, the corresponding result bit will be set to 0
(zero); and for each value bit that is 0 (zero), the corresponding
result bit will be set to 1.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> All bits of the integer will be altered by this operation.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to
an integer, that contains the target bits to reverse.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result after performing the logical NOT
operation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Perform the NOT operation on 3 (0000 0000 0000 0000 0000 0000 0000 0011
in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitNOT": BITNOT(3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitNOT": -4 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in -4 (<strong>1111 1111 1111 1111 1111 1111 1111 1100</strong> in binary)
because all bits changed.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitor">bitor</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITOR(int_value1, int_value2, ... , int_valueN)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bitwise inclusive OR operation performed on
all input integer values.</p>
<div class="paragraph">
<p>The bitwise inclusive OR operation compares each bit of <code>int_value1</code> to
the corresponding bit of every other <code>int_value</code>. If any bit is 1, the
corresponding result bit is set to 1; otherwise, it is set to 0 (zero).</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_valueI</code>: Integers, or any valid expressions which evaluate to
integers, that are used to compare.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the bitwise OR between all of the input
integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Perform OR on 3 (0011 in binary) and 6 (0110 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitOR": BITOR(3,6) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitOR": 7 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 7 (0*111* in binary) because at least 1 bit of each
(00*11* and 0*11*0) is 1 in bits 1, 2, and 3.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Perform OR on 3 (0011 in binary) and -4 (1000 0000 0000 &#8230;&#8203; 0000 1100 in
binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitOR": BITOR(3,-4) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitOR": -1 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in -1 (<strong>1111 1111 1111 &#8230;&#8203; 1111 1111</strong> in binary) because
the two 1 bits in 3 fill in the two 0 bits in -4 to turn on all the
bits.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Perform OR on 3 (0011 in binary) and 6 (0110 in binary) and 15 (1111 in
binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitOR": BITOR(3,6,15) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitOR": 15 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 15 (1111 in binary) because there is at least one 1 in
each of the four rightmost bits.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitset">bitset</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITSET(int_value, positions)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result after setting the specified bit <code>position</code>, or
array of bit positions, to 1 in the given <code>int_value</code>.</p>
<div class="paragraph">
<p><strong>Note:</strong> Specifying a negative or zero position makes the function return
a null.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to
an integer, that contains the target bit or bits to set.</p>
</li>
<li>
<p><code>positions</code>: An integer or an array of integers specifying the
position or positions to be set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result after setting the bit or bits
specified. If the bit is already set, then it stays set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Set bit 1 in the value 6 (011*0* in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSET": BITSET(6,1) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSET": 7 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 7 (011*1* in binary) because bit 1 changed to 1.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Set bits 1 and 2 in the value 6 (01*10* in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSET": BITSET(6,[1,2]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSET": 7 }</pre>
</div>
</div>
<div class="paragraph">
<p>This also results in 7 (01*11* in binary) because bit 1 changed while
bit 2 remained the same.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Set bits 1 and 4 in the value 6 (<strong>0*11*0</strong> in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSET": BITSET(6,[1,4]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSET": 15 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 15 (<strong>1*11*1</strong> in binary) because bit 1 and 4 changed to
ones.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitshift">bitshift</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITSHIFT(int_value, shift_amount[, rotate])</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bit shift operation performed on the integer
value <code>int_value</code>. The <code>shift_amount</code> supports left and right shifts.
These are logical shifts. The third parameter <code>rotate</code> supports circular
shift. This is similar to the BitROTATE function in Oracle.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to
an integer, that contains the target bit or bits to shift.</p>
</li>
<li>
<p><code>shift_amount</code>: An integer, or any valid expression which evaluates
to an integer, that contains the number of bits to shift.</p>
<div class="ulist">
<ul>
<li>
<p>A positive (+) number means this is a LEFT shift.</p>
</li>
<li>
<p>A negative (-) number means this is a RIGHT shift.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>rotate</code>: (Optional) A boolean, or any valid expression which
evaluates to a boolean, where:</p>
<div class="ulist">
<ul>
<li>
<p>FALSE means this is a LOGICAL shift, where bits shifted off the end
of a value are considered lost.</p>
</li>
<li>
<p>TRUE means this is a CIRCULAR shift (shift-and-rotate operation),
where bits shifted off the end of a value are rotated back onto the
value at the <em>other</em> end. In other words, the bits rotate in what might
be thought of as a circular pattern; therefore, these bits are not lost.</p>
<div class="paragraph">
<p>If omitted, the default is FALSE.</p>
</div>
<div class="paragraph">
<p>For comparison, see the below table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Shift</th>
<th class="tableblock halign-left valign-top">Result of Logical Shift (Rotate FALSE)</th>
<th class="tableblock halign-left valign-top">Result of
Circular Shift (Rotate TRUE)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96 (0110 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96 (0110 0000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48 (0011 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48 (0011 0000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 (0001 1000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 (0001 1000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 (0000 1100)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 (0000 1100)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>6 (0000 0110)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>0</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>6 (0000 0110)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>6 (0000 0110)</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 (0000 0011)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 (0000 0011)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 (0000 0001)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-9223372036854775807 (1000 0000 &#8230;&#8203;
0000 0001)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (0000 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4611686018427387904 (1100 0000 &#8230;&#8203;
0000 0000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (0000 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6917529027641081856 (0110 0000 &#8230;&#8203;
0000 0000)</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result of either a logical or circular
shift of the given integer.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Logical left shift of the number 6 (0110 in binary) by one bit.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(6,1,FALSE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": 12 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 12 (1100 in binary) because the 1-bits moved from
positions 2 and 3 to positions 3 and 4.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Logical right shift of the number 6 (0110 in binary) by two bits.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(6,-2) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": 1 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 1 (0001 in binary) because the 1-bit in position 3 moved
to position 1 and the 1-bit in position 2 was dropped.</p>
</div>
</li>
<li>
<p>Example 2b:</p>
<div class="paragraph">
<p>Circular right shift of the number 6 (0110 in binary) by two bits.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(6,-2,TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": -9223372036854775807 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in -9223372036854775807 (1100 0000 0000 0000 0000 0000 0000
0000 in binary) because the two 1-bits wrapped right, around to the Most
Significant Digit position and changed the integer’s sign to negative.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Circular left shift of the number 524288 (1000 0000 0000 0000 0000 in
binary) by 45 bits.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(524288,45,TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitSHIFT": 1 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 1 because the 1-bit wrapped left, around to the Least
Significant Digit position.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bittest">bittest</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITTEST(int_value, positions [, all_set])</pre>
</div>
</div>
</li>
<li>
<p>Returns TRUE if the specified bit, or bits, is a 1; otherwise, returns
FALSE if the specified bit, or bits, is a 0 (zero).</p>
<div class="paragraph">
<p><strong>Note:</strong> Specifying a negative or zero bit position will result in null
being returned.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to
an integer, that contains the target bit or bits to test.</p>
</li>
<li>
<p><code>positions</code>: An integer or an array of integers specifying the
position or positions to be tested.</p>
</li>
<li>
<p><code>all_set</code>: (Optional) A boolean, or any valid expression which
evaluates to a boolean.</p>
<div class="ulist">
<ul>
<li>
<p>When <code>all_set</code> is FALSE, then it returns TRUE even if one bit in one
of the positions is set.</p>
</li>
<li>
<p>When <code>all_set</code> is TRUE, then it returns TRUE only if all input
positions are set.</p>
<div class="paragraph">
<p>If omitted, the default is FALSE.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A boolean, that follows the below table:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>int_value</code></th>
<th class="tableblock halign-left valign-top"><code>all_set</code></th>
<th class="tableblock halign-left valign-top">Return Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>all</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>all</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>some</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>some</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>In the number 6 (0110 in binary), is bit 1 set?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "IsBitSET": ISBITSET(6,1) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "IsBitSET": false }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns FALSE because bit 1 of 6 (011*0* in binary) is not set to
1.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>In the number 1, is either bit 1 or bit 2 set?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitTEST": BITTEST(1,[1,2],FALSE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitTEST": true }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns TRUE because bit 1 of the number 1 (000*1* in binary) is
set to 1.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>In the number 6 (0110 in binary), are both bits 2 and 3 set?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "IsBitSET": ISBITSET(6,[2,3],TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "IsBitSET": true }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns TRUE because both bits 2 and 3 in the number 6 (0*11*0 in
binary) are set to 1.</p>
</div>
</li>
<li>
<p>Example 4:</p>
<div class="paragraph">
<p>In the number 6 (0110 in binary), are all the bits in positions 1
through 3 set?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitTEST": BITTEST(6,[1,3],TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitTEST": false }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns FALSE because bit 1 in the number 6 (011*0* in binary) is
set to 0 (zero).</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isbitset</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="bitxor">bitxor</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>BITXOR(int_value1, int_value2, ... , int_valueN)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bitwise Exclusive OR operation performed on
two or more integer values.</p>
<div class="paragraph">
<p>The bitwise Exclusive OR operation compares each bit of <code>int_value1</code> to
the corresponding bit of <code>int_value2</code>.</p>
</div>
<div class="paragraph">
<p>If there are more than two input values, the first two are compared;
then their result is compared to the next input value; and so on.</p>
</div>
<div class="paragraph">
<p>When the compared bits do not match, the result bit is 1; otherwise, the
compared bits do match, and the result bit is 0 (zero), as summarized:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bit 1</th>
<th class="tableblock halign-left valign-top">Bit 2</th>
<th class="tableblock halign-left valign-top">XOR Result Bit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_valueI</code>: Integers, or any valid expressions which evaluate to
integers, that are used to compare.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the bitwise XOR between the input integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Perform the XOR operation on 3 (0011 in binary) and 6 (0110 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitXOR": BITXOR(3,6) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitXOR": 5 }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns 5 (0101 in binary) because the 1st bit pair and 3rd bit
pair are different (resulting in 1) while the 2nd bit pair and 4th bit
pair are the same (resulting in 0):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0011 (3)
0110 (6)
====
0101 (5)</pre>
</div>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Perform the XOR operation on 3 (0011 in binary) and 6 (0110 in binary)
and 15 (1111 in binary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "BitXOR": BITXOR(3,6,15) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>{ "BitXOR": 10 }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns 10 (1010 in binary) because 3 XOR 6 equals 5 (0101 in
binary), and then 5 XOR 15 equals 10 (1010 in binary).</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="window-functions">Window Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Window functions are used to compute an aggregate or cumulative value,
based on a portion of the tuples selected by a query. For each input
tuple, a movable window of tuples is defined. The window determines the
tuples to be used by the window function.</p>
</div>
<div class="paragraph">
<p>The tuples are not grouped into a single output tuple — each tuple
remains separate in the query output.</p>
</div>
<div class="paragraph">
<p>All window functions must be used with an OVER clause. Refer to
<a href="manual.html#Over_clauses">OVER Clauses</a> for details.</p>
</div>
<div class="paragraph">
<p>Window functions cannot appear in the FROM clause clause or LIMIT
clause.</p>
</div>
<div class="paragraph">
<p>The examples in this section use the <code>GleambookMessages</code> dataset,
described in the section on <a href="manual.html#SELECT_statements">SELECT
Statements</a>.</p>
</div>
<div class="sect2">
<h3 id="cume_dist">cume_dist</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>CUME_DIST() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the percentile rank of the current tuple as part of the
cumulative distribution – that is, the number of tuples ranked lower
than or equal to the current tuple, including the current tuple, divided
by the total number of tuples in the window partition.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples. If the
window order clause is omitted, the function returns the same result
(1.0) for each tuple.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A number greater than 0 and less than or equal to 1. The higher the
value, the higher the ranking.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the cumulative distribution of all messages in
order of message ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId, CUME_DIST() OVER (
  PARTITION BY m.authorId
  ORDER BY m.messageId
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "rank": 0.2,
    "messageId": 2,
    "authorId": 1
  },
  {
    "rank": 0.4,
    "messageId": 4,
    "authorId": 1
  },
  {
    "rank": 0.6,
    "messageId": 8,
    "authorId": 1
  },
  {
    "rank": 0.8,
    "messageId": 10,
    "authorId": 1
  },
  {
    "rank": 1,
    "messageId": 11,
    "authorId": 1
  },
  {
    "rank": 0.5,
    "messageId": 3,
    "authorId": 2
  },
  {
    "rank": 1,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="dense_rank">dense_rank</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>DENSE_RANK() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the dense rank of the current tuple – that is, the number of
distinct tuples preceding this tuple in the current window partition,
plus one.</p>
<div class="paragraph">
<p>The tuples are ordered by the window order clause. If any tuples are
tied, they will have the same rank. If the window order clause is
omitted, the function returns the same result (1) for each tuple.</p>
</div>
<div class="paragraph">
<p>For this function, when any tuples have the same rank, the rank of the
next tuple will be consecutive, so there will not be a gap in the
sequence of returned values. For example, if there are three tuples
ranked 2, the next dense rank is 3.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, greater than or equal to 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the dense rank of all messages in order of
location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId, m.senderLocation[1] as longitude,
DENSE_RANK() OVER (
  PARTITION BY m.authorId
  ORDER BY m.senderLocation[1]
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "rank": 1,
    "authorId": 1,
    "messageId": 10,
    "longitude": 70.01
  },
  {
    "rank": 2,
    "authorId": 1,
    "messageId": 11,
    "longitude": 77.49
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 2,
    "longitude": 80.87
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 8,
    "longitude": 80.87
  },
  {
    "rank": 4,
    "authorId": 1,
    "messageId": 4,
    "longitude": 97.04
  },
  {
    "rank": 1,
    "authorId": 2,
    "messageId": 6,
    "longitude": 75.56
  },
  {
    "rank": 2,
    "authorId": 2,
    "messageId": 3,
    "longitude": 81.01
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="first_value">first_value</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>FIRST_VALUE(expr) [nulls-treatment] OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the requested value from the first tuple in the current window
frame, where the window frame is specified by the window definition.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the first tuple in the
window frame. <sup class="footnote" id="_footnote_fn_1">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>, this expression must only
depend on GROUP BY expressions or aggregate functions.]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="manual.html#Nulls_treatment">Nulls Treatment</a>: (Optional)
Determines how NULL or MISSING values are treated when finding the first
value in the window frame.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the first tuple. In this
case, the function returns the first non-NULL, non-MISSING value.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the first tuple.</p>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the first tuple. The order of the tuples is
determined by the window order clause.</p>
</li>
<li>
<p>NULL, if the frame was empty or if all values were NULL or MISSING
and the <code>IGNORE NULLS</code> modifier was specified.</p>
</li>
<li>
<p>In the following cases, this function may return unpredictable
results.</p>
<div class="ulist">
<ul>
<li>
<p>If the window order clause is omitted.</p>
</li>
<li>
<p>If the window frame is defined by <code>ROWS</code>, and there are tied tuples
in the window frame.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To make the function return deterministic results, add a window order
clause, or add further ordering terms to the window order clause so that
no tuples are tied.</p>
</li>
<li>
<p>If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, and there are
tied tuples in the window frame, the function returns the first value of
the input expression.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the length
of the shortest message from that author.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
FIRST_VALUE(LENGTH(m.message)) OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS shortest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 11
  },
  {
    "message_length": 44,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 2
  },
  {
    "message_length": 51,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "shortest_message": 35,
    "authorId": 2,
    "messageId": 3
  },
  {
    "message_length": 44,
    "shortest_message": 35,
    "authorId": 2,
    "messageId": 6
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lag">lag</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>LAG(expr[, offset[, default]]) [nulls-treatment] OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the value from a tuple at a given offset prior to the current
tuple position.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples. If the
window order clause is omitted, the return values may be unpredictable.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the offset tuple.
<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p><code>offset</code>: (Optional) A positive integer. If omitted, the default is
1.</p>
</li>
<li>
<p><code>default</code>: (Optional) The value to return when the offset goes out of
partition scope. If omitted, the default is NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="manual.html#Nulls_treatment">Nulls Treatment</a>: (Optional)
Determines how NULL or MISSING values are treated when finding the
offset tuple in the window partition.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the offset tuple.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the offset tuple.</p>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the offset tuple.</p>
</li>
<li>
<p>If the offset tuple is out of partition scope, it returns the default
value, or NULL if no default is specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the length
of the next-shortest message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
LAG(LENGTH(m.message), 1, "No shorter message") OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS next_shortest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "authorId": 1,
    "messageId": 8,
    "next_shortest_message": "No shorter message"
  },
  {
    "message_length": 39,
    "authorId": 1,
    "messageId": 11,
    "next_shortest_message": 31
  },
  {
    "message_length": 44,
    "authorId": 1,
    "messageId": 4,
    "next_shortest_message": 39
  },
  {
    "message_length": 45,
    "authorId": 1,
    "messageId": 2,
    "next_shortest_message": 44
  },
  {
    "message_length": 51,
    "authorId": 1,
    "messageId": 10,
    "next_shortest_message": 45
  },
  {
    "message_length": 35,
    "authorId": 2,
    "messageId": 3,
    "next_shortest_message": "No shorter message"
  },
  {
    "message_length": 44,
    "authorId": 2,
    "messageId": 6,
    "next_shortest_message": 35
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="last_value">last_value</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>LAST_VALUE(expr) [nulls-treatment] OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the requested value from the last tuple in the current window
frame, where the window frame is specified by the window definition.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the last tuple in the
window frame. <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="manual.html#Nulls_treatment">Nulls Treatment</a>: (Optional)
Determines how NULL or MISSING values are treated when finding the last
tuple in the window frame.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the last tuple. In this
case, the function returns the last non-NULL, non-MISSING value.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the last tuple.</p>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the last tuple. The order of the tuples is
determined by the window order clause.</p>
</li>
<li>
<p>NULL, if the frame was empty or if all values were NULL or MISSING
and the <code>IGNORE NULLS</code> modifier was specified.</p>
</li>
<li>
<p>In the following cases, this function may return unpredictable
results.</p>
<div class="ulist">
<ul>
<li>
<p>If the window order clause is omitted.</p>
</li>
<li>
<p>If the window frame clause is omitted.</p>
</li>
<li>
<p>If the window frame is defined by <code>ROWS</code>, and there are tied tuples
in the window frame.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To make the function return deterministic results, add a window order
clause, or add further ordering terms to the window order clause so that
no tuples are tied.</p>
</li>
<li>
<p>If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, and there are
tied tuples in the window frame, the function returns the last value of
the input expression.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the length
of the longest message from that author.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
LAST_VALUE(LENGTH(m.message)) OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING -- ➊
) AS longest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 11
  },
  {
    "message_length": 44,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 2
  },
  {
    "message_length": 51,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "longest_message": 44,
    "authorId": 2,
    "messageId": 3
  },
  {
    "message_length": 44,
    "longest_message": 44,
    "authorId": 2,
    "messageId": 6
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>➀ This clause specifies that the window frame should extend to the end
of the window partition. Without this clause, the end point of the
window frame would always be the current tuple. This would mean that the
longest message would always be the same as the current message.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lead">lead</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>LEAD(expr[, offset[, default]]) [nulls-treatment] OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the value from a tuple at a given offset ahead of the current
tuple position.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples. If the
window order clause is omitted, the return values may be unpredictable.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the offset tuple.
<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p><code>offset</code>: (Optional) A positive integer. If omitted, the default is
1.</p>
</li>
<li>
<p><code>default</code>: (Optional) The value to return when the offset goes out of
window partition scope. If omitted, the default is NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="manual.html#Nulls_treatment">Nulls Treatment</a>: (Optional)
Determines how NULL or MISSING values are treated when finding the
offset tuple in the window partition.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the offset tuple.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the offset tuple.</p>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the offset tuple.</p>
</li>
<li>
<p>If the offset tuple is out of partition scope, it returns the default
value, or NULL if no default is specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the length
of the next-longest message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
LEAD(LENGTH(m.message), 1, "No longer message") OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS next_longest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "authorId": 1,
    "messageId": 8,
    "next_longest_message": 39
  },
  {
    "message_length": 39,
    "authorId": 1,
    "messageId": 11,
    "next_longest_message": 44
  },
  {
    "message_length": 44,
    "authorId": 1,
    "messageId": 4,
    "next_longest_message": 45
  },
  {
    "message_length": 45,
    "authorId": 1,
    "messageId": 2,
    "next_longest_message": 51
  },
  {
    "message_length": 51,
    "authorId": 1,
    "messageId": 10,
    "next_longest_message": "No longer message"
  },
  {
    "message_length": 35,
    "authorId": 2,
    "messageId": 3,
    "next_longest_message": 44
  },
  {
    "message_length": 44,
    "authorId": 2,
    "messageId": 6,
    "next_longest_message": "No longer message"
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="nth_value">nth_value</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>NTH_VALUE(expr, offset) [nthval-from] [nulls-treatment] OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the requested value from a tuple in the current window frame,
where the window frame is specified by the window definition.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the offset tuple in
the window frame. <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p><code>offset</code>: The number of the offset tuple within the window frame,
counting from 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="manual.html#Nth_val_from">Nth Val From</a>: (Optional) Determines
where the function starts counting the offset.</p>
<div class="ulist">
<ul>
<li>
<p><code>FROM FIRST</code>: Counting starts at the first tuple in the window
frame. In this case, an offset of 1 is the first tuple in the window
frame, 2 is the second tuple, and so on.</p>
</li>
<li>
<p><code>FROM LAST</code>: Counting starts at the last tuple in the window frame.
In this case, an offset of 1 is the last tuple in the window frame, 2 is
the second-to-last tuple, and so on.</p>
<div class="paragraph">
<p>The order of the tuples is determined by the window order clause. If
this modifier is omitted, the default is <code>FROM FIRST</code>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="manual.html#Nulls_treatment">Nulls Treatment</a>: (Optional)
Determines how NULL or MISSING values are treated when finding the
offset tuple in the window frame.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the offset tuple.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the offset tuple.</p>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the offset tuple.</p>
</li>
<li>
<p>In the following cases, this function may return unpredictable
results.</p>
<div class="ulist">
<ul>
<li>
<p>If the window order clause is omitted.</p>
</li>
<li>
<p>If the window frame is defined by <code>ROWS</code>, and there are tied tuples
in the window frame.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To make the function return deterministic results, add a window order
clause, or add further ordering terms to the window order clause so that
no tuples are tied.</p>
</li>
<li>
<p>If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, and there are
tied tuples in the window frame, the function returns the first value of
the input expression when counting <code>FROM FIRST</code>, or the last value of
the input expression when counting <code>FROM LAST</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the length
of the second shortest message from that author.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
NTH_VALUE(LENGTH(m.message), 2) FROM FIRST OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING -- ➊
) AS shortest_message_but_1
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 11 // ➋
  },
  {
    "message_length": 44,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 2
  },
  {
    "message_length": 51,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "shortest_message_but_1": 44,
    "authorId": 2,
    "messageId": 3
  },
  {
    "message_length": 44,
    "shortest_message_but_1": 44,
    "authorId": 2,
    "messageId": 6 // ➋
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>➀ This clause specifies that the window frame should extend to the end
of the window partition. Without this clause, the end point of the
window frame would always be the current tuple. This would mean that for
the shortest message, the function would be unable to find the route
with the second shortest message.</p>
</div>
<div class="paragraph">
<p>➁ The second shortest message from this author.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the length
of the second longest message from that author.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
NTH_VALUE(LENGTH(m.message), 2) FROM LAST OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING -- ➊
) AS longest_message_but_1
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 11
  },
  {
    "message_length": 44,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 2 // ➋
  },
  {
    "message_length": 51,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "longest_message_but_1": 35,
    "authorId": 2,
    "messageId": 3 // ➋
  },
  {
    "message_length": 44,
    "longest_message_but_1": 35,
    "authorId": 2,
    "messageId": 6
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>➀ This clause specifies that the window frame should extend to the end
of the window partition. Without this clause, the end point of the
window frame would always be the current tuple. This would mean the
function would be unable to find the second longest message for shorter
messages.</p>
</div>
<div class="paragraph">
<p>➁ The second longest message from this author.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ntile">ntile</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>NTILE(num_tiles) OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Divides the window partition into the specified number of tiles, and
allocates each tuple in the window partition to a tile, so that as far
as possible each tile has an equal number of tuples. When the set of
tuples is not equally divisible by the number of tiles, the function
puts more tuples into the lower-numbered tiles. For each tuple, the
function returns the number of the tile into which that tuple was
placed.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples. If the
window order clause is omitted then the tuples are processed in an
undefined order.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_tiles</code>: The number of tiles into which you want to divide the
window partition. This argument can be an expression and must evaluate
to a number. If the number is not an integer, it will be truncated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An value greater than or equal to 1 and less than or equal to the
number of tiles.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>Allocate each message to one of three tiles by length and message ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.messageId, LENGTH(m.message) AS `length`,
NTILE(3) OVER (
  ORDER BY LENGTH(m.message), m.messageId
) AS `ntile`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "length": 31,
    "ntile": 1,
    "messageId": 8
  },
  {
    "length": 35,
    "ntile": 1,
    "messageId": 3
  },
  {
    "length": 39,
    "ntile": 1,
    "messageId": 11
  },
  {
    "length": 44,
    "ntile": 2,
    "messageId": 4
  },
  {
    "length": 44,
    "ntile": 2,
    "messageId": 6
  },
  {
    "length": 45,
    "ntile": 3,
    "messageId": 2
  },
  {
    "length": 51,
    "ntile": 3,
    "messageId": 10
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="percent_rank">percent_rank</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>PERCENT_RANK() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the percentile rank of the current tuple – that is, the rank
of the tuples minus one, divided by the total number of tuples in the
window partition minus one.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples. If the
window order clause is omitted, the function returns the same result (0)
for each tuple.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A number between 0 and 1. The higher the value, the higher the
ranking.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the percentile rank of all messages in order of
message ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId, PERCENT_RANK() OVER (
  PARTITION BY m.authorId
  ORDER BY m.messageId
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "rank": 0,
    "messageId": 2,
    "authorId": 1
  },
  {
    "rank": 0.25,
    "messageId": 4,
    "authorId": 1
  },
  {
    "rank": 0.5,
    "messageId": 8,
    "authorId": 1
  },
  {
    "rank": 0.75,
    "messageId": 10,
    "authorId": 1
  },
  {
    "rank": 1,
    "messageId": 11,
    "authorId": 1
  },
  {
    "rank": 0,
    "messageId": 3,
    "authorId": 2
  },
  {
    "rank": 1,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rank">rank</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>RANK() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the rank of the current tuple – that is, the number of
distinct tuples preceding this tuple in the current window partition,
plus one.</p>
<div class="paragraph">
<p>The tuples are ordered by the window order clause. If any tuples are
tied, they will have the same rank. If the window order clause is
omitted, the function returns the same result (1) for each tuple.</p>
</div>
<div class="paragraph">
<p>When any tuples have the same rank, the rank of the next tuple will
include all preceding tuples, so there may be a gap in the sequence of
returned values. For example, if there are three tuples ranked 2, the
next rank is 5.</p>
</div>
<div class="paragraph">
<p>To avoid gaps in the returned values, use the DENSE_RANK() function
instead.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, greater than or equal to 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the rank of all messages in order of location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId, m.senderLocation[1] as longitude,
RANK() OVER (
  PARTITION BY m.authorId
  ORDER BY m.senderLocation[1]
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "rank": 1,
    "authorId": 1,
    "messageId": 10,
    "longitude": 70.01
  },
  {
    "rank": 2,
    "authorId": 1,
    "messageId": 11,
    "longitude": 77.49
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 2,
    "longitude": 80.87
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 8,
    "longitude": 80.87
  },
  {
    "rank": 5,
    "authorId": 1,
    "messageId": 4,
    "longitude": 97.04
  },
  {
    "rank": 1,
    "authorId": 2,
    "messageId": 6,
    "longitude": 75.56
  },
  {
    "rank": 2,
    "authorId": 2,
    "messageId": 3,
    "longitude": 81.01
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ratio_to_report">ratio_to_report</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>RATIO_TO_REPORT(expr) OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the fractional ratio of the specified value for each tuple to
the sum of values for all tuples in the window frame.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value for which you want to calculate the fractional
ratio. <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A number between 0 and 1, representing the fractional ratio of the
value for the current tuple to the sum of values for all tuples in the
current window frame. The sum of returned values for all tuples in the
current window frame is 1.</p>
</li>
<li>
<p>If the input expression does not evaluate to a number, or the sum of
values for all tuples is zero, it returns NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, calculate the length of each message as a fraction of
the total length of all messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId,
RATIO_TO_REPORT(LENGTH(m.message)) OVER (
  PARTITION BY m.authorId
) AS length_ratio
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "length_ratio": 0.21428571428571427,
    "messageId": 2,
    "authorId": 1
  },
  {
    "length_ratio": 0.20952380952380953,
    "messageId": 4,
    "authorId": 1
  },
  {
    "length_ratio": 0.14761904761904762,
    "messageId": 8,
    "authorId": 1
  },
  {
    "length_ratio": 0.24285714285714285,
    "messageId": 10,
    "authorId": 1
  },
  {
    "length_ratio": 0.18571428571428572,
    "messageId": 11,
    "authorId": 1
  },
  {
    "length_ratio": 0.4430379746835443,
    "messageId": 3,
    "authorId": 2
  },
  {
    "length_ratio": 0.5569620253164557,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="row_number">row_number</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="listingblock">
<div class="content">
<pre>ROW_NUMBER() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns a unique row number for every tuple in every window partition.
In each window partition, the row numbering starts at 1.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples. If the
window order clause is omitted, the return values may be unpredictable.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="manual.html#Window_partition_clause">Window Partition
Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="manual.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, greater than or equal to 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, number all messages in order of length.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId,
ROW_NUMBER() OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS `row`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "row": 1,
    "messageId": 8,
    "authorId": 1
  },
  {
    "row": 2,
    "messageId": 11,
    "authorId": 1
  },
  {
    "row": 3,
    "messageId": 4,
    "authorId": 1
  },
  {
    "row": 4,
    "messageId": 2,
    "authorId": 1
  },
  {
    "row": 5,
    "messageId": 10,
    "authorId": 1
  },
  {
    "row": 1,
    "messageId": 3,
    "authorId": 2
  },
  {
    "row": 2,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr/>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. If the query contains the GROUP BY clause or any xref:builtins.adoc#AggregateFunctions[aggregate functions
</div>
</div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<div class="row-fluid">Apache AsterixDB, AsterixDB, Apache, the Apache
        feather logo, and the Apache AsterixDB project logo are either
        registered trademarks or trademarks of The Apache Software
        Foundation in the United States and other countries.
        All other marks mentioned may be trademarks or registered
        trademarks of their respective owners.
      </div>
        </div>
      </div>
    </footer>
  </body>
</html>
