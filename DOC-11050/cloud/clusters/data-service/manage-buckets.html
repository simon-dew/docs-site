<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>Manage Buckets | Couchbase Docs (Staging)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-11050/cloud/clusters/data-service/manage-buckets.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Create, edit, and delete buckets to manage your data storage in a Couchbase Capella database.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="cloud">
<meta name="dcterms.identifier" content="">
<meta name="page-url" content="/cloud/clusters/data-service/manage-buckets.html">
<meta name="page-nav-header-levels" content="1">
<meta name="generator" content="Antora 3.1.4">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://simon-dew.github.io/docs-site/DOC-11050/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>

  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-11050/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="cloud">
        <option value="" data-url="manage-buckets.html" selected>Provisioned</option>
        <option value="serverless" data-url="../../serverless/clusters/data-service/manage-buckets.html">Serverless</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/couchbaselabs/project-avengers/docs/public/modules/clusters/pages/data-service/manage-buckets.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
    </div>
  </div>

</aside>

<style>

</style>
<div class="feedback">
  

  <a href="#" class="btn any-feedback-btn" 
    id="feedbackTrigger"
    data-jira-component-id="">
    Report Feedback? </a>

</div>

<main
    class="article " 
    data-ceiling="topbar">

<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../index.html">Couchbase Capella</a></li>
<li class="crumb">Administer Capella</li>
<li class="crumb"><a href="data-service.html">Manage Your Data</a></li>
<li class="crumb"><a href="about-buckets-scopes-collections.html">Buckets, Scopes, and Collections</a></li>
<li class="crumb"><a href="manage-buckets.html">Manage Buckets</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Manage Buckets</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Create, edit, and delete buckets to manage your data storage in a Couchbase Capella database.
</blockquote>
</div>
<div class="paragraph">
<p>This page describes how you can create and manage buckets, using the Capella UI.</p>
</div>
<div class="paragraph">
<p>A <strong>bucket</strong> is the named container in which you save your data.
You may have up to 30 buckets in your database.
You may organize the data within a bucket into different <strong>collections</strong>, according to content-type.
A bucket&#8217;s data may be <a href="../xdcr/xdcr.html" class="xref page">replicated</a> across the database, to ensure that the data exists in multiple copies, and is thus highly available.
A bucket&#8217;s data may also be replicated across different databases, potentially in different geographical locations.</p>
</div>
<div class="paragraph">
<p>The Capella UI allows buckets to be easily defined, with default settings that support rapid prototyping and pre-production experimentation.
For the subsequent design of sophisticated production systems, multiple configuration options are provided, to ensure heightened performance, integrity, and availability.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bucket-types"><a class="anchor" href="#bucket-types"></a>Bucket Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Capella has two distinct bucket types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Memory and Disk</strong>:
Data is held in memory, and is also persisted to disk.</p>
</li>
<li>
<p><strong>Memory Only</strong>
Data is held in memory, but is not persisted to disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a detailed overview of buckets, see <a href="#server:learn:buckets-memory-and-storage/buckets.adoc" class="xref unresolved">Buckets</a> in the Couchbase Server documentation.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The data held in a <strong>Memory Only</strong> bucket is lost in cases of cluster restart (whether planned or unplanned); and may also be lost due to the concurrent failure of multiple nodes.
This is because the data in a <strong>Memory Only</strong> bucket is not held on disk.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <strong>Memory Only</strong> bucket must be provisioned with enough memory to be able to restore from backups.
For more information about backup and restore, see <a href="../backup-restore.html" class="xref page">Backup and Restore Data</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="buckets-storage"><a class="anchor" href="#buckets-storage"></a>Buckets and Storage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Capella databases use an append-only file-write format.
This helps to ensure files' internal consistency, and reduces the risk of corruption.
Every change made to a file —- whether an addition, a modification, or a deletion —- results in a new entry being created at the end of the file.
A file whose user-data is diminished by deletion actually grows in size.</p>
</div>
<div class="paragraph">
<p>File-sizes are periodically reduced by means of automated compaction.
This process is known as purging.
In Capella, purging occurs every 1 hour.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="access-bucket"><a class="anchor" href="#access-bucket"></a>Accessing Bucket Information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create, modify, or delete buckets from the Capella UI, you must have the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the database&#8217;s project.
If you have the  <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="paragraph">
<p>Go to your database&#8217;s settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the <strong>Databases</strong> tab, select your database.</p>
</li>
<li>
<p>Go to <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Buckets</b></span>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you have not yet created a bucket, the <b class="button">Create Bucket</b> button is displayed in the middle of the page, allowing you to create your first bucket.
See <a href="#add-bucket">Create a Bucket</a>.</p>
</div>
<div class="paragraph">
<p>If you have already created one or more buckets, the <strong>Buckets Summary</strong> is displayed.</p>
</div>
<div class="sect2">
<h3 id="buckets-summary"><a class="anchor" href="#buckets-summary"></a>Buckets Summary</h3>
<div class="paragraph">
<p>The <strong>Buckets Summary</strong> is a table that lists all buckets in the database.
It includes the following information about each bucket:</p>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Bucket Name</dt>
<dt class="hdlist1">Documents</dt>
<dt class="hdlist1">Bucket Type</dt>
<dt class="hdlist1">Storage Backend</dt>
<dt class="hdlist1">Ops/Sec</dt>
<dt class="hdlist1">Disk</dt>
<dt class="hdlist1">Memory/Quota</dt>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Clicking on the name of a bucket opens the <strong>Edit Bucket</strong> page for that bucket.
The page shows information about the bucket&#8217;s current configuration.
These details include conflict resolution, minimum durability level, replication, flush, and time to live settings.
For more information, see <a href="#edit-bucket">Modify a Bucket</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-bucket"><a class="anchor" href="#add-bucket"></a>Create a Bucket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create a bucket in the Capella UI, you need the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for your database&#8217;s project.
If you have the <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="paragraph">
<p>Go to your database&#8217;s settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the <strong>Databases</strong> tab, select your database.</p>
</li>
<li>
<p>Go to <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Buckets</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Create Bucket</b>.</p>
</li>
<li>
<p>In the <strong>Bucket Name</strong> field, enter a name for the new bucket.
A bucket name can only contain upper or lower case letters, numbers, underscores (<code>_</code>), periods (<code>.</code>), dashes (<code>-</code>), and percentages (<code>%</code>).
You cannot set a bucket name that exceeds 100 characters in length.
You cannot change a bucket name after you create a bucket.</p>
</li>
<li>
<p>In the <strong>Memory Quota (MiB)</strong> field, enter a <strong>Memory Quota</strong> for the bucket.
A minimum of 100 MiB is required for a bucket with the Couchstore storage backend, and 1 GiB for a Magma bucket.</p>
<div class="paragraph">
<p>Use the memory allocation graph to view the memory allocated to other buckets in the database, and the total amount of memory you can allocate to a new bucket.</p>
</div>
<div class="paragraph">
<p>For more information about memory management in Capella, see <a href="#buckets-storage">Buckets and Storage</a>.</p>
</div>
</li>
<li>
<p>(Optional) Configure advanced settings for your bucket, or accept the default values.
For more information about advanced bucket settings, see <a href="#advanced-settings">Configure Advanced Bucket Settings</a>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You cannot configure any advanced settings for a bucket on a trial database.
<a href="../../billing/upgrade-account.html" class="xref page">Upgrade your account</a> to access all bucket customization options.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click <b class="button">Create Bucket</b>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="configure-advanced-bucket-settings"><a class="anchor" href="#configure-advanced-bucket-settings"></a>Configure Advanced Bucket Settings</h3>
<div class="paragraph">
<p>To configure advanced settings while you <a href="#add-bucket">create a new bucket</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expand <strong>Show Advanced Settings</strong>.</p>
</li>
<li>
<p>Choose a <strong>Bucket Type</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Memory and Disk</strong> if you need to persist your data to disk.</p>
</li>
<li>
<p>Select <strong>Memory Only</strong> if your data does not require disk-persistence, and can be maintained in memory only.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you create a <strong>Memory Only</strong> bucket, you cannot use <a href="../../app-services/deployment/creating-an-app-endpoint.html" class="xref page">App Endpoints</a>, <a href="../off-on-database.html" class="xref page">turn off a database</a>, or <a href="../off-on-schedule.html" class="xref page">use a database On/Off schedule</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You also cannot change your bucket type after you create a bucket.
For more information about the bucket types, see <a href="#server:learn:buckets-memory-and-storage/buckets.adoc#bucket-types" class="xref unresolved">Bucket Types</a> in the Couchbase Server documentation.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>(Memory and Disk Buckets Only) Choose a <strong>Storage Backend</strong> for the bucket:</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Couchstore</strong> if your data set is relatively small, and fits easily into memory.</p>
</li>
<li>
<p>Select <strong>Magma</strong> if your data set is very large in relation to available memory, and therefore consistently requires high-speed disk-access.</p>
<div class="paragraph">
<p>Couchstore buckets require a minimum memory allocation of 100 MiB.
Magma buckets require 1 GiB.
For more information about the differences between Couchstore and Magma, see <a href="#server:learn:buckets-memory-and-storage/storage-engines.adoc" class="xref unresolved">Storage Engines</a> in the Couchbase Server documentation.</p>
</div>
<div class="paragraph">
<p>You cannot change your storage backend after you create a bucket.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The memory quota specified for a bucket is allocated on a per-node basis.
The total memory quota for the bucket is equal to the number of data nodes in the Service Group multiplied by the memory quota you specified.
If the number of Data Service nodes in the database changes, the total memory allocated to the bucket changes based on the new number of data nodes.</p>
</div>
<div class="paragraph">
<p><strong>Example:</strong>
If you have deployed Data Services on 3 nodes of your Capella database and then created a new bucket, the bucket memory quota will default to 100 MiB.
This setting means each node will be allocated 100 MiB, giving the bucket a total of 300 MiB memory.
If you then scale your database to run Data Services on six nodes at 100 MiB, then this will give 600 MiB maximum memory for the bucket.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose the <strong>Conflict Resolution</strong> method for the bucket:</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Sequence Number</strong> if you want the document with the higher sequence number to be used in case of a conflict between documents.</p>
</li>
<li>
<p>Select <strong>Timestamp</strong> if you want the document with the most recent timestamp to be used.</p>
<div class="paragraph">
<p>Document conflicts occur during <a href="../xdcr/xdcr.html#conflict-resolution" class="xref page">XDCR</a> when a document has been modified differently in different locations, requiring one version of the document to be kept and the other discarded.
You cannot change your conflict resolution method after you create a bucket.
For more information about conflict resolution, see <a href="../xdcr/xdcr.html#conflict-resolution" class="xref page">XDCR Conflict Resolution</a>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>(Memory Only Buckets Only) Choose an <strong>Ejection Policy</strong> for the bucket:</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>NRU</strong> (Not Recently Used) to ensure that if the bucket&#8217;s memory is full, documents that have not recently been used will be ejected, to reclaim memory for the saving of new documents.</p>
</li>
<li>
<p>Select <strong>No Ejection</strong> to ensure that if the bucket&#8217;s memory is full, all documents are retained, and attempts to save new documents fail.</p>
<div class="paragraph">
<p>You cannot change your ejection policy after you create a bucket.
For more information about ejection, see <a href="#server:learn:buckets-memory-and-storage/storage-settings.adoc#storage-settings-ejection-policy" class="xref unresolved">Ejection Policy</a> in the Couchbase Server documentation.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a id="durability"></a>Choose the <strong>Minimum Durability Level</strong> for each write to the bucket:</p>
<div class="ulist">
<ul>
<li>
<p><strong>None</strong>:
Apply no durability level.
This option is available for <strong>Memory and Disk</strong> and <strong>Memory Only</strong> buckets.</p>
</li>
<li>
<p><strong>Replicate to Majority</strong>:
Mutations replicate to a majority of the Data Service nodes, without persistence.
This option is available for <strong>Memory and Disk</strong> and <strong>Memory Only</strong> buckets.</p>
</li>
<li>
<p><strong>Majority and Persist to Active</strong>:
Mutations replicate to a majority of the Data Service nodes.
They&#8217;re also persisted&#8212;&#8203;written and synchronized to disk&#8212;&#8203;on the node hosting the active vBucket for the data.
This option is available for <strong>Memory and Disk</strong> buckets only.</p>
</li>
<li>
<p><strong>Persist to Majority</strong>:
Mutations replicate to a majority of the Data Service nodes.
They&#8217;re also persisted&#8212;&#8203;written and synchronized to disk&#8212;&#8203;on all nodes.
This option is available for <strong>Memory and Disk</strong> buckets only.</p>
<div class="paragraph">
<p>Durability helps to improve data integrity during failures.
For more information about durability in Couchbase databases, see <a href="#server:learn:data/durability.adoc" class="xref unresolved">Durability</a> in the Couchbase Server documentation.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Set the <strong>Number of Replicas</strong>.
Based on the number nodes in your database, you can choose from to create 1 to 3 replica copies of the data stored in this bucket.
If you do not have the required number of nodes for a specific number of replicas, that option is unavailable.</p>
</li>
<li>
<p><a id="flush"></a>Turn <strong>Flush</strong> on or off.
Flushing a bucket deletes all of its data permanently.</p>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
To protect against inadvertent data loss, turn off Flush on production databases.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><a id="time-to-live"></a>Turn <strong>Time to Live</strong> (TTL) on or off.
Enabling TTL allows you to set a maximum amount of time for which a document can exist before it&#8217;s automatically deleted.
When enabled, this setting allows you to specify the time-period in seconds, minutes, hours, days, or weeks.</p>
</li>
<li>
<p><a id="backup-schedule"></a>Choose a backup schedule for the bucket according to the relative importance of the workload and data.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select <strong>Do Not Backup</strong> to not schedule any backups.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<strong>Do Not Backup</strong> is not recommended for production databases.
It&#8217;s intended for development databases or similar.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To set a weekly incremental schedule, see the steps which follow.</p>
</div>
</li>
<li>
<p>Choose <strong>Set Weekly Schedule</strong>.</p>
</li>
<li>
<p>Choose the <strong>Day of the week</strong> when you want Capella to take the full backup.
The default value is <code>Sunday</code>.</p>
</li>
<li>
<p>Set the <strong>Start at</strong> time of day for the full backup.</p>
<div class="paragraph">
<p>Select a <strong>Start at</strong> time when your application isn&#8217;t using Capella heavily unless you&#8217;ve chosen a database configuration with more capacity than you need.</p>
</div>
</li>
<li>
<p>Use the <strong>Incremental Every</strong> list to set the frequency of incremental backups.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you change the <strong>Start at</strong> time, the next incremental backup might happen at a different time than you expect.
Capella calculates the <strong>Incremental Value</strong> backward from the configured <strong>Start at</strong> time.</p>
</div>
<div class="paragraph">
<p>For example, <strong>Incremental Every</strong> is <code>8 hours</code>, and the <strong>Start at</strong> time is 4 AM.
If the current time is 9 PM, Capella takes an incremental backup at 8 PM, an eight-hour interval backward from 4 AM.
If you change the <strong>Start at</strong> to 6 AM, you would see another incremental backup at 10 PM, two hours after the last backup.
The backup occurs at this time because Capella recalculates the eight-hour backup interval back from the new 6 AM <strong>Start at</strong> time.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select <strong>Cost Optimized Retention</strong>.
When selected, the cost optimized retention policy applies to your bucket backup.
For more information, see <a href="../backup-restore.html#cost-optimized-retention-policy" class="xref page">Cost Optimized Retention Policy</a>.</p>
</li>
<li>
<p>Set a <strong>Retention Time</strong> in line with your data retention policy.</p>
<div class="paragraph">
<p>If you selected Cost Optimized Retention, the <strong>Retention Time</strong> applies only to the monthly restore point.</p>
</div>
<div class="paragraph">
<p>Capella preserves each backup from <code>30 Days</code> to <code>5 Years</code>.
After the retention time lapses, Capella schedules the backup for deletion.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <strong>Retention Time</strong> setting applies to all future backups for a bucket.
Changes to this setting do not affect previous backups.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To create the bucket with your chosen settings, click <b class="button">Create Bucket</b>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="edit-bucket"><a class="anchor" href="#edit-bucket"></a>Modify a Bucket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can modify some of a bucket&#8217;s settings after its creation.</p>
</div>
<div class="paragraph">
<p>To modify a bucket, you need the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the database&#8217;s project.
If you have the <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="paragraph">
<p>Go to your database&#8217;s settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the <strong>Databases</strong> tab, select your database.</p>
</li>
<li>
<p>Go to <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Buckets</b></span>.</p>
</li>
<li>
<p>In the <strong>Buckets Summary</strong> table, click the name of the bucket you want to modify.</p>
</li>
<li>
<p>Edit the bucket&#8217;s settings.</p>
<div class="paragraph">
<p>You can edit the following bucket settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Memory (MiB)</strong>:
Edit the amount of memory allocated to the bucket.
A minimum of 100 MiB is required for a Couchstore storage backend bucket, and 1 GiB for a Magma bucket.</p>
</li>
<li>
<p><strong>Minimum Durability Level</strong>:
Choose a new minimum durability level.
For more information, see the <a href="#durability">durability</a> configuration instructions.</p>
</li>
<li>
<p><strong>Number of Replicas</strong>:
Choose the number of copies of this bucket&#8217;s data that Capella creates and maintains.</p>
</li>
<li>
<p><strong>Flush</strong>:
Choose to turn on or turn off flush.
For more information, see the <a href="#flush">flush</a> configuration instructions.</p>
</li>
<li>
<p><strong>Time to Live</strong>:
Choose to turn on or turn off time to live.
For more information, see the <a href="#time-to-live">time to live</a> configuration instructions.</p>
</li>
<li>
<p><strong>Backup Schedule</strong>:
Change the backup schedule for the bucket.
For more information about how to change a bucket&#8217;s backup schedule, see the <a href="#backup-schedule">backup schedule</a> instructions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To save your changes to your bucket settings, click <b class="button">Update</b>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="delete-bucket"><a class="anchor" href="#delete-bucket"></a>Delete a Bucket</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Deleting a bucket deletes all of its contents.
Backups for a deleted bucket might be available for a restore operation, based on the bucket&#8217;s previous <strong>Backup</strong> configuration.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can delete a bucket when it&#8217;s no longer needed, or when you need to replace all items within a bucket.
Deleting and recreating a bucket is faster than deleting each document in a bucket.</p>
</div>
<div class="paragraph">
<p>To delete a bucket, you need the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the database&#8217;s project.
If you have the <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the bucket is the source of a <a href="../xdcr/xdcr.html" class="xref page">replication</a>, bucket deletion fails.
You must delete all destination replication buckets before you can delete a source bucket.</p>
</div>
<div class="paragraph">
<p>You can delete a destination replication bucket without deleting the source.
Any configured replications, from the <strong>Replications</strong> page in your database settings, are automatically deleted after you delete a bucket.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Go to your database&#8217;s settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the <strong>Databases</strong> tab, select your database.</p>
</li>
<li>
<p>Go to <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Buckets</b></span>.</p>
</li>
<li>
<p>In the <strong>Buckets Summary</strong> table, click the name of the bucket you want to delete.</p>
</li>
<li>
<p>Click <b class="button">Delete Bucket</b>.</p>
</li>
<li>
<p>Verify that you have chosen the correct bucket and then type <code>delete</code> into the provided field.</p>
</li>
<li>
<p>Click <b class="button">Delete Bucket</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Upon successful deletion, the bucket and all its data are deleted from the database.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Capella","components":["cloud"],"url":"/cloud/index.html","latestVersions":{"cloud":""}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
