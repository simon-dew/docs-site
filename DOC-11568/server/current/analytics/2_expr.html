<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>Expressions | Couchbase Docs (Preview)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-11568/server/current/analytics/2_expr.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="A description of Couchbase SQL++ for Analytics expressions.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/analytics/2_expr.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.4">
<link rel="icon" href="../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://simon-dew.github.io/docs-site/DOC-11568/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-11568/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/couchbase/docs-analytics/modules/analytics/pages/2_expr.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Develop</li>
<li class="crumb">Analytics</li>
<li class="crumb">SQL++ for Analytics Language Reference</li>
<li class="crumb"><a href="2_expr.html">Expressions</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Expressions</h1>
<div class="labels">
<ul></ul>
</div>
<div class="labels">
<ul>
<li class="edition"><a href="https://www.couchbase.com/products/editions">Enterprise Edition</a></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>An expression is a language fragment that can be evaluated to return a value. For example, the expression 2 + 3 returns the value 5. Expressions are the building blocks from which queries are constructed. SQL&#43;&#43; supports nearly all of the kinds of expressions in SQL, and adds some new kinds as well.</p>
</div>
<div class="paragraph">
<p>SQL&#43;&#43; is an orthogonal language, which means that expressions can serve as operands of higher level expressions. By nesting expressions inside other expressions, complex queries can be built up. Any expression can be enclosed in parentheses to establish operator precedence.</p>
</div>
<div class="paragraph">
<p>In this section, we&#8217;ll discuss the various kinds of SQL&#43;&#43; expressions.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="expr"><a class="anchor" href="#expr"></a>Expr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/Expr.png" alt="Expr">
</div>
</div>
</div>
<div class="sect1">
<h2 id="Operator_expressions"><a class="anchor" href="#Operator_expressions"></a>Operator Expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Operators perform a specific operation on the input values or expressions.
The syntax of an operator expression is as follows:</p>
</div>
<h5 id="operatorexpr" class="discrete">OperatorExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/OperatorExpr.png" alt="OperatorExpr">
</div>
</div>
<div class="paragraph">
<p>The language provides a full set of operators that you can use within its statements.
Here are the categories of operators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Arithmetic_operators">Arithmetic Operators</a>, to perform basic mathematical operations;</p>
</li>
<li>
<p><a href="#Collection_operators">Collection Operators</a>, to evaluate expressions on collections or objects;</p>
</li>
<li>
<p><a href="#Comparison_operators">Comparison Operators</a>, to compare two expressions;</p>
</li>
<li>
<p><a href="#Logical_operators">Logical Operators</a>, to combine operators using Boolean logic.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following table summarizes the precedence order (from higher to lower) of the major unary and binary operators:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXISTS, NOT EXISTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection emptiness testing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">^</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exponentiation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*, /, DIV, MOD (%)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplication, division, modulo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+, -</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Addition, subtraction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">||</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String concatenation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NULL, IS NOT NULL, IS MISSING, IS NOT MISSING,<br>
IS UNKNOWN, IS NOT UNKNOWN, IS VALUED, IS NOT VALUED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unknown value comparison</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BETWEEN, NOT BETWEEN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Range comparison (inclusive on both sides)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">=, !=, &lt;&gt;, &lt;, &gt;, &lt;=, &gt;=, LIKE, NOT LIKE, IN, NOT IN, IS DISTINCT FROM, IS NOT DISTINCT FROM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comparison</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical negation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conjunction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disjunction</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In general, if any operand evaluates to a <code>MISSING</code> value, the enclosing operator will return <code>MISSING</code>;
if none of the operands evaluates to a <code>MISSING</code> value but there is an operand which evaluates to a <code>NULL</code> value,
the enclosing operator will return <code>NULL</code>. However, there are a few exceptions listed in
<a href="#Comparison_operators">comparison operators</a> and <a href="#Logical_operators">logical operators</a>.</p>
</div>
<div class="sect2">
<h3 id="Arithmetic_operators"><a class="anchor" href="#Arithmetic_operators"></a>Arithmetic Operators</h3>
<div class="paragraph">
<p>Arithmetic operators are used to exponentiate, add, subtract, multiply, and divide numeric values, or concatenate string
values.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+, -</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">As unary operators, they denote a<br>
positive or negative expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE -1;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+, -</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">As binary operators, they add or subtract</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 1 + 2;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 4 * 2;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide (returns a value of type <code>double</code> if both operands are integers)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 5 / 2;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide (returns an integer value if both operands are integers)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 5 DIV 2;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MOD (%)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 5 % 2;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">^</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exponentiation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 2^3;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">||</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String concatenation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE "ab"||"c"||"d";</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Collection_operators"><a class="anchor" href="#Collection_operators"></a>Collection Operators</h3>
<div class="paragraph">
<p>Collection operators are used for membership tests (IN, NOT IN) or empty collection tests (EXISTS, NOT EXISTS).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Membership test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.address.zipcode IN ["02340", "02115"]<br>
SELECT *;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT IN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-membership test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.address.zipcode NOT IN ["02340", "02115"]<br>
SELECT *;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXISTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check whether a collection is not empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM orders AS o<br>
WHERE EXISTS  o.items<br>
SELECT *;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT EXISTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check whether a collection is empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM orders AS o<br>
WHERE NOT EXISTS  o.items<br>
SELECT *;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Comparison_operators"><a class="anchor" href="#Comparison_operators"></a>Comparison Operators</h3>
<div class="paragraph">
<p>Comparison operators are used to compare values.</p>
</div>
<div class="paragraph">
<p>The comparison operators fall into one of two sub-categories: missing value comparisons and regular value comparisons.
SQL&#43;&#43; (and JSON) has two ways of representing missing information in an object &mdash; the presence of the field
with a NULL for its value (as in SQL), and the absence of the field (which JSON permits).
For example, the first of the following objects represents Jack, whose friend is Jill.
In the other examples, Jake is friendless &agrave; la SQL, with a friend field that is NULL, while Joe is friendless in a more
natural (for JSON) way, i.e., by not having a friend field.</p>
</div>
<div class="literalblock">
<div class="title">Examples</div>
<div class="content">
<pre>{"name": "Jack", "friend": "Jill"}

{"name": "Jake", "friend": NULL}

{"name": "Joe"}</pre>
</div>
</div>
<div class="paragraph">
<p>The following table enumerates all of the comparison operators available in SQL&#43;&#43;.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS NULL<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is not NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS NOT NULL<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS MISSING<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is not MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS NOT MISSING<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS UNKNOWN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is NULL or MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS UNKNOWN<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT UNKNOWN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is neither NULL nor MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS NOT UNKNOWN<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS KNOWN (IS VALUED)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is neither NULL nor MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS KNOWN<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT KNOWN (IS NOT VALUED)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is NULL or MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.name IS NOT KNOWN<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BETWEEN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a value is between a start value and a end value. The comparison is inclusive of both the start and end values.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c WHERE c.rating BETWEEN 600 AND 700 SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equality test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating = 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">!=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inequality test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating != 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inequality test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating &lt;&gt; 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Less than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating &lt; 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greater than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating &gt; 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Less than or equal to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating &lt;= 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greater than or equal to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c<br>
WHERE c.rating &gt;= 640<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LIKE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if the left side matches a pattern defined on the right side; in the pattern,  "%" matches any string while "&#95;" matches any character.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c WHERE c.name LIKE "%Dodge%" SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT LIKE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if the left side does not match a pattern defined on the right side; in the pattern, "%" matches any string while "&#95;" matches any character.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM customers AS c WHERE c.name NOT LIKE "%Dodge%" SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS DISTINCT FROM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inequality test that that treats NULL values as equal to each other and MISSING values as equal to each other</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM orders AS o<br>
WHERE o.order_date IS DISTINCT FROM o.ship_date<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT DISTINCT FROM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equality test that treats NULL values as equal to each other and MISSING values as equal to each other</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROM orders AS o<br>
WHERE o.order_date IS NOT DISTINCT FROM o.ship_date<br>
SELECT *;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table summarizes how the missing value comparison operators work.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Non-NULL/Non-MISSING value</th>
<th class="tableblock halign-left valign-top">NULL value</th>
<th class="tableblock halign-left valign-top">MISSING value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS UNKNOWN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT UNKNOWN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS KNOWN (IS VALUED)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT KNOWN (IS NOT VALUED)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Logical_operators"><a class="anchor" href="#Logical_operators"></a>Logical Operators</h3>
<div class="paragraph">
<p>Logical operators perform logical <code>NOT</code>, <code>AND</code>, and <code>OR</code> operations over Boolean values (<code>TRUE</code> and <code>FALSE</code>) plus <code>NULL</code> and <code>MISSING</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if the following condition is false, otherwise returns false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE NOT 1 = 1;<br>
Returns FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if both branches are true, otherwise returns false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 1 = 2 AND 1 = 1;<br>
Returns FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if one branch is true, otherwise returns false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELECT VALUE 1 = 2 OR 1 = 1;<br>
Returns TRUE</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table is the truth table for <code>AND</code> and <code>OR</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">A</th>
<th class="tableblock halign-left valign-top">B</th>
<th class="tableblock halign-left valign-top">A AND B</th>
<th class="tableblock halign-left valign-top">A OR B</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table demonstrates the results of <code>NOT</code> on all possible inputs.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">A</th>
<th class="tableblock halign-left valign-top">NOT A</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Quantified_expressions"><a class="anchor" href="#Quantified_expressions"></a>Quantified Expressions</h2>
<div class="sectionbody">
<h5 id="quantifiedexpr" class="discrete">QuantifiedExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/QuantifiedExpr.png" alt="QuantifiedExpr">
</div>
</div>
<div class="paragraph">
<p>Synonym for <code>SOME</code>: <code>ANY</code></p>
</div>
<div class="paragraph">
<p>Quantified expressions are used for expressing existential or universal predicates involving the elements of a collection.</p>
</div>
<div class="paragraph">
<p>The following pair of examples illustrate the use of a quantified expression to test that every (or some) element in the
set [1, 2, 3] of integers is less than three. The first example yields <code>FALSE</code> and second example yields <code>TRUE</code>.</p>
</div>
<div class="paragraph">
<p>It is useful to note that if the set were instead the empty set, the first expression would yield <code>TRUE</code> ("every" value in an empty set satisfies the condition) while the second expression would yield <code>FALSE</code> (since there isn&#8217;t "some" value, as there are no values in the set, that satisfies the condition). To express a universal predicate that yields <code>FALSE</code> with the empty set, we would use the quantifier <code>SOME AND EVERY</code> in lieu of <code>EVERY</code>.</p>
</div>
<div class="paragraph">
<p>A quantified expression will return a <code>NULL</code> (or <code>MISSING</code>) if the first expression in it evaluates to <code>NULL</code> (or <code>MISSING</code>).
Otherwise, a type error will be raised if the first expression in a quantified expression does not return a collection.</p>
</div>
<div class="literalblock">
<div class="title">Examples</div>
<div class="content">
<pre>EVERY x IN [ 1, 2, 3 ] SATISFIES x &lt; 3 -- ➊
SOME x IN [ 1, 2, 3 ] SATISFIES x &lt; 3  -- ➋</pre>
</div>
</div>
<div class="paragraph">
<p>➀ Returns <code>FALSE</code><br>
➁ Returns <code>TRUE</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Path_expressions"><a class="anchor" href="#Path_expressions"></a>Path Expressions</h2>
<div class="sectionbody">
<h5 id="pathexpr" class="discrete">PathExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/PathExpr.png" alt="PathExpr">
</div>
</div>
<div class="paragraph">
<p>Components of complex types in the data model are accessed via path expressions. Path access can be applied to the
result of a query expression that yields an instance of a complex type, for example, an object or an array instance.</p>
</div>
<div class="paragraph">
<p>For objects, path access is based on field names, and it accesses the field whose name was specified.</p>
</div>
<div class="paragraph">
<p>For arrays, path access is based on (zero-based) array-style indexing. Array indices can be used to retrieve either a single element from an array, or a whole subset of an array. Accessing a single element is achieved by providing a single index argument (zero-based element position), while obtaining a subset of an array is achieved by
providing the <code>start</code> and <code>end</code> (zero-based) index positions; the returned subset is from position <code>start</code> to position
<code>end - 1</code>; the <code>end</code> position argument is optional. If a position argument is negative then the element position is
counted from the end of the array (<code>-1</code> addresses the last element, <code>-2</code> next to last, and so on).</p>
</div>
<div class="paragraph">
<p>Multisets have similar behavior to arrays, except for retrieving arbitrary items as the order of items is not fixed in multisets.</p>
</div>
<div class="paragraph">
<p>Attempts to access non-existent fields or out-of-bound array elements produce the special value <code>MISSING</code>. Type errors
will be raised for inappropriate use of a path expression, such as applying a field accessor to a numeric value.</p>
</div>
<div class="paragraph">
<p>The following examples illustrate field access for an object, index-based element access or subset retrieval of an array,
and also a composition thereof.</p>
</div>
<div class="literalblock">
<div class="title">Examples</div>
<div class="content">
<pre>({"name": "MyABCs", "array": [ "a", "b", "c"]}).array    -- ➊
(["a", "b", "c"])[2]                                     -- ➋
(["a", "b", "c"])[-1]                                    -- ➌
({"name": "MyABCs", "array": [ "a", "b", "c"]}).array[2] -- ➍
(["a", "b", "c"])[0:2]                                   -- ➎
(["a", "b", "c"])[0:]                                    -- ➏
(["a", "b", "c"])[-2:-1]                                 -- ➐</pre>
</div>
</div>
<div class="paragraph">
<p>➀ Returns <code>[["a", "b", "c"]]</code><br>
➁ Returns <code>["c"]</code><br>
➂ Returns <code>["c"]</code><br>
➃ Returns <code>["c"]</code><br>
➄ Returns <code>[["a", "b"]]</code><br>
➅ Returns <code>[["a", "b", "c"]]</code><br>
➆ Returns <code>[["b"]]</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Primary_expressions"><a class="anchor" href="#Primary_expressions"></a>Primary Expressions</h2>
<div class="sectionbody">
<h5 id="primaryexpr" class="discrete">PrimaryExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/PrimaryExpr.png" alt="PrimaryExpr">
</div>
</div>
<div class="paragraph">
<p>The most basic building block for any expression in SQL&#43;&#43; is Primary Expression.
This can be a simple literal (constant) value, a reference to a query variable that is in scope, a parenthesized
expression, a function call, or a newly constructed instance of the data model (such as a newly constructed object,
array, or multiset of data model instances).</p>
</div>
<div class="sect2">
<h3 id="Literals"><a class="anchor" href="#Literals"></a>Literals</h3>
<h5 id="literal" class="discrete">Literal</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/Literal.png" alt="Literal">
</div>
</div>
<div class="paragraph">
<p>The simplest kind of expression is a literal that directly represents a value in JSON format. Here are some examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>-42
"Hello"
true
false
null</pre>
</div>
</div>
<div class="paragraph">
<p>Numeric literals may include a sign and an optional decimal point. They may also be written in exponential notation, like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>5e2
-4.73E-2</pre>
</div>
</div>
<div class="paragraph">
<p>String literals may be enclosed in either single quotes or double quotes. Inside a string literal, the delimiter character for that string must be "escaped" by a backward slash, as in these examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"I read \"War and Peace\" today."
'I don\'t believe everything I read.'</pre>
</div>
</div>
<div class="paragraph">
<p>The table below shows how to escape characters in SQL&#43;&#43;.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Character Name</th>
<th class="tableblock halign-left valign-top">Escape Method</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single Quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double Quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Backslash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\\</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Backspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\b</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formfeed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\f</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Newline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\n</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CarriageReturn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\r</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EscapeTab</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\t</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Variable_references"><a class="anchor" href="#Variable_references"></a>Identifiers and Variable References</h3>
<div class="paragraph">
<p>Like SQL, SQL&#43;&#43; makes use of a language construct called an <em>identifier</em>. An identifier starts with an alphabetic character or the underscore character _ , and contains only case-sensitive alphabetic characters, numeric digits, or the special characters _ and $. It is also possible for an identifier to include other special characters, or to be the same as a reserved word, by enclosing the identifier in back-ticks (it&#8217;s then called a <em>delimited identifier</em>). Identifiers are used in variable names and in certain other places in SQL&#43;&#43; syntax, such as in path expressions, which we&#8217;ll discuss soon. Here are some examples of identifiers:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>X
customer_name
`SELECT`
`spaces in here`
`@&amp;#`</pre>
</div>
</div>
<div class="paragraph">
<p>A very simple kind of SQL&#43;&#43; expression is a variable, which is simply an identifier. As in SQL, a variable can be bound to a value, which may be an input dataset, some intermediate result during processing of a query, or the final result of a query. We&#8217;ll learn more about variables when we discuss queries.</p>
</div>
<div class="paragraph">
<p>Note that the SQL&#43;&#43; rules for delimiting strings and identifiers are different from the SQL rules. In SQL, strings are always enclosed in single quotes, and double quotes are used for delimited identifiers.</p>
</div>
</div>
<div class="sect2">
<h3 id="Parameter_references"><a class="anchor" href="#Parameter_references"></a>Parameter References</h3>
<div class="paragraph">
<p>A parameter reference is an external variable. Its value is provided using the <a href="rest-service.html#query-service">statement execution API</a>.</p>
</div>
<div class="paragraph">
<p>Parameter references come in two forms, <em>Named Parameter References</em> and <em>Positional Parameter References</em>.</p>
</div>
<div class="paragraph">
<p>Named parameter references consist of the "$" symbol followed by an identifier or delimited identifier.</p>
</div>
<div class="paragraph">
<p>Positional parameter references can be either a "$" symbol followed by one or more digits or a "?" symbol. If numbered, positional parameters start at 1. "?" parameters are interpreted as $1 to $N based on the order in which they appear in the statement.</p>
</div>
<div class="paragraph">
<p>Parameter references may appear as shown in the below examples:</p>
</div>
<div class="literalblock">
<div class="title">Examples</div>
<div class="content">
<pre>$id
$1
?</pre>
</div>
</div>
<div class="paragraph">
<p>An error will be raised in the parameter is not bound at query execution time.</p>
</div>
</div>
<div class="sect2">
<h3 id="Parenthesized_expressions"><a class="anchor" href="#Parenthesized_expressions"></a>Parenthesized Expressions</h3>
<h5 id="parenthesizedexpr" class="discrete">ParenthesizedExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/ParenthesizedExpr.png" alt="ParenthesizedExpr">
</div>
</div>
<h5 id="subquery" class="discrete">Subquery</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/Subquery.png" alt="Subquery">
</div>
</div>
<div class="paragraph">
<p>An expression can be parenthesized to control the precedence order or otherwise clarify a query.
A <a href="3_query.html#Subqueries">subquery</a> (nested <a href="3_query.html#Union_all">selection</a>) may also be enclosed in parentheses. For more on these topics please see their respective sections.</p>
</div>
<div class="paragraph">
<p>The following expression evaluates to the value 2.</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>( 1 + 1 )</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Function_call_expressions"><a class="anchor" href="#Function_call_expressions"></a>Function Calls</h3>
<h5 id="functioncall" class="discrete">FunctionCall</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/FunctionCall.png" alt="FunctionCall">
</div>
</div>
<h5 id="ordinaryfunctioncall" class="discrete">OrdinaryFunctionCall</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/OrdinaryFunctionCall.png" alt="OrdinaryFunctionCall">
</div>
</div>
<h5 id="aggregatefunctioncall" class="discrete">AggregateFunctionCall</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/AggregateFunctionCall.png" alt="AggregateFunctionCall">
</div>
</div>
<h5 id="scopename" class="discrete">ScopeName</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/ScopeName.png" alt="ScopeName">
</div>
</div>
<div class="paragraph">
<p>Functions are included in SQL&#43;&#43;, like most languages, as a way to package useful functionality or to
componentize complicated or reusable computations.
A function call is a legal query expression that represents the value resulting from the evaluation of its body
expression with the given parameter bindings; the parameter value bindings can themselves be any expressions in SQL&#43;&#43;.</p>
</div>
<div class="paragraph">
<p>Note that Window functions, and aggregate functions used as window functions, have a more complex syntax.
Window function calls are described in the section on <a href="3_query.html#Over_clauses">Window Queries</a>.</p>
</div>
<div class="paragraph">
<p>Also note that FILTER expressions can only be specified when calling <a href="3_query.html#Aggregation_PseudoFunctions">Aggregation Pseudo-Functions</a>.</p>
</div>
<div class="paragraph">
<p>The following example is a function call expression whose value is 8.</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>length('a string')</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Case_expressions"><a class="anchor" href="#Case_expressions"></a>Case Expressions</h3>
<h5 id="caseexpr" class="discrete">CaseExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/CaseExpr.png" alt="CaseExpr">
</div>
</div>
<h5 id="simplecaseexpr" class="discrete">SimpleCaseExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/SimpleCaseExpr.png" alt="SimpleCaseExpr">
</div>
</div>
<h5 id="searchedcaseexpr" class="discrete">SearchedCaseExpr</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/SearchedCaseExpr.png" alt="SearchedCaseExpr">
</div>
</div>
<div class="paragraph">
<p>In a simple <code>CASE</code> expression, the query evaluator searches for the first <code>WHEN</code> &#8230;&#8203; <code>THEN</code> pair in which the <code>WHEN</code> expression is equal to the expression following <code>CASE</code> and returns the expression following <code>THEN</code>. If none of the <code>WHEN</code> &#8230;&#8203; <code>THEN</code> pairs meet this condition, and an <code>ELSE</code> branch exists, it returns the <code>ELSE</code> expression. Otherwise, <code>NULL</code> is returned.</p>
</div>
<div class="paragraph">
<p>In a searched CASE expression, the query evaluator searches from left to right until it finds a <code>WHEN</code> expression that is evaluated to <code>TRUE</code>, and then returns its corresponding <code>THEN</code> expression. If no condition is found to be <code>TRUE</code>, and an <code>ELSE</code> branch exists, it returns the <code>ELSE</code> expression. Otherwise, it returns <code>NULL</code>.</p>
</div>
<div class="paragraph">
<p>The following example illustrates the form of a case expression.</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>CASE (2 &lt; 3) WHEN true THEN "yes" ELSE "no" END</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Constructors"><a class="anchor" href="#Constructors"></a>Constructors</h3>
<h5 id="constructor" class="discrete">Constructor</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/Constructor.png" alt="Constructor">
</div>
</div>
<h5 id="objectconstructor" class="discrete">ObjectConstructor</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/ObjectConstructor.png" alt="ObjectConstructor">
</div>
</div>
<h5 id="arrayconstructor" class="discrete">ArrayConstructor</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/ArrayConstructor.png" alt="ArrayConstructor">
</div>
</div>
<h5 id="parenthesizedarrayconstructor" class="discrete">ParenthesizedArrayConstructor</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/ParenthesizedArrayConstructor.png" alt="ParenthesizedArrayConstructor">
</div>
</div>
<h5 id="multisetconstructor" class="discrete">MultisetConstructor</h5>
<div class="imageblock">
<div class="content">
<img src="_images/diagrams/MultisetConstructor.png" alt="MultisetConstructor">
</div>
</div>
<div class="paragraph">
<p>Structured JSON values can be represented by constructors, as in these examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "name": "Bill", "age": 42 } -- ➊
[ 1, 2, "Hello", null ]       -- ➋</pre>
</div>
</div>
<div class="paragraph">
<p>➀ An object<br>
➁ An array</p>
</div>
<div class="paragraph">
<p>In a constructed object, the names of the fields must be strings (either literal strings or computed strings), and an object may not contain any duplicate names. Of course, structured literals can be nested, as in this example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[ {"name": "Bill",
   "address":
      {"street": "25 Main St.",
       "city": "Cincinnati, OH"
      }
  },
  {"name": "Mary",
   "address":
      {"street": "107 Market St.",
       "city": "St. Louis, MO"
      }
   }
]</pre>
</div>
</div>
<div class="paragraph">
<p>The array items in an array constructor, and the field-names and field-values in an object constructor, may be represented by expressions. For example, suppose that the variables firstname, lastname, salary, and bonus are bound to appropriate values. Then structured values might be constructed by the following expressions:</p>
</div>
<div class="paragraph">
<p>An object:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  "name": firstname || " " || lastname,
  "income": salary + bonus
}</pre>
</div>
</div>
<div class="paragraph">
<p>An array:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>["1984", lastname, salary + bonus, null]</pre>
</div>
</div>
<div class="paragraph">
<p>If only one expression is specified instead of the field-name/field-value pair in an object constructor then this
expression is supposed to provide the field value. The field name is then automatically generated based on the
kind of the value expression as in Q2.1:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If it is a variable reference expression then the generated field name is the name of that variable.</p>
</li>
<li>
<p>If it is a field access expression then the generated field name is the last identifier in that expression.</p>
</li>
<li>
<p>For all other cases, a compilation error will be raised.</p>
</li>
</ul>
</div>
<h5 id="example" class="discrete">Example</h5>
<div class="paragraph">
<p>(Q2.1)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>FROM customers AS c
WHERE c.custid = "C47"
SELECT VALUE {c.name, c.rating}</pre>
</div>
</div>
<div class="paragraph">
<p>This query outputs:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[
    {
        "name": "S. Logan",
        "rating": 625
    }
]</pre>
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
