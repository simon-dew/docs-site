<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="433px" preserveAspectRatio="none" style="width:452px;height:433px;background:#FFFFFF;" version="1.1" viewBox="0 0 452 433" width="452px" zoomAndPan="magnify"><defs/><g><rect fill="#008080" height="272.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="179.5" y="86.5625"/><rect fill="#00BFFF" height="54.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="343.5" y="172.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="40.2969" y2="394.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="184" x2="184" y1="40.2969" y2="394.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="348" x2="348" y1="40.2969" y2="394.0234"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="5" y="9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="12" y="28.9951">Application</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="5" y="393.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="12" y="413.0186">Application</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="107" x="133" y="5"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="107" x="129" y="9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="136" y="28.9951">Query Engine</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="107" x="133" y="393.0234"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="107" x="129" y="397.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="136" y="417.0186">Query Engine</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="65" x="318" y="5"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="65" x="314" y="9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="321" y="28.9951">Indexer</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="65" x="318" y="393.0234"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="65" x="314" y="397.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="321" y="417.0186">Indexer</text><rect fill="#008080" height="272.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="179.5" y="86.5625"/><rect fill="#00BFFF" height="54.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="343.5" y="172.9609"/><polygon fill="#181818" points="167.5,82.5625,177.5,86.5625,167.5,90.5625,171.5,86.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49.5" x2="173.5" y1="86.5625" y2="86.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="56.5" y="66.3638">SELECT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="56.5" y="81.4966">statement</text><line style="stroke:none;stroke-width:1.0;" x1="189.5" x2="231.5" y1="130.8281" y2="130.8281"/><line style="stroke:none;stroke-width:1.0;" x1="231.5" x2="231.5" y1="130.8281" y2="143.8281"/><line style="stroke:none;stroke-width:1.0;" x1="190.5" x2="231.5" y1="143.8281" y2="143.8281"/><polygon fill="none" points="200.5,139.8281,190.5,143.8281,200.5,147.8281,196.5,143.8281" style="stroke:none;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="196.5" y="110.6294">Analyze query; send</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="196.5" y="125.7622">scan request</text><polygon fill="#181818" points="331.5,168.9609,341.5,172.9609,331.5,176.9609,335.5,172.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="189.5" x2="337.5" y1="172.9609" y2="172.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="196.5" y="167.895">Scan request</text><line style="stroke:none;stroke-width:1.0;" x1="353.5" x2="395.5" y1="202.0938" y2="202.0938"/><line style="stroke:none;stroke-width:1.0;" x1="395.5" x2="395.5" y1="202.0938" y2="215.0938"/><line style="stroke:none;stroke-width:1.0;" x1="354.5" x2="395.5" y1="215.0938" y2="215.0938"/><polygon fill="none" points="364.5,211.0938,354.5,215.0938,364.5,219.0938,360.5,215.0938" style="stroke:none;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="360.5" y="197.0278">Execute scan</text><polygon fill="#181818" points="200.5,223.0938,190.5,227.0938,200.5,231.0938,196.5,227.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="347.5" y1="227.0938" y2="227.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="211.5" y="240.1606">Projection of results</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="211.5" y="255.2935">from scan</text><line style="stroke:none;stroke-width:1.0;" x1="189.5" x2="231.5" y1="333.8906" y2="333.8906"/><line style="stroke:none;stroke-width:1.0;" x1="231.5" x2="231.5" y1="333.8906" y2="346.8906"/><line style="stroke:none;stroke-width:1.0;" x1="190.5" x2="231.5" y1="346.8906" y2="346.8906"/><polygon fill="none" points="200.5,342.8906,190.5,346.8906,200.5,350.8906,196.5,346.8906" style="stroke:none;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="196.5" y="283.4263">Perform sub-group,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="196.5" y="298.5591">grouping and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="196.5" y="313.6919">aggregation; project</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="196.5" y="328.8247">the results</text><polygon fill="#181818" points="60.5,354.8906,50.5,358.8906,60.5,362.8906,56.5,358.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="54.5" x2="183.5" y1="358.8906" y2="358.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="71.5" y="371.9575">Result projection</text><!--MD5=[dc522e3d022252bbe3836ac4c7552607]
@startuml
skinparam maxMessageSize 150
skinparam responseMessageBelowArrow true
skinparam sequenceMessageAlign direction

' title Query Execution without Grouping and Aggregation Pushdown

participant Application

collections "Query Engine" as Query
collections "Indexer" as Index

Application -> Query: SELECT\nstatement
activate Query #teal

Query -[#transparent]> Query: Analyze query; send scan request
Query -> Index: Scan request
activate Index #deepskyblue

Index -[#transparent]> Index: Execute scan
Index -> Query: Projection of results from scan
deactivate Index

Query -[#transparent]> Query: Perform sub-group, grouping and aggregation; project the results
Query -> Application: Result projection
deactivate Query
@enduml

@startuml
skinparam maxMessageSize 150
skinparam responseMessageBelowArrow true
skinparam sequenceMessageAlign direction


participant Application

collections "Query Engine" as Query
collections "Indexer" as Index

Application -> Query: SELECT\nstatement
activate Query #teal

Query -[#transparent]> Query: Analyze query; send scan request
Query -> Index: Scan request
activate Index #deepskyblue

Index -[#transparent]> Index: Execute scan
Index -> Query: Projection of results from scan
deactivate Index

Query -[#transparent]> Query: Perform sub-group, grouping and aggregation; project the results
Query -> Application: Result projection
deactivate Query
@enduml

PlantUML version 1.2022.12(Sun Oct 23 18:12:26 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>