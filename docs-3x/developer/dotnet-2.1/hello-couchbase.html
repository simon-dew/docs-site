<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Hello Couchbase example — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/java-2.1/java-intro.html"><span>Java SDK 2.1</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.0/java-intro.html"><span>Java SDK 2.0</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dotnet-2.1/dotnet-intro.html"><span>.NET SDK 2.1</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dotnet-2.1/overview.html"><span>Overview</span></a></li><li class="section"><a href="../../developer/dotnet-2.1/download-links.html"><span>Download and API Reference</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dotnet-2.1/getting-started.html"><span>Getting started</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dotnet-2.1/hello-couchbase.html" class="current"><span>Hello Couchbase example</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.1/managing-connections.html"><span>Managing server connections </span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.1/documents.html"><span>Working with documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.1/querying.html"><span>Querying buckets</span></a></li><li class="section"><a href="../../developer/dotnet-2.1/handling-timeouts.html"><span>Handling timeouts</span></a></li><li class="section"><a href="../../developer/dotnet-2.1/setting-up-logging.html"><span>Setting up logging</span></a></li><li class="section"><a href="../../developer/dotnet-2.1/release-notes.html"><span>Release notes</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.0/dotnet-intro.html"><span>.NET SDK 2.0</span></a></li></ul></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Hello Couchbase example</h1>

	<div class="body conbody">
		<p class="p">This topic shows how to create a simple “Hello World” application using the SDK. It's a quick
			5-minute introduction to the Couchbase .NET SDK that just covers the basics and doesn’t go
			over advanced features of the client.</p>

		<p class="p">Before starting this tutorial make sure you are comfortable creating a Visual Studio
			project.</p>

		<section class="section"><h2 class="title sectiontitle">Prerequisites</h2>
			<p class="p">To complete the “Hello World” tutorial, you need the following prerequisites installed:
			</p>

			<div class="p">
				<ul class="ul">
					<li class="li">Microsoft Visual Studio 2013 or later</li>

					<li class="li">Microsoft .NET Framework 4.5 or later</li>

					<li class="li">Couchbase Server 2.5 or later installed locally (localhost/127.0.0.1)</li>

					<li class="li">A Couchbase bucket called <samp class="ph codeph">default</samp> installed</li>

				</ul>

			</div>

			
		</section>

		<section class="section"><h2 class="title sectiontitle">Tutorial</h2>
			<p class="p">This tutorial creates a simple console application using Visual Studio that illustrates
				the most basic usage of the Couchbase .NET SDK. </p>
<p class="p">To begin, open Visual Studio and
				create a new Console Application Project called Couchbase.HelloCouchbase: </p>

			<p class="p">
				<img class="image" id="concept2677__image_i31_yqb_3p" src="images/hello-couchbase-visual-studio.png">
			</p>

			<p class="p">This creates a simple executable with a <samp class="ph codeph">main()</samp> method that you can use
				to try reading and writing from a Couchbase Cluster.</p>
<p class="p">Next, use the NuGet Package
				Manager to reference the Couchbase .NET SDK and its dependencies: </p>

			<img class="image" id="concept2677__image_rmn_hsb_3p" src="images/hello-couchbase-nuget.png">
			<p class="p">At this point, you should be ready to go. Add a <samp class="ph codeph">Cluster</samp> object, which
				represents a factory and resource manager for Couchbase buckets. This is added to the
					<span class="ph filepath">Program.cs</span> file that was added automatically by Visual Studio
				when the project was created:</p>

			<div style="margin-bottom: 0;"><strong>Creating the Cluster and Bucket</strong></div><pre class="pre codeblock language-csharp"><code>
internal class Program
{
    private static readonly Cluster Cluster = new Cluster();

    private static void Main(string[] args)
    {
        using (var bucket = Cluster.OpenBucket())
        {
            
        }
    }
}
			</code></pre>

			<p class="p">The default <samp class="ph codeph">OpenBucket()</samp> overload with no parameters opens the
					<samp class="ph codeph">default</samp> bucket. Additionally, because the default constructor is
				used to create the <samp class="ph codeph">Cluster</samp> object, the app connects to the
					<samp class="ph codeph">localhost</samp> (<samp class="ph codeph">127.0.0.1</samp>) instance of Couchbase
				Server.</p>

			<p class="p">The <samp class="ph codeph">CouchbaseBucket</samp> object (as well as the <samp class="ph codeph">Cluster</samp>
				object) implements the dispose pattern. Because of this, the instance is wrapped in a
					<samp class="ph codeph">using</samp> statement, which means that the internal resources allocated
				by the instance will be reclaimed as the bucket instance goes out of scope. Managing the
				lifetime or scope of these objects is critical to developing high-performing, robust
				applications with the .NET SDK.</p>

			<p class="p"> Now that you have connected to a Couchbase bucket, you can create a document and add it
				to the database: </p>

			<div class="p">
				<div style="margin-bottom: 0;"><strong>Storing a document</strong></div><pre class="pre codeblock language-csharp"><code>
using (var bucket = Cluster.OpenBucket())
{
    var document = new Document&lt;dynamic&gt;
    {
        Id = "Hello",
        Content = new
        {
            name = "Couchbase"
        }
    };

    var upsert = bucket.Upsert(document);
    if (upsert.Success)
    {
        var get = bucket.GetDocument&lt;dynamic&gt;(document.Id);
        document = get.Document;
        var msg = string.Format("{0} {1}!", document.Id, document.Content.name);
        Console.WriteLine(msg);
    }
    Console.Read();
}
			</code></pre>

			</div>

			<p class="p">First, the code creates a new <samp class="ph codeph">Document</samp> object, types it as
					<samp class="ph codeph">dynamic</samp> and provides an <samp class="ph codeph">Id</samp> value. Then, it creates
				the actual value that will be stored as JSON in Couchbase and assigns it to the
					<samp class="ph codeph">Content</samp> property. After the <samp class="ph codeph">Document</samp> object is
				created, it uses the <samp class="ph codeph">Upsert()</samp> method to store it into the database.
				Finally, it checks whether the operation was successful and if it is, does a
					<samp class="ph codeph">GetDocument()</samp> operation to retrieve the document and formats a
				string with the <samp class="ph codeph">Id</samp> of the document and the <samp class="ph codeph">Name</samp>
				property from the <samp class="ph codeph">Content</samp> field (the actual JSON document).</p>
<p class="p">If
				you build and run this from Visual Studio, you should see the following message
				output:</p>

			<div class="p">
				<pre class="pre codeblock language-bourne"><code>Hello Couchbase!</code></pre>

			</div>

			<p class="p">Congratulations, you have successfully created the Hello Couchbase Tutorial! The full
				source can be found on <a class="xref" href="https://github.com/couchbaselabs/couchbase-net-examples/tree/master/Src/Couchbase.HelloCouchbase" target="_blank">GitHub</a>.</p>

		</section>

	</div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dotnet-2.1/getting-started.html" title="This section shows how to add the Couchbase .NET SDK to your application and how to get up and running with the client by way of a simple “Hello Couchbase” application.">Getting started</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>