<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Configuring the client — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/java-2.1/java-intro.html"><span>Java SDK 2.1</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.0/java-intro.html"><span>Java SDK 2.0</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.1/dotnet-intro.html"><span>.NET SDK 2.1</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dotnet-2.0/dotnet-intro.html"><span>.NET SDK 2.0</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dotnet-2.0/overview.html"><span>Overview</span></a></li><li class="section"><a href="../../developer/dotnet-2.0/download-links.html"><span>Download and API Reference</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.0/getting-started.html"><span>Getting started</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dotnet-2.0/managing-connections.html"><span>Managing server connections </span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dotnet-2.0/configuring-the-client.html" class="current"><span>Configuring the client</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../developer/dotnet-2.0/configuration-app-config.html"><span>Connecting to buckets</span></a></li><li class="section"><a href="../../developer/dotnet-2.0/closing-connections.html"><span>Closing the connection</span></a></li><li class="section"><a href="../../developer/dotnet-2.0/configuring-ssl.html"><span>Configuring SSL</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.0/documents.html"><span>Working with documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.0/querying.html"><span>Querying buckets</span></a></li><li class="section"><a href="../../developer/dotnet-2.0/handling-timeouts.html"><span>Handling timeouts</span></a></li><li class="section"><a href="../../developer/dotnet-2.0/setting-up-logging.html"><span>Setting up logging</span></a></li><li class="section"><a href="../../developer/dotnet-2.0/release-notes.html"><span>Release notes</span></a></li></ul></li></ul></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
 <h1 class="title topictitle1" id="ariaid-title1">Configuring the client</h1>

 
 <div class="body conbody"><p class="shortdesc">While the client comes with reasonable default configuration settings, sometimes you
  need to customize the configuration for your unique environment or use case.</p>

  <section class="section"><h2 class="title sectiontitle">Programmatic configuration</h2>
   
  <p class="p">The client comes with a set of default values for its configuration. For the most part, these
				defaults are satisfactory for most development and production use. However, these values
				can be modified or overridden as needed to tune the client to specific use-cases and
				scenarios. The client can be configured in one of two ways: programmatically through the
					<samp class="ph codeph">ClientConfiguration</samp> object or through the
					<samp class="ph codeph">App.Config</samp> or <samp class="ph codeph">Web.Config</samp>.
    You should choose one of the two in order to avoid precedence problems and configuration clashes.</p>

  <p class="p"><strong class="ph b">The ClientConfiguration object</strong></p>

  <p class="p">The client can be configured programmatically using the <span class="keyword apiname">ClientConfiguration</span> class and passing the custom configuration through one of the <span class="keyword apiname">Cluster</span> constructor overloads. Through the <span class="keyword apiname">ClientConfiguration</span> you can also
   configure individual buckets and their connection pools. </p>

  <p class="p">Here is an example of overriding the default configuration settings with several overrides: </p>

  <div class="p"><div style="margin-bottom: 0;"><strong>ClientConfiguration example</strong></div><pre class="pre codeblock language-csharp"><code>
var config = new ClientConfiguration
{
  Servers = new List&lt;Uri&gt;
  {
    new Uri("http://192.168.56.101:8091/pools"),
    new Uri("http://192.168.56.102:8091/pools"),
    new Uri("http://192.168.56.103:8091/pools"),
    new Uri("http://192.168.56.104:8091/pools"),
  },
  UseSsl = true,
  DefaultOperationLifespan = 1000,
  BucketConfigs = new Dictionary&lt;string, BucketConfiguration&gt;
  {
    {"default", new BucketConfiguration
    {
      BucketName = "default",
      UseSsl = false,
      Password = "",
      DefaultOperationLifespan = 2000,
      PoolConfiguration = new PoolConfiguration
      {
        MaxSize = 10,
        MinSize = 5,
        SendTimeout = 12000
      }
    }}
  }
};

using (var cluster = new Cluster(config))
{
  IBucket bucket = null;
  try
  {
    bucket = cluster.OpenBucket();
    //use the bucket here
  }
  finally
  {
    if (bucket != null)
    {
      cluster.CloseBucket(bucket);
    }
   }
  }
}
		</code></pre>
</div>

  <p class="p">At the top of the snippet, the code creates the <span class="keyword apiname">ClientConfiguration</span> object
				and uses property initializers to override the default settings. It then creates the
				bootstrap list of servers for initiating communication between the client and the
				cluster. The client attempts to bootstrap off of each of these servers. When it
				successfully connects with one of the servers in this list, the bootstrapping process
				ends. </p>

  <p class="p">Why add more than one server to the bootstrap (Servers) list? It’s possible that one or more of
				the servers in that list might not be part of the cluster at the time the client is
				created. By providing a range of nodes as bootstrap candidates, the likelihood of the
				client finding a suitable node to connect to increases. After the client successfully
				bootstraps, it receives a server configuration of the current state of the cluster. It
				uses this server configuration to update the bootstrap list by adding any additional
				candidate bootstrap servers to it.</p>

  <p class="p">Here are all of the <span class="keyword apiname">ClientConfiguration</span> members and their defaults:</p>

  
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_g2m_5nk_3p__table_ivc_5mc_3p" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. ClientConfiguration properties</span></caption>
          <col style="width:27.44282744282744%">
          <col style="width:51.767151767151766%">
          <col style="width:20.790020790020787%">
          <thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e88">Name</th>

              <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e91">Description</th>

              <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e94">Default</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">UseSsl</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Whether or not to use SSL encrypt data being sent to and from the
                server</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">false</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">SslPort</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Overrides the <samp class="ph codeph">DirectPort</samp> and sets the SSL port to use for
								key-value operations using the binary memcached protocol id UseSsl is
								enabled</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">11207</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">ApiPort</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The port to use for the Views API</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">8092</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">DirectPort</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The port to use for standard memcached binary operations such as storing and
                retrieving documents by key</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">11210</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">MgmtPort</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The port to use for the Management API</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">8091</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">HttpsMgmtPort</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Overrides the <samp class="ph codeph">MgmtPort</samp> and sets the SSL port to use for the
                Management API</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">18091</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">HttpsApiPort</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Overrides the <samp class="ph codeph">ApiPort</samp> and sets the SSL port to use for the
                Views API</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">18092</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">OperationTimeout</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The amount of time the client will wait on a pending operation before timing
								out</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">2500 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">ObserveInterval</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The interval to wait before each Observe attempt</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">10 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">ObserveTimeout</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The maximum amount of time to wait before timing out</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">500 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">Servers</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The list of servers to bootstrap from</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">http://localhost:8091/pools</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">MaxViewRetries</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The upper limit for the number of times a View request that has failed will be
                retried</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">2</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">ViewHardTimeout</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">The maximum amount of time that a View request takes before timing out. This
								includes time for retries.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">30000 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">ViewRequestTimeout</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Sets the timeout for each HTTP View request.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">5000 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">HeartbeatConfigInterval</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Sets the interval for configuration "heartbeat" checks, which check for changes
                in the configuration that are otherwise undetected by the client.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">10000 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">EnableConfigHeartBeat</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Enables configuration heartbeat checks.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">true</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">DefaultConnectionLimit</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Gets or sets the maximum number of concurrent connections allowed by a
									<samp class="ph codeph">ServicePoint</samp> object used for making View and N1QL
								requests.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">5</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">MaxServicePointIdleTime</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Gets or sets the maximum idle time of a <samp class="ph codeph">ServicePoint</samp> object
								used for making View and N1QL requests.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">100,000 ms</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">Expect100Continue</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Gets or sets a Boolean value that determines whether 100-Continue behavior is
                used.</td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">&nbsp;</td>

            </tr>

            <tr class="row">
              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e88 "><samp class="ph codeph">DefaultOperationLifespan</samp></td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e91 ">Gets or sets the default maximum time an operation is allowed to take (including
                processing and in-flight time on the wire).
                Note that in <samp class="ph codeph">App.config</samp> this is
                set via <samp class="ph codeph">operationLifespan</samp>
              </td>

              <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e94 ">2500ms</td>

            </tr>

          </tbody>

        </table>
</div>

  <p class="p">In the ClientConfiguration example code snippet, the <samp class="ph codeph">UseSsl</samp> property is set to
				true, indicating that all traffic between the client and the cluster will be encrypted.
				To use this feature, the server hosting the application needs to have the appropriate
				certificate installed and the cluster must be Couchbase Server version 3.0 or later.</p>

  <p class="p">The ClientConfiguration example specifies a configuration for the <samp class="ph codeph">default</samp>
				bucket. Providing a bucket level configuration overrides any configuration settings set
				at the cluster level. The <samp class="ph codeph">BucketConfiguration</samp> members and their
				defaults are as follows:</p>

  <div class="p">
   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_g2m_5nk_3p__table_ww5_t4c_3p" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 2. BucketConfiguration properties</span></caption>
            <col style="width:20.576131687242803%">
            <col style="width:57.61316872427984%">
            <col style="width:21.81069958847737%">
            <thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e422">Name</th>

                <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e425">Description</th>

                <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e428">Default</th>

              </tr>

            </thead>

            <tbody class="tbody">
              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">BucketName</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">The name of the bucket to connect to.</td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">“default”</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">UseSsl</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">Whether or not to use SSL encrypt data being sent to and from the
                  server</td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">false</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">Password</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">The bucket password</td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">empty string</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">ObserveInterval</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">The interval to wait before each Observe attempt</td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">10ms</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">ObserverTimeout</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">The max amount of time to wait before timing out</td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">500ms</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">PoolConfiguration</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">The TCP socket pool configuration</td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">(see below)</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e422 "><samp class="ph codeph">DefaultOperationLifespan</samp></td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e425 ">The default lifespan for operations of this bucket (ie
                    maximum time taken by the operation, including processing
                    and in-flight time on the wire).
                    Note that in <samp class="ph codeph">App.config</samp> this is
                    set via <samp class="ph codeph">operationLifespan</samp>
                </td>

                <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e428 ">2500ms</td>

              </tr>

            </tbody>

          </table>
</div>

  </div>

  <p class="p">Finally, in the ClientConfiguration example code snippet, it provides a new
					<samp class="ph codeph">PoolConfiguration</samp>, which overrides the default
					<samp class="ph codeph">MaxSize</samp> and <samp class="ph codeph">MinSize</samp> of 2 and 1 respectively, with
				the values 5 and 2. This means that the pool will start with 2 TCP connections and grow
				to 5 TCP connections on demand. </p>

  <p class="p">The rest of the <samp class="ph codeph">PoolConfiguration</samp> members and their defaults: </p>

  
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_g2m_5nk_3p__table_nny_z4c_3p" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 3. PoolConfiguration properties</span></caption>
    <col style="width:33.33333333333333%">
    <col style="width:33.33333333333333%">
    <col style="width:33.33333333333333%">
    <thead class="thead" style="text-align:left;">
     <tr class="row">
      <th dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e572">Name</th>

      <th dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e575">Description</th>

      <th dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d152914e578">Default</th>

     </tr>

    </thead>

    <tbody class="tbody">

     <tr class="row">
      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e572 "><samp class="ph codeph">MaxSize</samp></td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e575 ">The maximum number of TCP connection to use</td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e578 ">2</td>

     </tr>

     <tr class="row">
      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e572 "><samp class="ph codeph">MinSize</samp></td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e575 ">The minimum or starting number of TCP
       connections to use</td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e578 ">1</td>

     </tr>

     <tr class="row">
      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e572 "><samp class="ph codeph">WaitTimeout</samp></td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e575 ">The amount of time to wait for a TCP connection before timing out after the
									<samp class="ph codeph">MaxSize</samp> has been reached and all connections are being
								used</td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e578 ">2500 ms</td>

     </tr>

     <tr class="row">
      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e572 "><samp class="ph codeph">ShutdownTimeout</samp></td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e575 ">The amount of time to wait  before the underlying socket closes its
								connection</td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e578 ">10000 ms</td>

     </tr>

     <tr class="row">
      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e572 "><samp class="ph codeph">SendTimeout</samp></td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e575 ">The amount of time to allow between an operation being written on the socket
                                and being acknowledged.</td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e578 ">15000 ms</td>

     </tr>

     <tr class="row">
      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e572 "><samp class="ph codeph">UseSsl</samp></td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e575 ">Whether or not to use SSL encrypt data being
       sent to and from the server</td>

      <td dir="ltr" class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d152914e578 ">false</td>

     </tr>

    </tbody>

   </table>
</div>

  <p class="p">The example source can be found on GitHub <a class="xref" href="https://github.com/couchbaselabs/couchbase-net-examples/blob/master/Src/Couchbase.ClientConfigurationExample/Program.cs" target="_blank">here</a>.</p>

  </section>

  <section class="section"><h2 class="title sectiontitle">Configuration with an App.Config or Web.Config</h2>
   
   <p class="p">As an alternative to using programmatic configuration, you can also configure the client
				through an <span class="ph filepath">App.config</span> or <span class="ph filepath">Web.config</span>. The
				following snippet illustrates how you would do so:</p>

   <pre class="pre codeblock language-xml"><code>
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;configuration&gt;
  &lt;configSections&gt;
    &lt;sectionGroup name="couchbaseClients"&gt;
      &lt;section name="couchbase"
               type="Couchbase.Configuration.Client.Providers.CouchbaseClientSection, Couchbase.NetClient"/&gt;
    &lt;/sectionGroup&gt;
  &lt;/configSections&gt;
  &lt;couchbaseClients&gt;
    &lt;couchbase useSsl="false" operationLifeSpan="1000"&gt;
      &lt;servers&gt;
        &lt;add uri="http://192.168.56.101:8091/pools"&gt;&lt;/add&gt;
        &lt;add uri="http://192.168.56.102:8091/pools"&gt;&lt;/add&gt;
        &lt;add uri="http://192.168.56.103:8091/pools"&gt;&lt;/add&gt;
        &lt;add uri="http://192.168.56.104:8091/pools"&gt;&lt;/add&gt;
      &lt;/servers&gt;
      &lt;buckets&gt;
        &lt;add name="default" useSsl="false" password="" operationLifespan="2000"&gt;
          &lt;connectionPool name="custom" maxSize="10" minSize="5" sendTimeout="12000"&gt;&lt;/connectionPool&gt;
        &lt;/add&gt;
      &lt;/buckets&gt;
    &lt;/couchbase&gt;
  &lt;/couchbaseClients&gt;
    &lt;startup&gt;
        &lt;supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.1" /&gt;
    &lt;/startup&gt;
&lt;/configuration&gt;
		</code></pre>

   <p class="p">This the same configuration programmatically defined earlier in this section using the
					<samp class="ph codeph">ClientConfiguration</samp> class.</p>

   <p class="p">To use this configuration, you need to use one of the special <samp class="ph codeph">Cluster</samp>
        constructors that takes a string containing the path of the configuration:</p>

   <div class="p">
    <pre class="pre codeblock language-csharp"><code>
using (var cluster = new Cluster("couchbaseClients/couchbase"))
{
  using (var bucket = cluster.OpenBucket())
  {
    //use the bucket here
  }
}
			</code></pre>

   </div>

   <p class="p">That the string <samp class="ph codeph">couchbaseClients/couchbase</samp> matches the path of the
					<samp class="ph codeph">sectionGroup</samp> and <samp class="ph codeph">section</samp> elements in the
					<span class="ph filepath">App.config</span> defined above. This example can be found on Github
					<a class="xref" href="https://github.com/couchbaselabs/couchbase-net-examples/tree/master/Src/Couchbase.ClientConfigurationExample.WebConfig" target="_blank">here.</a>
			</p>

  </section>

 </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dotnet-2.0/managing-connections.html" title="TCP connections are a finite resource and need to managed appropriately for an application to perform to expectations, scale to demand and work reliably.">Managing server connections</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../developer/dotnet-2.0/configuration-app-config.html" title="After you create a ClientConfiguration, you can then connect to a cluster by using the Cluster class.">Connecting to buckets</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>