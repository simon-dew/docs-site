<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Troubleshooting — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/first-app.html"><span>Creating your first application</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/modeling-docs.html"><span>Modeling documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/access-data.html"><span>Accessing data with Couchbase SDKs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/store-data.html"><span>Storing data</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/find-data.html"><span>Finding data with views</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/advanced-topics.html"><span>Advanced topics in development</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dev-guide-3.0/bulk-set.html"><span>Performing a bulk set</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/memory-errors.html"><span>Handling temporary out of memory errors</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/sync-async-transactions.html"><span>Synchronous and asynchronous transactions</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/transactional-logic.html"><span>Providing transactional logic</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/app-performance.html"><span>Improving application performance</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/thread-safety.html"><span>Thread safety for Couchbase SDKs</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/common-errors.html"><span>Handling common errors</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/troubleshooting.html" class="current"><span>Troubleshooting</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/client-library.html"><span>Developing a client library</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content"><h1 class="title topictitle1" id="ariaid-title1">Troubleshooting</h1>
<div class="body conbody"><p class="p">This section provides general, non-SDK specific information about logging, backups and restores,
			as well as failover information. For more information, please refer to the API Reference
			for your chosen SDK.</p>
<section class="section"><h2 class="title sectiontitle">Configuring logs</h2><p class="p">You can configure logging at a few different levels for Couchbase Server:</p>
<ul class="ul">
<li class="li"><p class="p">Couchbase Server logs. The primary source for logging information is Couchbase Administrative
						Console. The installation for Couchbase Server automatically sets up and starts
						logging for you. There are also optional, lower level logs which you can
						configure. For more information, see <a class="xref" href="http://docs.couchbase.com/admin/admin/Misc/Trbl-intro.html" target="_blank">Troubleshooting</a>.</p>
</li>

<li class="li"><p class="p">SDK-specific log errors. For more information, refer to the Language Reference
 for your chosen SDK.</p>
</li>

</ul>
</section>
<section class="section"><h2 class="title sectiontitle">Backups and restores</h2><p class="p">Backing up your information should be a regular process you perform to help
ensure you do not lose all your data in case of major hardware or other system
failure.</p>

	
	<div class="note note"><span class="notetitle">Note:</span> <p class="p">
Because you typically want to perform a backup and restore with zero system
downtime with Couchbase Server it is impossible to create a complete in-time
backup and snapshot of the entire cluster. In production, Couchbase Server will
constantly receive requests and updated data; therefore it is impossible to take
an accurate snapshot of all possible information. This would be the case for any
other database in production mode.
</p>
<p class="p">Instead, you can perform full backups, and incremental backups, and merge these
two together in order to create a time-specific backup; nonetheless your
information may still not be 100% complete.
</p>
</div>

	
	<p class="p">For more information on backups and restores, see Couchbase Server Manual,
“Backup and Restore with Couchbase.”</p>
</section>
<section class="section"><h2 class="title sectiontitle">Handling failover</h2><p class="p">When a Couchbase Server node fails, any other node functioning in the cluster
will continue to process requests and provide responses and you will experience
no loss of administrative control. Couchbase SDKs will try to communicate to a
failed node, but will receive a message that the requested information cannot be
found on the failed node; an SDK will then request updated cluster information
from Couchbase Server then communicate with nodes that are still active. Since
Couchbase Server distributes information across nodes, and also stores replica
data, information from any failed node will still exist in the cluster and an
SDK can access it.</p>
<p class="p">There are two ways to handle possible node failures with Couchbase Server:</p>
<ul class="ul">
<li class="li"><p class="p">Auto-failover: You can specify the maximum amount of time a node is unresponsive
 and then Couchbase Server will remove that node from a cluster. For more
 information, see Couchbase Server Manual, Node Failure.</p>
</li>

<li class="li"><p class="p">Manual-failover: In this case, a person will determine that a node is down, and
 then remove the node from a cluster.</p>
</li>

</ul>
<p class="p">In either case, when a node is removed, Couchbase Server will automatically
redistribute information from that node to all other functioning nodes in the
cluster. However, at this point, the existing nodes will not have replicas
established for the additional data. In order to provide replication, you will
want to perform a rebalance on the cluster. The rebalance will:</p>
<ul class="ul">
<li class="li"><p class="p">Redistribute stored data across remaining nodes in the cluster,</p>
</li>

<li class="li"><p class="p">Create replica data for all buckets in the cluster,</p>
</li>

<li class="li"><p class="p">Provide information on the new location for information, based on SDK requests.</p>
</li>

</ul>
<p class="p">In general, rebalances with Couchbase Server have less of a performance impact
than you would expect with a traditional relational database, with all other
factors such as size of data set as a constant. However, rebalances will
increase the overload load and resource utilization for a cluster and will lead
to some amount of performance loss. Therefore, it is a best practice to perform
a rebalance after node failure during the lowest application use, if possible.
After node failure, you could choose to perform one of these options:</p>
<ul class="ul">
<li class="li"><p class="p">Leave the cluster functioning with one less node. Be aware that the cluster
 still needs to adequately maintain the volume of requests and data with one less
 node,</p>
</li>

<li class="li"><p class="p">If possible, get the failed node functioning once again, add it to the cluster
 and then rebalance,</p>
</li>

<li class="li"><p class="p">Create a new node to replace the failed node, add it to the cluster, and then
 rebalance.</p>
</li>

</ul>
<p class="p">For more information about this topic, see Couchbase Server Manual, “Handling a
Failover Situation.”</p>
</section>
</div>
<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/advanced-topics.html">Advanced topics in development</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/common-errors.html">Handling common errors</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>