<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Sample storage documents â€” Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/first-app.html"><span>Creating your first application</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/modeling-docs.html"><span>Modeling documents</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dev-guide-3.0/compare-docs-vs-relational.html"><span>Comparing document-oriented and relational data</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/using-json-docs.html"><span>Using JSON documents</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/schemaless.html"><span>Schemaless data modeling</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/doc-design-considerations.html"><span>Document design considerations</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/model-docs-retrieval.html"><span>Modeling documents for retrieval</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/lookups.html"><span>Using reference documents for lookups</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/sample-docs.html" class="current"><span>Sample storage documents</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/access-data.html"><span>Accessing data with Couchbase SDKs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/store-data.html"><span>Storing data</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/find-data.html"><span>Finding data with views</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/advanced-topics.html"><span>Advanced topics in development</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/client-library.html"><span>Developing a client library</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content"><h1 class="title topictitle1" id="ariaid-title1">Sample storage documents</h1>
<div class="body conbody"><p class="p">The following are some sample JSON documents which demonstrate some different
types of application data which can be stored as JSON in Couchbase Server.</p>
<p class="p">Here is an example of a message document:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">{
    "from": "user_512",
    "to": "user_768",
    "text": "Hey, that Beer you recommended is pretty fab, thx!"
    "sent_timestamp":476560
}
</samp></code></pre>
<p class="p">The next example is a user profile document. Notice in this case, we have two
versions of a user profile; in order to extend the number of attributes for a
user, you would just add additional string-values to represent the new fields:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">{
    "user_id": 512,
    "name": "Bob Likington",
    "email": "bob.like@gmail.com",
    "sign_up_timestamp": 1224612317,
    "last_login_timestamp": 1245613101
}

{
    "user_id": 768,
    "name": "Simon Neal",
    "email": "sneal@gmail.com",
    "sign_up_timestamp": 1225554317,
    "last_login_timestamp": 1234166701,
    "country": "Scotland",
    "pro_account": true,
    "friends": [512, 666, 742, 1111]
}
</samp></code></pre>
<p class="p">In this case we add country, account type, and friends as additional fields to our user profile.
			To extend our application with new user attributes, we simply start storing additional
			fields at the document level. Unlike traditional relational databases, there is no need for
			us to have server downtime, or database migration to a new schema.</p>
<p class="p">To add new data fields, we simply start writing the additional JSON values for
that particular transaction. You would also update your application to provide a
default value for documents that do not yet have these fields.</p>
<p class="p">This last example provides a sample JSON document to store information about a
photo:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">{
    "photo_id": "ccbcdeadbeefacee",
    "size": {
        "w": 500,
        "h": 320,
        "unit": "px"
        },
    "exposure: "1/1082",
    "aperture": "f/2.4",
    "flash": false,
    "camera": {
            "name": "iPhone 4S",
            "manufacturer": "Apple",
            }
    "user_id": 512,
    "timestamp": [2011, 12, 13, 16, 31, 07]
}
</samp></code></pre>
<p class="p">As we did in the brewery document earlier in this chapter, we nest a set of
attributes for the photo size and camera by using JSON syntax.</p>
</div>
<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/modeling-docs.html">Modeling documents</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/lookups.html">Using reference documents for lookups</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">Â© 2011â€“2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>