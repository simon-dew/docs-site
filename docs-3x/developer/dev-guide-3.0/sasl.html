<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Providing SASL authentication — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/first-app.html"><span>Creating your first application</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/modeling-docs.html"><span>Modeling documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/access-data.html"><span>Accessing data with Couchbase SDKs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/store-data.html"><span>Storing data</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/find-data.html"><span>Finding data with views</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/advanced-topics.html"><span>Advanced topics in development</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/client-library.html"><span>Developing a client library</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dev-guide-3.0/sasl.html" class="current"><span>Providing SASL authentication</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../developer/dev-guide-3.0/topology.html"><span>Getting cluster topology</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/observe-functions.html"><span>Providing observe functions</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/replica-read-functions.html"><span>Replica read</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/protocol-extensions.html"><span>Couchbase protocol extensions</span></a></li></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Providing SASL authentication</h1>

	<div class="body conbody">
		<p class="p">This section is relevant for developers who are creating their own client library that
			communicates with the Couchbase Server. Developers creating a library for language or
			framework that is not yet supported by Couchbase would be interested in this content.</p>

		<p class="p">In order to connect to a given bucket you need to run a SASL authentication with the
				<samp class="ph codeph">Couchbase</samp> server. The SASL authentication for
				<samp class="ph codeph">Couchbase</samp> is specified in <a class="xref" href="http://code.google.com/p/memcached/wiki/SASLAuthProtocol" target="_blank">SASLAuthProtocol</a>.</p>

		<p class="p">As of Couchbase Server 2.2, we provide challenge-response authentication mechanism known as
			CRAM-MD5 support for SASL authentication. This enables multiple data buckets to be accessed
			from the same process. Couchbase clients can determine which buckets they connect to using
			PLAIN SASL authentication and specifying the bucket name and bucket password, however you
			could not encrypt the bucket name, username or bucket password. As of Couchbase Server 2.2.
			we include CRAM-MD5 support to encrypt username and password before sending a request over
			the wire. For known limitation of this SASL mechanism, see <a class="xref" href="http://tools.ietf.org/html/draft-ietf-sasl-crammd5-10" target="_blank">IETF Tools, CRAM-MD5 SASL Mechanism</a>.</p>

		<p class="p">If you want your SDK to connect to versions of Couchbase Server prior to 2.2, you will
			still need to support plain SASL authentication.</p>

		<p class="p"><a class="xref" href="http://github.com/membase/vbucketmigrator" target="_blank">vbucketmigrator</a> implements SASL Authentication by using libsasl in C if you want
			some example code.</p>

		<p class="p"></p>

		<section class="section"><h2 class="title sectiontitle">List mechanisms</h2><p class="p">To start SASL authentication you first ask Couchbase
				Server for the authentication mechanisms it supports. You can do so with the following
				binary
				request:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|       80      |    B2 ('+')   |       00      |       05      |
  +---------------+---------------+---------------+---------------+
 4|       08      |       00      |       00      |       03      |
  +---------------+---------------+---------------+---------------+
 8|       00      |       00      |       00      |       14      |
  +---------------+---------------+---------------+---------------+
12|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
16|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
20|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
24|       00      |       00      |       00      |       07      |
  +---------------+---------------+---------------+---------------+

Header breakdown
SASL List Mechanisms command
Field        (offset) (value)
Magic        (0)    : 0x80                (Request)
Opcode       (1)    : 0x20                (SASL List Mechanisms)
Key length   (2,3)  : 0x0000              (field not used)
Extra length (4)    : 0x00                (field not used)
Data type    (5)    : 0x00                (field not used)
VBucket      (6,7)  : 0x0000              (field not used)
Total body   (8-11) : 0x00000000          (field not used)
Opaque       (12-15): 0x00000000
CAS          (16-23): 0x0000000000000000  (field not used)
</samp></code></pre>
<p class="p">If
				the server supports SASL PLAIN and CRAM-MD5 authentication you get this response, where
					<samp class="ph codeph">Mechanisms</samp> specifically lists ‘PLAIN
				CRAM-MD5.’</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|       81      |    20 (' ')   |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 4|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 8|       00      |       00      |       00      |       0D      |
  +---------------+---------------+---------------+---------------+
12|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
16|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
20|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
24|       50      |       4C      |       41      |       49      |
  +---------------+---------------+---------------+---------------+
28|       4E      |       20      |       43      |       52      |
  +---------------+---------------+---------------+---------------+
32|       41      |       4D      |       2D      |       4D      |
  +---------------+---------------+---------------+---------------+
36|       44      |       35      |
  +---------------+---------------+

Header breakdown
SASL List Mechanisms command
Field        (offset) (value)
Magic        (0)    : 0x81                (Response)
Opcode       (1)    : 0x20                (SASL List Mechanisms)
Key length   (2,3)  : 0x0000              (field not used)
Extra length (4)    : 0x00                (field not used)
Data type    (5)    : 0x00                (field not used)
VBucket      (6,7)  : 0x0000              (field not used)
Total body   (8-11) : 0x0000000D          (14)
Opaque       (12-15): 0x00000000
CAS          (16-23): 0x0000000000000000  (field not used)
Mechanisms   (24-37): "PLAIN CRAM-MD5"
</samp></code></pre>
<p class="p">If
				your version of Couchbase Server only supports PLAIN, you will get this
				response:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/ 0 | 1 | 2 | 3 |
/ | | | |
|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
+---------------+---------------+---------------+---------------+
0| 81 | 20 | 00 | 00 |
+---------------+---------------+---------------+---------------+
4| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
8| 00 | 00 | 00 | 05 |
+---------------+---------------+---------------+---------------+
12| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
16| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
20| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
24| 50 ('P') | 4c ('L') | 41 ('A') | 49 ('I') |
+---------------+---------------+---------------+---------------+
28| 4e ('N') |

Header breakdown
Field (offset) (value)
Magic (0): 0x81 (PROTOCOL_BINARY_RES)
Opcode (1): 0x20 (sasl list mechs)
Key length (2-3): 0x0000 (0)
Extra length (4): 0x00
Data type (5): 0x00
Status (6-7): 0x0000 (SUCCESS)
Total body (8-11): 0x00000005 (5)
Opaque (12-15): 0x00000000 (0)
CAS (16-23): 0x0000000000000000 (0)
Mechanisms (24-28): PLAIN
</samp></code></pre>
<p class="p">Please
				note that the server may support a different set of mechanisms. The list of mechanisms
				is a space-separated list of SASL mechanism names (e.g. “PLAIN CRAM-MD5
				GSSAPI”).</p>
<p class="p"></p>
</section>

		<section class="section"><h2 class="title sectiontitle">Making request via PLAIN</h2><p class="p">After choosing the desired mechanism from
				the ones that the Couchbase Server supports, you need to create an authentication
				request packet and send it to the server. The following packet shows a packet using
				PLAIN authentication of “foo” with the password
				“bar”:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/ 0 | 1 | 2 | 3 |
/ | | | |
|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
+---------------+---------------+---------------+---------------+
0| 80 | 21 ('!') | 00 | 05 |
+---------------+---------------+---------------+---------------+
4| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
8| 00 | 00 | 00 | 10 |
+---------------+---------------+---------------+---------------+
12| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
16| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
20| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
24| 50 ('P') | 4c ('L') | 41 ('A') | 49 ('I') |
+---------------+---------------+---------------+---------------+
28| 4e ('N') | 66 ('f') | 6f ('o') | 6f ('o') |
+---------------+---------------+---------------+---------------+
32| 00 | 66 ('f') | 6f ('o') | 6f ('o') |
+---------------+---------------+---------------+---------------+
36| 00 | 62 ('b') | 61 ('a') | 72 ('r') |

Header breakdown
Field (offset) (value)
Magic (0): 0x80 (PROTOCOL_BINARY_REQ)
Opcode (1): 0x21 (sasl auth)
Key length (2-3): 0x0005 (5)
Extra length (4): 0x00
Data type (5): 0x00
vBucket (6-7): 0x0000 (0)
Total body (8-11): 0x00000010 (16)
Opaque (12-15): 0x00000000 (0)
CAS (16-23): 0x0000000000000000 (0)
Mechanisms (24-28): PLAIN
Auth token (29-39): foo0x00foo0x00bar
</samp></code></pre>
<p class="p">When
				the server accepts this username/password combination, it returns one of two status
				codes: Success or “Authentication Continuation”. Success means that you are done with
				authentication:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/ 0 | 1 | 2 | 3 |
/ | | | |
|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
+---------------+---------------+---------------+---------------+
0| 81 | 21 ('!') | 00 | 00 |
+---------------+---------------+---------------+---------------+
4| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
8| 00 | 00 | 00 | 0d |
+---------------+---------------+---------------+---------------+
12| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
16| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
20| 00 | 00 | 00 | 00 |
+---------------+---------------+---------------+---------------+
24| 41 ('A') | 75 ('u') | 74 ('t') | 68 ('h') |
+---------------+---------------+---------------+---------------+
28| 65 ('e') | 6e ('n') | 74 ('t') | 69 ('i') |
+---------------+---------------+---------------+---------------+
32| 63 ('c') | 61 ('a') | 74 ('t') | 65 ('e') |
+---------------+---------------+---------------+---------------+
36| 64 ('d') |

Header breakdown
Field (offset) (value)
Magic (0): 0x81 (PROTOCOL_BINARY_RES)
Opcode (1): 0x21 (sasl auth)
Key length (2-3): 0x0000 (0)
Extra length (4): 0x00
Data type (5): 0x00
Status (6-7): 0x0000 (SUCCESS)
Total body (8-11): 0x0000000d (13)
Opaque (12-15): 0x00000000 (0)
CAS (16-23): 0x0000000000000000 (0)
Info (24-36): Authenticated
</samp></code></pre>
<p class="p"></p>
</section>

		<section class="section"><h2 class="title sectiontitle">Making requests via CRAM-MD5</h2><p class="p">After you determine your Couchbase
				Server version supports CRAM-MD5, you can create an authentication request packet and
				send it to the
				server:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|       81      |    21 (' ')   |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 4|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 8|       00      |       00      |       00      |       08      |
  +---------------+---------------+---------------+---------------+
12|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
16|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
20|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
24|       43      |       52      |       41      |       4D      |
  +---------------+---------------+---------------+---------------+
28|       2D      |       4D      |       44      |       35      |
  +---------------+---------------+---------------+---------------+

Header breakdown
SASL List Mechanisms command
Field        (offset) (value)
Magic        (0)    : 0x81                (Response)
Opcode       (1)    : 0x21                (SASL Authenticate)
Key length   (2,3)  : 0x0000              (field not used)
Extra length (4)    : 0x00                (field not used)
Data type    (5)    : 0x00                (field not used)
VBucket      (6,7)  : 0x0000              (field not used)
Total body   (8-11) : 0x00000008          (8)
Opaque       (12-15): 0x00000000
CAS          (16-23): 0x0000000000000000  (field not used)
Mechanisms   (24-31): "CRAM-MD5"
</samp></code></pre>
<p class="p">The
				server then sends a challenge-response to a client. The challenge-response will be a
				random string that the client should use when hashing the password with MD5. The string
				is unique for each connection attempt to the server. This will prevent access to
				Couchbase Server’s memcached port by a replay attack. A challenge-response will appear
				as
				follows:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|       81      |    21 (' ')   |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 4|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 8|       00      |       00      |       00      |       12      |
  +---------------+---------------+---------------+---------------+
12|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
16|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
20|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
24|       68      |       73      |       61      |       30      |
  +---------------+---------------+---------------+---------------+
28|       62      |       66      |       32      |       38      |
  +---------------+---------------+---------------+---------------+
32|       39      |       32      |       62      |       66      |
  +---------------+---------------+---------------+---------------+
36|       77      |       66      |       6B      |       6B      |
  +---------------+---------------+---------------+---------------+

Header breakdown
SASL List Mechanisms command
Field        (offset) (value)
Magic        (0)    : 0x81                (Response)
Opcode       (1)    : 0x21                (SASL Authenticate)
Key length   (2,3)  : 0x0000              (field not used)
Extra length (4)    : 0x00                (field not used)
Data type    (5)    : 0x00                (field not used)
VBucket      (6,7)  : 0x0000              (field not used)
Total body   (8-11) : 0x00000012          (18)
Opaque       (12-15): 0x00000000
CAS          (16-23): 0x0000000000000000  (field not used)
Mechanisms   (24-39): "hsa0bf2892bfwfkk"
</samp></code></pre>
<p class="p">A
				client should then use the random string when it hashes a password with CRAM-MD5. The
				response should include the hashed
				password:</p>
<pre class="pre codeblock"><code><samp class="ph codeph">Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|       81      |    20 (' ')   |       00      |       08      |
  +---------------+---------------+---------------+---------------+
 4|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
 8|       00      |       00      |       00      |       24      |
  +---------------+---------------+---------------+---------------+
12|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
16|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
20|       00      |       00      |       00      |       00      |
  +---------------+---------------+---------------+---------------+
24|       75      |       73      |       65      |       72      |
  +---------------+---------------+---------------+---------------+
28|       6E      |       61      |       6D      |       65      |
  +---------------+---------------+---------------+---------------+
32|       66      |       33      |       32      |       37      |
  +---------------+---------------+---------------+---------------+
36|       68      |       66      |       67      |       6A      |
  +---------------+---------------+---------------+---------------+
40|       69      |       62      |       66      |       33      |
  +---------------+---------------+---------------+---------------+
44|       39      |       34      |       38      |       66      |
  +---------------+---------------+---------------+---------------+

Header breakdown
SASL List Mechanisms command
Field        (offset) (value)
Magic        (0)    : 0x81                (Response)
Opcode       (1)    : 0x22                (SASL Step)
Key length   (2,3)  : 0x0008              (8)
Extra length (4)    : 0x00                (field not used)
Data type    (5)    : 0x00                (field not used)
VBucket      (6,7)  : 0x0000              (field not used)
Total body   (8-11) : 0x00000018          (24)
Opaque       (12-15): 0x00000000
CAS          (16-23): 0x0000000000000000  (field not used)
Username     (24-31): "username"
Password     (32-47): "f327hfqjibf3948f"
</samp></code></pre>
<p class="p">When
				the server accepts this username/password combination, it returns one of two status
				codes: Success or “Authentication Continuation”. Success means that you have completed
				authentication.</p>
<p class="p">The possible return codes and errors sent during CRAM-MD5
				authentication include:</p>
<ul class="ul">
				<li class="li"><p class="p"><strong class="ph b">SASL_OK (0)</strong> - The server sends this message at the end of the
						authentication handshake to indicate that SASL authentication has completed
						successfully</p>
</li>

				<li class="li"><p class="p"><strong class="ph b">SASL_CONTINUE (1)</strong> - Indicates that the last message sent during
						authentication was successfully received, but authentication is not yet complete
						and the server is expecting more information from a client.</p>
</li>

			</ul>
<p class="p">For example, the server returns this code during CRAM-MD5 SASL authentication along
				with the challenge string.</p>
<ul class="ul">
				<li class="li"><p class="p"><strong class="ph b">SASL_FAIL (2)</strong> - May occur at any time during the SASL authentication and
						indicates that authentication has failed.</p>
</li>

				<li class="li"><p class="p"><strong class="ph b">SASL_BADPARAM (3)</strong> - SASL authentication has failed because a bad or
						illegal authentication parameter was received.</p>
</li>

			</ul>
</section>

	</div>

	
<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/client-library.html">Developing a client library</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/topology.html">Getting cluster topology</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>