<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Comparing document-oriented and relational data â€” Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/first-app.html"><span>Creating your first application</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/modeling-docs.html"><span>Modeling documents</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dev-guide-3.0/compare-docs-vs-relational.html" class="current"><span>Comparing document-oriented and relational data</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../developer/dev-guide-3.0/using-json-docs.html"><span>Using JSON documents</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/schemaless.html"><span>Schemaless data modeling</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/doc-design-considerations.html"><span>Document design considerations</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/model-docs-retrieval.html"><span>Modeling documents for retrieval</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/lookups.html"><span>Using reference documents for lookups</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/sample-docs.html"><span>Sample storage documents</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/access-data.html"><span>Accessing data with Couchbase SDKs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/store-data.html"><span>Storing data</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/find-data.html"><span>Finding data with views</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/advanced-topics.html"><span>Advanced topics in development</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/client-library.html"><span>Developing a client library</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Comparing document-oriented and relational data</h1>

	<div class="body conbody">

		<div class="note note"><span class="notetitle">Note:</span> Want to learn more about moving from relational to document-oriented
			databases? See <a class="xref" href="http://info.couchbase.com/Relational-to-NoSQL.html" target="_blank">Relational to NoSQL</a>.</div>


		<p class="p">In a relational database system you must define a <em class="ph i">schema</em> before adding records to a
			database. The schema is the structure described in a formal language supported by the
			database and provides a blueprint for the tables in a database and the relationships
			between tables of data. Within a table, you need to define constraints in terms of rows and
			named columns as well as the type of data that can be stored in each column.</p>

		<p class="p">In contrast, a document-oriented database contains <em class="ph i">documents</em>, which are records that
			describe the data in the document, as well as the actual data. Documents can be as complex
			as you choose; you can use nested data to provide additional sub-categories of information
			about your object. You can also use one or more document to represent a real-world object.
			The following compares a conventional table with document-based objects:</p>

		
				<img class="image" src="images/relational_vs_doc1.png" width="650">
					
		<p class="p">In this example we have a table that represents beers and their respective attributes: id,
			beer name, brewer, bottles available and so forth. As we see in this illustration, the
			relational model conforms to a schema with a specified number of fields which represent a
			specific purpose and data type. The equivalent document-based model has an individual
			document per beer; each document contains the same types of information for a specific
			beer.</p>

		<p class="p">In a document-oriented model, data objects are stored as documents; each document stores
			your data and enables you to update the data or delete it. Instead of columns with names
			and data types, we describe the data in the document, and provide the value for that
			description. If we wanted to add attributes to a beer in a relational model, we would need
			to modify the database schema to include the additional columns and their data types. In
			the case of document-based data, we would add additional key-value pairs into our documents
			to represent the new fields.</p>

		<p class="p">The other characteristic of relational database is <em class="ph i">data normalization</em> ; this means
			you decompose data into smaller, related tables. The figure below illustrates this:</p>

		
				<img class="image" src="images/normalizing_data.png" width="650">
					
		<p class="p">In the relational model, data is shared across multiple tables. The advantage to this model
			is that there is less duplicated data in the database. If we did not separate beers and
			brewers into different tables and had one beer table instead, we would have repeated
			information about breweries for each beer produced by that brewer.</p>

		<p class="p">The problem with this approach is that when you change information across tables, you need
			to lock those tables simultaneously to ensure information changes across the table
			consistently. Because you also spread information across a rigid structure, it makes it
			more difficult to change the structure during production, and it is also difficult to
			distribute the data across multiple servers.</p>

		<p class="p">In the document-oriented database, we could choose to have two different document
			structures: one for beers, and one for breweries. Instead of splitting your application
			objects into tables and rows, you would turn them into documents. By providing a reference
			in the beer document to a brewery document, you create a relationship between the two
			entities:</p>

		
				<img class="image" src="images/relating_docs.png" width="650">
					
		<p class="p">In this example we have two different beers from the Amstel brewery. We represent each beer
			as a separate document and reference the brewery in the <samp class="ph codeph">brewer</samp> field. The
			document-oriented approach provides several upsides compared to the traditional RDBMS
			model. First, because information is stored in documents, updating a schema is a matter of
			updating the documents for that type of object. This can be done with no system downtime.
			Secondly, we can distribute the information across multiple servers with greater ease.
			Since records are contained within entire documents, it makes it easier to move, or
			replicate an entire object to another server.</p>

	</div>

	
<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/modeling-docs.html">Modeling documents</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/using-json-docs.html">Using JSON documents</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">Â© 2011â€“2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>