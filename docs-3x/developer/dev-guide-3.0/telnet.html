<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Performing basic Telnet operations — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a><ul class="sub-sections"><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/first-app.html"><span>Creating your first application</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/dev-guide-3.0/dev-env.html"><span>Setting up the development environment</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/connect.html"><span>Connecting to Couchbase Server</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/connect-get-set.html"><span>Performing connect, set and get</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/first-query.html"><span>Performing a first query</span></a></li><li class="section"><a href="../../developer/dev-guide-3.0/telnet.html" class="current"><span>Performing basic Telnet operations</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/modeling-docs.html"><span>Modeling documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/access-data.html"><span>Accessing data with Couchbase SDKs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/store-data.html"><span>Storing data</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/find-data.html"><span>Finding data with views</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/advanced-topics.html"><span>Advanced topics in development</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/client-library.html"><span>Developing a client library</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Performing basic Telnet operations</h1>

	<div class="body conbody">
		<p class="p">When you first begin developing with Couchbase SDKs it is useful to know you can also
			create a telnet connection to the Couchbase Server. Once you create the connection, you can
			also experiment with simple gets and sets, to check to see if your SDK-level operations are
			actually working. When you telnet to Couchbase Server, you can perform retrieves and writes
			for a specific key.</p>

		<p class="p">To connect Couchbase Server via telnet, provide the host and port where it is located. The
			default bucket created on the Couchbase Server is on port 11211 for purposes of telnet.
			This does not require any authentication:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">telnet localhost 11211
</samp></code></pre>

		<p class="p">Note that when we telnet to port 11211 this is connecting to the default bucket at
			Couchbase Server. There are some cases that you may need to telnet to another port for
			instance if you are using moxi, or if you want to connect to a different bucket. After you
			successfully connect, you can enter commands at the telnet prompt. In the example that
			follows we set a key/value pair via the telnet session.</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">set name1 0 0 5
     karen
</samp></code></pre>

		<p class="p">In this example we provide they key as ‘name1’, the flags as 0, TTL as 0, and the length of
			value to be set as 5 characters, respectively. After we return the set command via telnet,
			we can enter the actual value, which is ‘karen’ in this case. After Couchbase Server
			successfully stores the key/value, it will return STORED via telnet. The next examples
			demonstrate use of get and delete via telnet:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">get name2
     VALUE name2 0 3
     ari
     END
</samp></code></pre>

		<p class="p">Couchbase Server will return the value followed by an END statement. Notice that TTL is not
			returned in this case. When you delete a value, Couchbase Server will respond via telnet
			with DELETED if it successfully removes the item, and if is unsuccessful it will return
			NOT_FOUND:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">delete name3
    DELETED
    delete name3
    NOT_FOUND
</samp></code></pre>

		<p class="p">For this next example we demonstrate adding a record via telnet. This shows the general
			distinction between adding and setting a record. If a given key already exists, setting a
			record will overwrite it; if you try to add the record, Couchbase Server will return an
			error and preserve the existing record:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">add name1 0 0 4
      erin
      STORED
      add name1 0 0 2
      ed
      NOT_STORED
</samp></code></pre>

		<p class="p">In this case we first add a new key/value of name1/erin via telnet and received the message
			STORED from Couchbase Server. When we attempt to add the same key with a new value,
			Couchbase Server returns NOT_STORED via telnet. This helps provide some form of consistency
			and atomicity for the record when you use <samp class="ph codeph">add</samp> and it fails for an existing
			key. In order to change the value of an existing key, we need to use the
				<samp class="ph codeph">replace</samp> method.</p>

		<p class="p">To update a value via telnet, you use the <samp class="ph codeph">replace</samp> command with the
			original key:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">set sue 0 0 2
    ok
    STORED
    replace sue 0 0 3
    new
    STORED
    get sue
    VALUE sue 0 3
    new
    END
</samp></code></pre>

		<p class="p">In the first three lines of the session, we set the new key ‘sue’ with 0 as flags, 0 as
			TTL, a value ‘ok’ of length 2. Couchbase sets the new record successfully and returns
			STORED. Then we replace the key sue with a new value of length 3, ‘new’. After the new
			value is successfully stored, we get it and the record Couchbase retrieves reflects this
			change. Notice when you replace a key, you can also update the flags and TTL should you
			choose to do so.</p>

		<p class="p">This next example demonstrates a compare and swap command at the telnet prompt. For check and
			set use the <samp class="ph codeph">cas</samp> command and provide any new flags, expiration, new length,
			and cas value. We can retrieve the cas value for a key using the <samp class="ph codeph">gets</samp>
			command:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">set record1 0 0 4
      sara
      STORED
      gets record1
      VALUE record1 0 4 10
      sara
      END
      cas record1 0 0 7 10
      maybell
      STORED
</samp></code></pre>

		<p class="p">In this example we set record1 to have 0 flags, 0 expiration, and a length of 4 characters.
			We set the value to the name ‘sara’. When Couchbase Server successfully stores the record
			it automatically creates a cas value, which we retrieve with gets. The last number returned
			by gets in the telnet session is the cas value. In this next step, we perform a check and
			set with the record1 key with no flags, no expiration, seven characters and the value
			‘maybell.’</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">cas record1 0 0 7 10
      maybell
      STORED
</samp></code></pre>

		<p class="p">When the cas command succeeds, Couchbase server updates the cas value for record1. If you
			attempt to compare and swap the record with the wrong cas value, Couchbase Server will return
			the error ‘EXISTS’ to the telnet session:</p>

		<pre class="pre codeblock"><code><samp class="ph codeph">cas record1 0 0 3 10
      sue
      EXISTS
</samp></code></pre>

		<p class="p">For more information about using telnet with the Couchbase Server, especially for server
			statistics and performance, see <a class="xref" href="http://docs.couchbase.com/admin/admin/Install/testing.html" target="_blank">Testing Couchbase Server</a>.</p>

	</div>

	
<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/first-app.html">Creating your first application</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../developer/dev-guide-3.0/first-query.html">Performing a first query</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>