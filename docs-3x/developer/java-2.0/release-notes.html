<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Release notes â€” Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../developer/java-2.1/java-intro.html"><span>Java SDK 2.1</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/java-2.0/java-intro.html"><span>Java SDK 2.0</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/java-2.0/overview.html"><span>Overview</span></a></li><li class="section"><a href="../../developer/java-2.0/download-links.html"><span>Download and API Reference</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.0/getting-started.html"><span>Getting started</span></a></li><li class="section"><a href="../../developer/java-2.0/managing-connections.html"><span>Managing connections</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.0/documents.html"><span>Working with documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.0/querying.html"><span>Querying buckets</span></a></li><li class="section"><a href="../../developer/java-2.0/observables.html"><span>Mastering observables</span></a></li><li class="section"><a href="../../developer/java-2.0/logging.html"><span>Setting up logging</span></a></li><li class="section"><a href="../../developer/java-2.0/release-notes.html" class="current"><span>Release notes</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.1/dotnet-intro.html"><span>.NET SDK 2.1</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.0/dotnet-intro.html"><span>.NET SDK 2.0</span></a></li></ul></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Release notes</h1>

	<p class="shortdesc">Release notes for the 2.0 version of the Java SDK.</p>


	<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/java-2.0/java-intro.html">Java SDK 2.0</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../developer/java-2.0/logging.html">Setting up logging</a></div>
</div>
</nav><article class="topic concept nested1" aria-labelledby="ariaid-title2" id="ga203">
		<h2 class="title topictitle2" id="ariaid-title2">Couchbase Java Client 2.0.3 GA (7 January 2015)</h2>

		

		<div class="body conbody"><p class="shortdesc">Version 2.0.3 GA is the third bug fix release of the 2.0 series. It provides important
			bug fixes and stability improvements, especially during rebalance and failover
			scenarios.</p>

			<section class="section" id="ga203__ga203-enhance"><h3 class="title sectiontitle">New features and behavioral changes</h3>
				

				<p class="p">This release contains the following enhancements:</p>


				<ul class="ul">
					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-103" target="_blank">JVMCBC-103</a>: RxJava has been upgraded to 1.0.4 which
						provides bug fixes and performance improvements. The update is fully backward
						compatible.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-110" target="_blank">JVMCBC-110</a>: The internally used Netty library for IO
						has been upgraded to 4.0.25 to provide better HTTP performance and bug fixes with
						SSL. It also explicitly removes <samp class="ph codeph">SSSLv3</samp> to prevent the POODLE
						attack. Note that even before, the Couchbase Java SDK was negotiating with TLS
						only.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-115" target="_blank">JVMCBC-115</a>: A minimum reconnect delay of 128
						milliseconds has been added when a connection is lost. This delay prevents the
						remote node from being overwhelmed with reconnect requests. In future versions,
						the delay will be configurable through the environment completely.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-651" target="_blank">JCBC-651</a>: It is now possible to write maps and lists into <samp class="ph codeph">JsonObject</samp> and <samp class="ph codeph">JsonArray</samp> respectively. Appropriate <samp class="ph codeph">put(Map)</samp> and <samp class="ph codeph">add(List)</samp> methods have been added. All values passed in are checked for the allowed types.</li>

				</ul>

			</section>


			<section class="section" id="ga203__ga203-fixes"><h3 class="title sectiontitle">Fixes</h3>
				

				<p class="p">This release contains the following bug fixes:</p>


				<ul class="ul">
					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-100" target="_blank">JVMCBC-100</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-101" target="_blank">JVMCBC-101</a>: Bootstrapping has been made more resilient
						when one more nodes as part of the bootstrap list are not available. This includes
						a bug fix where the node was not properly ignored when it was available (listening
						on ports), but acting as an uninitialized node for a cluster. </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-75" target="_blank">JVMCBC-75</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-82" target="_blank">JVMCBC-82</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-98" target="_blank">JVMCBC-98</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-99" target="_blank">JVMCBC-99</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-111" target="_blank">JVMCBC-111</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-116" target="_blank">JVMCBC-116</a>: Bugs in the area of configuration
						management and rebalance resiliency have been fixed, which lead to better
						performance and greater stability during rebalance and failover scenarios with
						various workloads. This also includes compatibility fixes with older clusters that
						do not support the carrier configuration protocol and still rely on HTTP-based
						configuration (Couchbase Server 2.2 and earlier). </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-106" target="_blank">JVMCBC-106</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-107" target="_blank">JVMCBC-107</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-113" target="_blank">JVMCBC-113</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-114" target="_blank">JVMCBC-114</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-657" target="_blank">JCBC-657</a>: In various places, reference counting of
						pooled byte buffers has been improved or fixed to avoid leaking out of the buffer
						pool for shared buffers. </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-661" target="_blank">JCBC-661</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-671" target="_blank">JCBC-671</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-672" target="_blank">JCBC-672</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-673" target="_blank">JCBC-673</a>, <a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-675" target="_blank">JCBC-675</a>: Transparently retrying views under various
						conditions has been fixed and improved. The code is now more resilient during
						rebalance and will also retry view requests from failed over nodes because they
						are idempotent and can be safely retried. In addition, bugs have been fixed that
						prevent proper retry under rebalance conditions. </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-668" target="_blank">JCBC-668</a>: Because a <samp class="ph codeph">Document</samp> always
						needs to have a non-null ID, the <samp class="ph codeph">empty()</samp> factory methods have
						been removed (since they would trigger an <samp class="ph codeph">Exception</samp> immediately
						during instantiation). </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-653" target="_blank">JCBC-653</a>: The <samp class="ph codeph">development(boolean)</samp>
						method on the <samp class="ph codeph">ViewQuery</samp> DSL was not respecting the flag passed
						in. This has been corrected. </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-663" target="_blank">JCBC-663</a>: The <samp class="ph codeph">toString()</samp> methods on both the <samp class="ph codeph">JsonArray</samp> and <samp class="ph codeph">JsonValue</samp> now properly escape characters and always produce valid JSON (that is in return parsable by libraries like Jackson).
					</li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-97" target="_blank">JVMCBC-97</a>: There has been an issue where the view
						service always was trying to be enabled, even on <samp class="ph codeph">memcached</samp> type
						buckets and during some rebalance scenarios. With this change, it is only
						conditionally enabled when actually available. </li>

					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-97" target="_blank">JVMCBC-97</a>: If a very large view response chunk is
						arriving, the code now properly checks the bounds and has no issues looking ahead
						in the stream. This fixes a reported issue when <samp class="ph codeph">debug</samp> is enabled
						during a view request that the response could not be parsed properly. </li>

				</ul>

			</section>

		</div>

	</article>



	<article class="topic concept nested1" aria-labelledby="ariaid-title3" id="ga202">
		<h2 class="title topictitle2" id="ariaid-title3">Couchbase Java Client 2.0.2 GA (4 December 2014)</h2>

		

		<div class="body conbody"><p class="shortdesc">Version 2.0.2 GA is the second bug fix release of the 2.0 series. It provides a number
			of small enhancements and some important bug fixes that improve the overall stability of
			the SDK.</p>

			<section class="section" id="ga202__ga202-enhance"><h3 class="title sectiontitle">New features and behavioral changes</h3>
				

				<p class="p">This release contains the following enhancements:</p>


				<ul class="ul">
					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-78" target="_blank">JVMCBC-78</a>: RxJava has been upgraded from a release
						candidate to 1.0.2 GA. This upgrade includes several bug fixes and improvements
						that can be found in the <a class="xref" href="https://github.com/ReactiveX/RxJava/releases/tag/v1.0.2" target="_blank">RxJava changelog</a>.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-614" target="_blank">JCBC-614</a>: Added factory methods to construct a
							<samp class="ph codeph">JsonArray</samp> from a <samp class="ph codeph">List</samp> and a
							<samp class="ph codeph">JsonObject</samp> from a <samp class="ph codeph">Map</samp>.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-640" target="_blank">JCBC-640</a>: <samp class="ph codeph">null</samp> handling for <samp class="ph codeph">JsonObject</samp> and <samp class="ph codeph">JsonArray</samp> has been improved and is now also covered in testing.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-644" target="_blank">JCBC-644</a>: For all blocking methods that return a scalar
						value, the actual blocking code has been optimized. It now does not have the
						overhead of a <samp class="ph codeph">timeout()</samp> operator as well as
							<samp class="ph codeph">BlockingObservable</samp>. This should noticeably improve garbage
						collection behavior on smaller or high traffic heaps.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-638" target="_blank">JCBC-638</a>: Methods in the <samp class="ph codeph">JsonDocument</samp>
						class and similar classes now properly check that the <samp class="ph codeph">id</samp> is not
						null or empty and throws an <samp class="ph codeph">IllegalArgumentException</samp> if it is. In
						addition, the same check is applied so that negative expiration times are not
						allowed.</li>

				</ul>

			</section>


			<section class="section" id="ga202__ga202-fixes"><h3 class="title sectiontitle">Fixes</h3>
				

				<p class="p">This release contains the following bug fixes:</p>


				<ul class="ul">
					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-624" target="_blank">JCBC-624</a>: Reading and writing small
							<samp class="ph codeph">long</samp> values resulted in exceptions when reading them back
						(through <samp class="ph codeph">JsonObject</samp> and <samp class="ph codeph">JsonArray</samp>).</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-559" target="_blank">JCBC-559</a>: Depending on the Server version used, during
						rebalance and failure scenarios, view responses return different HTTP error codes
						that indicate transient failures that can be retried. This change aligns the 2.0
						SDK with the behavior already in place for the 1.4 SDK.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-583" target="_blank">JCBC-583</a>: Fixes a Netty I/O memory pool leak that was
						reported during the view JSON decode process.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-79" target="_blank">JVMCBC-79</a>: On a multinode cluster, opening more than
						one bucket now works more reliably than before. Previously there was a possibility
						that the wrong node was picked to fetch the initial bucket configuration, leading
						to a never completed Observable on <samp class="ph codeph">openBucket()</samp>.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-68" target="_blank">JVMCBC-68</a>: A race condition has been fixed during rebalance that when a new node has been added to the configuration, the locator for key-value requests still used an outdated one. This led to exceptions in the core library which in turn rendered it unusable.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-77" target="_blank">JVMCBC-77</a>: Fixes a Netty I/O reference count issue
						during key-value write operations. No exceptions show up in the logs, because they
						are swallowed by Netty. Proper listeners have also been added to the SDK to report
						such errors from the future on very prominently in the logs.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-65" target="_blank">JVMCBC-65</a>: View and N1QL queries were only distributed
						to one node in the cluster, leading to suboptimal performance. This fix makes sure
						that the queries are evenly distributed throughout all connected nodes in the
						cluster.</li>

				</ul>

			</section>

		</div>

	</article>

	
	<article class="topic concept nested1" aria-labelledby="ariaid-title4" id="ga201">
		<h2 class="title topictitle2" id="ariaid-title4">Couchbase Java Client 2.0.1 GA (4 November 2014)</h2>

		
		<div class="body conbody"><p class="shortdesc">Version 2.0.1 GA is the first bug fix release of the 2.0 series. It provides a number
			of bug fixes and small enhancements. We encourage all users on 2.0.0 GA (and earlier) to
			upgrade.</p>


			<section class="section" id="ga201__ga201-enhance"><h3 class="title sectiontitle">New features and behavioral changes</h3>
				

				<p class="p">This release contains the following enhancements:</p>

				<ul class="ul">
					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-575" target="_blank">JCBC-575</a>: Added support for a
							<samp class="ph codeph">RawJsonDocument</samp>. <p class="p">This document type has been added so that
							custom JSON libraries (like Jackson) can be used to directly insert a JSON
							value. It is supposed to be used like this, and can be used in combination with
							the other JSON documents:</p>

						<pre class="pre codeblock language-java"><code>// Create the RawJsonDocument with a JSON string
bucket.upsert(RawJsonDocument.create("id", "{\"hello\": true}"));

// Load the document raw again
// Prints RawJsonDocument{id='id', cas=123102208173, expiry=0, content={"hello": true}}
System.out.println(bucket.get("id", RawJsonDocument.class));

// Load the document through a JsonDocument and benefit from parsing
// Prints true
System.out.println(bucket.get("id").content().getBoolean("hello"));</code></pre>

					</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-602" target="_blank">JCBC-602</a>: CAS mismatches are handled and exposed when
						set on the <samp class="ph codeph">remove()</samp> calls. <p class="p">When a <samp class="ph codeph">remove()</samp>
							operation is executed and the CAS value is set, proper checks are now
							performed. Here is an example that manually modifies the CAS to simulate trying
							to remove an already changed one with an outdated CAS value:</p>

						<pre class="pre codeblock language-java"><code>// Create any document
JsonDocument created = bucket.upsert(JsonDocument.create("docid", JsonObject.create()));

// Remove it with the wrong cas value set (simulating an already changed one)
bucket.remove(JsonDocument.from(created, 132344545L));</code></pre>

						<p class="p">The incorrect CAS value causes a <samp class="ph codeph">CASMismatchException</samp> to be
							thrown:</p>

						<pre class="pre codeblock"><code>Exception in thread "main" com.couchbase.client.java.error.CASMismatchException
  at com.couchbase.client.java.CouchbaseAsyncBucket$18.call(CouchbaseAsyncBucket.java:392)
  at com.couchbase.client.java.CouchbaseAsyncBucket$18.call(CouchbaseAsyncBucket.java:388)
  at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:54)
...</code></pre>

					</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-56" target="_blank">JVMCBC-56</a>: RxJava has been upgraded to 1.0.0.RC9.
							<p class="p">The RC9 release brings additional bug fixes and stability improvements over
							the RC3 release that was shipped with 2.0.0 GA. We expect the Couchbase Java
							SDK 2.0.2 to ship with the 1.0.0 GA release shortly after its announcement.</p>

					</li>

				</ul>


			</section>


			<section class="section" id="ga201__ga201-fixes"><h3 class="title sectiontitle">Fixes</h3>
				


				<p class="p">This release contains the following bug fixes:</p>

				<ul class="ul">
					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-42" target="_blank">JVMCBC-42 (previously JCBC-563)</a>: Rewriting endpoint handlers
						to prevent views from locking up. <p class="p">Users reported that under certain conditions,
							View responses would hang the threads and application intervention was needed
							to bring it back to life (or a timeout kicks in). Changes were made to the
							application to prevent those kinds of hang-ups.</p>

					</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-43" target="_blank">JVMCBC-43</a>: Fixes
							<samp class="ph codeph">ConcurrentModificationException</samp> on disconnect with more
						buckets.</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-45" target="_blank">JVMCBC-45</a>: Give configuration loading a chance to be
						retried. <p class="p">When applications were running for a longer time, exceptions would be
							raised during certain scenarios, leading to a death of the core engine
							threading. These messages were used during configuration reloading and are now
							properly rescheduled.</p>

					</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-62" target="_blank">JVMCBC-62</a>: Make <samp class="ph codeph">Diagnostics</samp> resilient
						for not found classes. <p class="p">The newly added <samp class="ph codeph">Diagnostics</samp> helper
							class was optionally using MXBeans from the <samp class="ph codeph">com/sun</samp> package,
							but did not check whether those are available. This had the side effect of
							preventing start-up on JBoss Wildfly and IBM JVM type systems. Proper guards
							are now in place to prevent this.</p>

					</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JVMCBC-41" target="_blank">JVMCBC-41</a>: Fix buffer leak in
						DefaultFullBinaryMemcacheRequest/Response</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-587" target="_blank">JCBC-587</a>: Never quote start/endKeyDocId in the
						ViewQuery</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-606" target="_blank">JCBC-606</a>: Release buffers in transcoders + tests</li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-610" target="_blank">JCBC-610</a>: Fix decoding of
							<samp class="ph codeph">BinaryDocument</samp></li>

					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-582" target="_blank">JCBC-582</a>: Bucket details loading fails if the bucket is
						greater than 2&nbsp;GB</li>

				</ul>


			</section>


			<section class="section" id="ga201__ga201-known"><h3 class="title sectiontitle">Known issues</h3>
				


				<p class="p">This release has the following known issues:</p>

				<ul class="ul">
					<li class="li"><a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-583" target="_blank">JCBC-583</a>: View queries leak Netty byte buffers, leading
						to more garbage collection than needed. </li>

				</ul>


			</section>

		</div>


	</article>




	<article class="topic concept nested1" aria-labelledby="ariaid-title5" id="ga200">
		<h2 class="title topictitle2" id="ariaid-title5">Couchbase Java Client 2.0.0 GA (19 September 2014)</h2>

		
		<div class="body conbody"><p class="shortdesc">Version 2.0.0 GA is the first stable release of the 2.0.0 series. It is a complete
			rewrite compared to the 1.* series.</p>


			<section class="section" id="ga200__ga200-enhance"><h3 class="title sectiontitle">New features and behavioral changes</h3>
				

				<p class="p">Here are some of the highlights in this release:</p>

				<ul class="ul">
					<li class="li">Reworked API to be document oriented and cross-platform with other SDKs</li>

					<li class="li">Asynchronous, reactive API based on RxJava</li>

					<li class="li">Synchronous wrapper around the asynchronous API for convenience</li>

					<li class="li">Support for Couchbase Server 3.0, including encryption via Secure Sockets Layer
						(SSL)</li>

					<li class="li">Stream-based view and N1QL query APIs</li>

					<li class="li">First-class JSON support, as well as Legacy and other optimized documents</li>

					<li class="li">Interoperability with other Couchbase 2.0 SDKs without code changes</li>

				</ul>


			</section>


			<section class="section" id="ga200__ga200-known"><h3 class="title sectiontitle">Known issues</h3>
				

				<p class="p">This release has the following known issues:</p>


				<ul class="ul">
					<li class="li">
						<a class="xref" href="https://www.couchbase.com/issues/browse/JCBC-563" target="_blank">JCBC-563</a>: View query will lock up after the first few
						attempts. <p class="p">Sometimes a view response gets stuck in the core. Subsequent requests
							have been identified to work again, so a workaround until it is fixed in the
							next bug-fix release is to retry after the operation times out. Make sure to
							apply a timeout when using the asynchronous API and maybe also use a shorter
							timeout than the default, which is 75 seconds for views.</p>

						<p class="p">A shorter timeout can be applied:</p>

						<pre class="pre codeblock language-java"><code>ViewResult query = bucket.query(ViewQuery.from("design", "view"), 10, TimeUnit.SECONDS);</code></pre>

						<p class="p">If the asynchronous API is used, make sure to apply a timeout:</p>

						<pre class="pre codeblock language-java"><code>Observable&lt;AsyncViewResult&gt; result = bucket
    .async()
    .query(ViewQuery.from("design", "view"))
    .timeout(10, TimeUnit.SECONDS);</code></pre>

					</li>

				</ul>


			</section>

		</div>

	</article>



</div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">Â© 2011â€“2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>