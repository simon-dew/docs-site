<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Configuring the environment â€” Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/admin-intro.html"><span>Administration</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a><ul class="sub-sections"><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../developer/java-2.1/java-intro.html"><span>Java SDK 2.1</span></a><ul class="sub-sections"><li class="section"><a href="../../developer/java-2.1/overview.html"><span>Overview</span></a></li><li class="section"><a href="../../developer/java-2.1/download-links.html"><span>Download and API Reference</span></a></li><li class="section"><a href="../../developer/java-2.1/migrate.html"><span>Migrating from Java SDK 1.4.x to 2.x</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.1/getting-started.html"><span>Getting started with the Java SDK</span></a></li><li class="section"><a href="../../developer/java-2.1/managing-connections.html"><span>Managing connections</span></a></li><li class="section"><a href="../../developer/java-2.1/env-config.html" class="current"><span>Configuring the environment</span></a><ul class="sub-sections"></ul></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.1/documents.html"><span>Working with documents</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.1/querying.html"><span>Querying buckets</span></a></li><li class="section"><a href="../../developer/java-2.1/observables.html"><span>Mastering observables</span></a></li><li class="section"><a href="../../developer/java-2.1/logging.html"><span>Setting up logging</span></a></li><li class="section"><a href="../../developer/java-2.1/release-notes.html"><span>Release notes</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../developer/java-2.0/java-intro.html"><span>Java SDK 2.0</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.1/dotnet-intro.html"><span>.NET SDK 2.1</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dotnet-2.0/dotnet-intro.html"><span>.NET SDK 2.0</span></a></li></ul></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Configuring the environment</h1>

	

	<div class="body conbody"><p class="shortdesc">The <samp class="ph codeph">CouchbaseEnvironment</samp> class enables you to configure Java SDK
		options for bootstrapping, timeouts, reliability, and performance.</p>

		<section class="section"><h2 class="title sectiontitle">The environment builder</h2>
			

			<p class="p">Because <samp class="ph codeph">CouchbaseEnvironment</samp> is an immutable class, you need to configure it
				by using its embedded <samp class="ph codeph">Builder</samp> class. It is designed to apply the
				builder arguments in a fluent fashion and then create the
					<samp class="ph codeph">CouchbaseEnvironment</samp> at the very end:</p>


<pre class="pre codeblock language-java"><code>CouchbaseEnvironment env = DefaultCouchbaseEnvironment
    .builder()
    .sslEnabled(true)
    .computationPoolSize(5)
    .build();

Cluster cluster = CouchbaseCluster.create(env, "localhost");</code></pre>


			<p class="p">Alternatively, most options are tunable through system properties as well. If a system property is set, it always takes precedence over the builder setting:</p>


<pre class="pre codeblock language-java"><code>System.setProperty("com.couchbase.queryEnabled", "false");
CouchbaseEnvironment environment = DefaultCouchbaseEnvironment
	.builder()
    .queryEnabled(true)
    .build();
CouchbaseCluster cluster = CouchbaseCluster.create(environment);</code></pre>


			<p class="p">All system properties start with the <samp class="ph codeph">com.couchbase</samp> prefix.</p>


		</section>


		<section class="section"><h2 class="title sectiontitle">Configuration Options</h2>
			

			<p class="p">The following tables cover all possible configuration options and explain their usage and
				default values. The tables categorize the options into groups for bootstrapping,
				timeout, reliability, performance, and advanced options.</p>


		
			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. Bootstrapping options</span></caption>
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e79">Name</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e82">Method</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e85">Default</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e88">System Property</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Enabling Encryption</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">sslEnabled(boolean)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">false</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">sslEnabled</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">If encrypted communication should be enabled. This feature is
								only available against a Couchbase Server 3.0 EE cluster or later. Please
								see the "Connection Management" section for more details on how to set it up
								properly.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">SSL Keystore Location</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">sslKeystoreFile(String)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">[empty]</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">sslKeystoreFile</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">The location to the JVM keystore where the certificates are
								stored. This feature is only available against a Couchbase Server 3.0 EE
								cluster or later. See the "Connection Management" section for more details
								on how to set it up properly.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">SSL Keystore Password</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">sslKeystorePassword(String)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">[empty]</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">sslKeystorePassword</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">The password of the JVM keystore where the certificates are
								stored. This feature is only available against a Couchbase Server 3.0 EE
								cluster or later. Please see the "Connection Management" section for more
								details on how to set it up properly.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">N1QL Enabled</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">queryEnabled(boolean)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">false</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">queryEnabled</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">If experimental support for N1Ql should be enabled. Note that this setting is going to be deprecated as soon as the server comes with N1QL embedded, because it will be advertised and picked up by the SDK automatically. This setting should only be used to explicitly enable the N1QL service against a standalone developer preview of N1QL. In addition, every Couchbase Server node in the cluster is expected to run a N1QL instance when this flag is enabled.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">N1QL Port</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">queryPort(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">8093</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">queryPort</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">Defines the port for the experimental N1QL support when
								enabled. Every node in the cluster is expected to run a N1QL service against
								this port. This setting is going to be deprecated as soon as the server
								comes with N1QL embedded, because it will be advertised and picked up by the
								SDK automatically. This setting should only be used to explicitly enable the
								N1QL service against a stand-alone developer preview of N1QL.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Config Loading through HTTP</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">bootstrapHttpEnabled(boolean)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">true</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">bootstrapHttpEnabled</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">If it should be possible for the client to bootstrap and grab
								configurations over the HTTP port 8091 (and also attach a streaming
								connection). If you are running Couchbase Server 2.2 or earlier, this
								setting must be set to true. Against newer clusters it can be disabled, but
								it doesn't hurt to keep it enabled as a last-resort fallback option. Also,
								if configuration loading through carrier publication is manually disabled,
								this option is used as a fallback. If both option are disabled, the client
								is not able to function properly. If you don't have a good reason to disable
								it (for example as instructed by Couchbase Support), keep it
								enabled.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Config HTTP Non-Encrypted Port</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">bootstrapHttpDirectPort(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">8091</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">bootstrapHttpDirectPort</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">The port which is used if encryption is not enabled and the client needs to bootstrap through HTTP. In general, there is no need to change this value (unless you run a custom Couchbase Server build during development or testing that runs on different ports).</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Config HTTP Encrypted Port</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">bootstrapHttpSslPort(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">18091</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">bootstrapHttpSslPort</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">The port which is used if encryption is enabled and the client needs to bootstrap through HTTP. In general, there is no need to change this value (unless you run a custom Couchbase Server build during development or testing that runs on different ports).</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Config Loading through Carrier Publication</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">bootstrapCarrierEnabled(boolean)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">true</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">bootstrapCarrierEnabled</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">If you are running Couchbase Server 2.5 or later, this is the
								preferred way to bootstrap and grab configurations. It is not done over
								HTTP, but through the key-value connections automatically. If this setting
								is manually disabled, the client will fallback to HTTP (if enabled). If both
								option are disabled, the client is not able to function properly. If you
								don't have a good reason to disable it (for example as instructed by
								Couchbase Support), keep it enabled.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Config Carrier Non-Encrypted Port</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">bootstrapCarrierDirectPort(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">11210</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">bootstrapCarrierDirectPort</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">The port which is used if encryption is not enabled and the client needs to bootstrap through carrier publication. In general, there is no need to change this value (unless you run a custom Couchbase Server build during development or testing that runs on different ports).</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">Config Carrier Encrypted Port</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">bootstrapCarrierSslPort(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">11207</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">bootstrapCarrierSslPort</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">The port which is used if encryption is enabled and the client needs to bootstrap through carrier publication. In general, there is no need to change this value (unless you run a custom Couchbase Server build during development or testing that runs on different ports).</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e79 "><strong class="ph b">DNS SRV Enabled</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e82 "><samp class="ph codeph">dnsSrvEnabled(boolean)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e85 "><samp class="ph codeph">false</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e88 "><samp class="ph codeph">dnsSrvEnabled</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e79 d184536e82 d184536e85 d184536e88 ">Enable manually if you explicitly want to grab a bootstrap node list through a DNS SRV record. See the "Connection Management" section for more information on how to use it properly.</td>

						</tr>

					</tbody>

				</table>
</div>



			<p class="p">Timeouts apply only for blocking operations. All asynchronous operations must chain in their
				own <samp class="ph codeph">timeout()</samp> operators in order to apply a timeout. All default values
				can be overridden through the overloaded methods that accept both a time and time unit.
				All timeouts are reasonable defaults and should be adjusted to the environments after
				profiling the expected latencies.</p>


			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 2. Timeout options</span></caption>
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e428">Name</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e431">Method</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e434">Default</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e437">System Property</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e428 "><strong class="ph b">Key-Value Timeout</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e431 "><samp class="ph codeph">kvTimeout(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e434 "><samp class="ph codeph">2500ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e437 "><samp class="ph codeph">kvTimeout</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e428 d184536e431 d184536e434 d184536e437 ">The Key/Value default timeout is used on all blocking operations which are performed on a specific key if not overridden by a custom timeout. It does not affect asynchronous operations. This includes all commands like <samp class="ph codeph">get()</samp>, <samp class="ph codeph">getFromReplica()</samp> and all mutation commands.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e428 "><strong class="ph b">View Timeout</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e431 "><samp class="ph codeph">viewTimeout(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e434 "><samp class="ph codeph">75000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e437 "><samp class="ph codeph">viewTimeout</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e428 d184536e431 d184536e434 d184536e437 ">The View timeout is used on both regular and geospatial view operations if not overridden by a custom timeout. It does not affect asynchronous operations. Note that it is set to such a high timeout compared to key/value since it can affect hundreds or thousands of rows. Also, if there is a node failure during the request the internal cluster timeout is set to 60 seconds.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e428 "><strong class="ph b">Query Timeout</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e431 "><samp class="ph codeph">queryTimeout(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e434 "><samp class="ph codeph">75000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e437 "><samp class="ph codeph">queryTimeout</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e428 d184536e431 d184536e434 d184536e437 ">The Query timeout is used on all N1QL query operations if not overridden by a custom timeout. It does not affect asynchronous operations. Note that it is set to such a high timeout compared to key/value since it can affect hundreds or thousands of rows.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e428 "><strong class="ph b">Connect Timeout</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e431 "><samp class="ph codeph">connectTimeout(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e434 "><samp class="ph codeph">5000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e437 "><samp class="ph codeph">connectTimeout</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e428 d184536e431 d184536e434 d184536e437 ">The connect timeout is used when a <samp class="ph codeph">Bucket</samp> is opened and if not overridden by a custom timeout. It does not affect asynchronous operations. If you feel the urge to change this value to something higher, there is a good chance that your network is not properly set up. Opening a bucket should in practice not take longer than a second on a resonably fast network.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e428 "><strong class="ph b">Disconnect Timeout</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e431 "><samp class="ph codeph">disconnectTimeout(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e434 "><samp class="ph codeph">25000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e437 "><samp class="ph codeph">disconnectTimeout</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e428 d184536e431 d184536e434 d184536e437 ">The disconnect timeout is used when a <samp class="ph codeph">Cluster</samp> is disconnect or a <samp class="ph codeph">Bucket</samp> is closed synchronously and if not overridden by a custom timeout. It does not affect asynchronous operations. A timeout is applied here always to make sure that your code does not get stuck at shutdown. 25 seconds should provide enough room to drain all outstanding operations properly, but make sure to adapt this timeout to fit your application requirements.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e428 "><strong class="ph b">Management Timeout</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e431 "><samp class="ph codeph">managementTimeout(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e434 "><samp class="ph codeph">75000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e437 "><samp class="ph codeph">managementTimeout</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e428 d184536e431 d184536e434 d184536e437 ">The management timeout is used on all synchronous <samp class="ph codeph">BucketManager</samp> and <samp class="ph codeph">ClusterManager</samp> operations and if not overridden by a custom timeout. It set to a quite high timeout because some operations might take a longer time to complete (for example <samp class="ph codeph">flush</samp>).</td>

						</tr>

					</tbody>

				</table>
</div>


			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 3. Reliability options</span></caption>
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e644">Name</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e647">Method</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e650">Default</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e653">System Property</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e644 "><strong class="ph b">Reconnect Delay</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e647 "><samp class="ph codeph">reconnectDelay(Delay)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e650 "><samp class="ph codeph">Exponential between 32ms and 4096ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e653 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e644 d184536e647 d184536e650 d184536e653 ">The reconnect delay defines the time intervals between a
								socket getting closed on the SDK side and trying to reopen (reconnect) to
								it. The default is to retry relatively quickly (32ms) and then gradually
								approach 4 second intervals, so that in case a server is longer down than
								usual the clients do not flood the server with socket requests. Feel free to
								tune this interval based on your application requirements. Applying a very
								large ceiling may lead to longer down times than needed, while very short
								delays may flood the target node and spam the network unnecessarily.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e644 "><strong class="ph b">Retry Delay</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e647 "><samp class="ph codeph">retryDelay(Delay)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e650 "><samp class="ph codeph">Exponential between 100Âµs and 100ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e653 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e644 d184536e647 d184536e650 d184536e653 ">When a request needs to be retried for some reason (for
								example if the retry strategy is best effort and the target node is not
								reachable), this delay configures the boundaries. An internal counter tracks
								the number of retries for a given request and it gradually increases by
								default from a very quick 100 microseconds up to a 100 millisecond delay.
								The operation will be retried until it succeeds or the maximum request
								lifetime is reached. If you find yourself wanting to tweak this value to a
								very low setting, you might want to consider a different retry strategy like
								"fail fast" to get tighter control on the retry handling yourself.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e644 "><strong class="ph b">Retry Strategy</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e647 "><samp class="ph codeph">retryStrategy(RetryStrategy)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e650 "><samp class="ph codeph">Best Effort</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e653 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e644 d184536e647 d184536e650 d184536e653 ">The retry strategy decides if an operation should be retried
								or canceled. While implementing a custom strategy is fairly advanced, the
								SDK ships with two out of the box: <samp class="ph codeph">BestEffortRetryStrategy</samp>
								and <samp class="ph codeph">FailFastRetryStrategy</samp>. The first one will retry the
								operation until it either succeeds or the maximum request lifetime is
								reached. The fail fast strategy will cancel it right away and therefore the
								client needs to be prepared to retry on its own, but gets much tighter
								control on when and how to retry. See the advanced section in the
								documentation on more specific information on retry strategies and failure
								management.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e644 "><strong class="ph b">Maximum Request Lifetime</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e647 "><samp class="ph codeph">maxRequestLifetime(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e650 "><samp class="ph codeph">75000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e653 "><samp class="ph codeph">maxRequestLifetime</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e644 d184536e647 d184536e650 d184536e653 ">The maximum request lifetime is used by the best effort retry
								strategy to decide if its time to cancel the request instead of retrying it
								again. This is needed in order to prevent requests from circling around
								forever and occupying precious slots in the request ring buffer. Make sure
								to set this higher than the largest timeout in your application, otherwise
								you risk requests being canceled prematurely. This is why the default value
								is set to 75 seconds, which is the highest default timeout on the
								environment.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e644 "><strong class="ph b">Socket Keepalive Interval</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e647 "><samp class="ph codeph">keepAliveInterval(long)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e650 "><samp class="ph codeph">30000ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e653 "><samp class="ph codeph">keepAliveInterval</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e644 d184536e647 d184536e650 d184536e653 ">To avoid nasty firewalls and other network equipment cutting
								of stale TCP connections, at the configured interval the client will send a
								heartbeat keepalive message to the remote node and port. This only happens
								if for the given amount of time no traffic has happened, so if a socket is
								busy sending data back and forth it will have no effect. If you set this
								value to 0, no keepalive will be sent over the sockets.</td>

						</tr>

					</tbody>

				</table>
</div>


			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 4. Performance options</span></caption>
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e815">Name</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e818">Method</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e821">Default</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e824">System Property</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">Observe Interval</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">observeIntervalDelay(Delay)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">Exponential between 10Âµs and 100ms</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">The way <samp class="ph codeph">PersistTo</samp> and
									<samp class="ph codeph">ReplicateTo</samp> work is that once the regular mutation
								operation succeeds, the key state on the target nodes is polled until the
								desired state is reached. Since replication and persistence latency differs
								greatly on servers (fast or slow networks and disks), this value can be
								tuned for maximum efficiency. The tradeoffs to consider here is how quickly
								the desired state is detected as well as how much the SDK will spam the
								network. The default is an exponential delay, starting with very short
								intervals but very quickly approaching the 100 milliseconds if replication
								or persistence takes longer than expected. You should monitor the average
								persistence and replication latency and adjust the delay
								accordingly.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">Key/Value Endpoints per Node</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">kvEndpoints(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">1</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">kvEndpoints</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">The number of actual endpoints (sockets) to open per Node in the cluster against the Key/value service. By default, for every node in the cluster one socket is opened where all traffic is pushed through. That way the SDK implicitly benefits from network batching characteristics when the workload increases. If you suspect based on profiling and benchmarking that the socket is saturated you can think about slightly increasing it to have more "parallel pipelines". This might be especially helpful if you need to push large documents through it. The recommendation is keeping it at 1 unless there is other evidence.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">View Endpoints per Node</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">viewEndpoints(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">1</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">viewEndpoints</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">The number of actual endpoints (sockets) to open per node in
								the cluster against the view service. By default only one socket is opened
								to avoid unnecessary wasting resources. If you plan to run a view heavy
								workload, especially paired with larger responses, increasing this value
								significantly (most likely between 5 and 10) can provide greater throughput.
								Keep in mind that these sockets will then be always open, even when no load
								is passed through. We recommend that you tune this value based on evidence
								obtained during benchmarking with a real workload. If no view load is
								expected, setting this value explicitly to 0 can avoid one socket to 8092
								per node.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">Query Endpoints per Node</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">queryEndpoints(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">1</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">queryEndpoints</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">The number of actual endpoints (sockets) to open per Node in
								the cluster against the Query (N1QL) service. By default only one socket is
								opened to avoid unnecessary wasting resources. If you plan to run a query
								heavy workload, especially paired with larger responses, increasing this
								value significantly (most likely between 5 and 10) can provide greater
								throughput. Keep in mind that these sockets will then be always open, even
								when no load is passed through. We are recommending to tune this value based
								on evidence during benchmarking with a real workload. If no query load is
								expected, setting this value explicitly to 0 can avoid one socket to 8093
								per node.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">I/O Thread Pool Size</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">ioPoolSize(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">Runtime#availableProcessors()</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">ioPoolSize</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">The number of threads in the I/O thread pool. This defaults
								to the number of available processors that the runtime returns (which, as a
								well known fact,  sometimes does not represent the actual number of
								processors). Every thread represents an internal event loop where all needed
								socket are multiplexed on. The default value should be fine most of the
								time, it may only need to be tuned if you run a very large number of nodes
								in the cluster or the runtime value is incorrect. As a rule of thumb, it
								should roughly correlate with the number of cores available to the
								JVM.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">Computation Thread Pool Size</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">computationPoolSize(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">Runtime#availableProcessors()</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">computationPoolSize</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">The number of threads in the computation thread pool. This
								defaults to the number of available processors that the runtime returns
								(which, as a well known fact, sometimes does not represent the actual number
								of processors). Every thread represents an internal event loop where all
								needed computation tasks are run. The default value should be fine most of
								the time, it might only need to be tuned if you run more than usual
								CPU-intensive tasks and profiling the application indicates fully saturated
								threads in the pool. As a rule of thumb, it should roughly correlate with
								the number of cores available to the JVM.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e815 "><strong class="ph b">I/O Pool Group</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e818 "><samp class="ph codeph">ioPool(EventLoopGroup)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e821 "><samp class="ph codeph">NioEventLoopGroup</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e824 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e815 d184536e818 d184536e821 d184536e824 ">For those who want the last drop of performance, on Linux Netty provides a way to use edge triggered epoll instead of going through JVM NIO. This provides better throughput, lower latency and less garbage. Note that this mode has not been tested by Couchbase and therefore is not supported officially. If you like to take a walk on the wild side, you can find out more here: <a class="xref" href="https://github.com/netty/netty/wiki/Native-transports" target="_blank">Netty Native-transports</a>.</td>

						</tr>

					</tbody>

				</table>
</div>



			<p class="p">Values for the advanced options listed in the following table should not be changed unless
				there is a very good reason to do so.</p>


			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 5. Advanced options</span></caption>
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:25%">

					<thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e1044">Name</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e1047">Method</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e1050">Default</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d184536e1053">System Property</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">Request Ring Buffer Size</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">requestBufferSize(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">16384</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">requestBufferSize</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">The size of the request ring buffer where all request
								initially are stored and then picked up to be pushed onto the I/O threads.
								Tuning this to a lower value will more quickly lead to
									<samp class="ph codeph">BackpressureExceptions</samp> during overload or failure
								scenarios. Setting it to a higher value means backpressure will take longer
								to occur, but more requests will potentially be queued up and more heap
								space is used.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">Response Ring Buffer Size</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">responseBufferSize(int)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">16384</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">responseBufferSize</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">The size of the response ring buffer where all responses are
								passed through from the I/O threads before the target observable is
								completed. Since the I/O threads are pushing data in this ring buffer,
								setting it to a lower value is likely to have a negative effect on I/O
								performance. In general it should be kept in line with the request ring
								buffer size.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">Computation Scheduler</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">scheduler(Scheduler)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">CoreScheduler</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">The scheduler used for all CPU-intensive, non-blocking
								computations in the core, client and in user space. This is a slightly
								modified version of the <samp class="ph codeph">ComputationScheduler</samp> that ships
								with RxJava, mainly for the reason to manually name threads as needed.
								Changing the scheduler should be used with extra care, especially since lots
								of internal components also depend on it.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">User Agent String</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">userAgent(String)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">Based on OS, Runtime and SDK Version</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">The user agent string that is used to identify the SDK
								against the Couchbase Server cluster on different occasions, for example
								when doing a view or query request. There is no need to tune that because it
								is dynamically generated based on properties set during build time (based on
								the package name and version, OS and runtime).</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">Package Name and Version Identifier</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">packageNameAndVersion(String)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">Based on SDK Version</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">The package name and identifier is used as part of the user
								agent string and in the environment info output to see which version of the
								SDK the application is running. There is no need to change it because it is
								dynamically generated based on properties set during build time.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">Event Bus</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">eventBus(EventBus)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">DefaultEventBus</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">-</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">The event bus implementation used to transport system,
								performance and debug events from producers to subscribers. The default
								implementation is based on an internal RxJava Subject which does not cache
								the values and only pushes subsequent events to the subscribers. If you
								provide a custom implementation, double check that it fits with the contract
								of the event bus as documented.</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1044 "><strong class="ph b">DCP Enabled</strong></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1047 "><samp class="ph codeph">dcpEnabled(boolean)</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1050 "><samp class="ph codeph">false</samp></td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d184536e1053 "><samp class="ph codeph">dcpEnabled</samp></td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" colspan="4" style="text-align:left;vertical-align:top;" headers="d184536e1044 d184536e1047 d184536e1050 d184536e1053 ">Currently, database change protocol (DCP) cannot be enabled
								with the Java SDK. If you try to enable it on the builder, an exception is
								raised. DCP is not  ready for prime time in clients, but this configuration
								switch is available because all parameters from the <samp class="ph codeph">core-io</samp>
								module are inherited. If you have active need for DCP, get in touch with the
								Couchbase team.</td>

						</tr>

					</tbody>

				</table>
</div>


		</section>

	</div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../developer/java-2.1/java-intro.html" title="The Couchbase Java SDK provides synchronous and asynchronous (reactive) interfaces that allow your applications to efficiently interact with a Couchbase Server cluster. It provides capabilities to store, update, and retrieve documents in the database and query the database by using N1QL.">Java SDK 2.1</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../developer/java-2.1/managing-connections.html" title="This section covers the different approaches to connecting and disconnecting, as well as how to configure encryption.">Managing connections</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../developer/java-2.1/documents.html" title="The Java SDK offers methods you can use to accomplish the basic CRUD operations of creating, retrieving, updating, and deleting documents.">Working with documents</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">Â© 2011â€“2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>