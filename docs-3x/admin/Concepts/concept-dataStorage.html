<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data storage — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/admin-intro.html"><span>Administration</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../admin/Misc/admin-basics.html"><span>Administration basics</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/Concepts/concept-intro.html"><span>Architecture and concepts</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../admin/Concepts/concept-clusterMgr.html"><span>Cluster Manager</span></a></li><li class="section"><a href="../../admin/Concepts/concept-dataStorage.html" class="current"><span>Data storage</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../admin/Concepts/concept-ramQuota.html"><span>RAM quotas</span></a></li><li class="section"><a href="../../admin/Concepts/concept-vBucket.html"><span>vBuckets</span></a></li><li class="section"><a href="../../admin/Concepts/concept-cacheLayer.html"><span>Caching layer</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/concept-diskStorage.html"><span>Disk storage</span></a></li><li class="section"><a href="../../admin/Concepts/global-thread-pool.html"><span>Shared thread pool</span></a></li><li class="section"><a href="../../admin/Concepts/bucket-priority.html"><span>Disk I/O priority</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/bucket-eviction.html"><span>Tunable memory</span></a></li><li class="section"><a href="../../admin/Concepts/concept-docExpiration.html"><span>Expiration</span></a></li><li class="section"><a href="../../admin/Concepts/concept-serverWarmup.html"><span>Server warmup</span></a></li><li class="section"><a href="../../admin/Concepts/concept-replication.html"><span>Replicas and replication</span></a></li><li class="section"><a href="../../admin/Concepts/concepts-TAP.html"><span>TAP</span></a></li><li class="section"><a href="../../admin/Concepts/dcp.html"><span>Database Change Protocol</span></a></li><li class="section"><a href="../../admin/Concepts/concept-client-interface.html"><span>Client interface</span></a></li><li class="section"><a href="../../admin/Concepts/concepts-statsMonitor.html"><span>Statistics and monitoring</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/security/security-intro.html"><span>Security in Couchbase </span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/bp-deployment-considerations.html"><span>Deployment considerations</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Tasks/cluster-management.html"><span>Cluster management</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Monitoring/monitor-intro.html"><span>Monitoring</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/XDCR/xdcr-intro.html"><span>Cross Datacenter Replication (XDCR)</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/UI/ui-intro.html"><span>Web console</span></a></li><li class="section"><a href="../../admin/Misc/faq.html"><span>FAQs</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Misc/Trbl-intro.html"><span>Troubleshooting</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Data storage</h1>

	
	
	<div class="body"><p class="shortdesc">Couchbase Server provides data management services using <dfn class="term">buckets</dfn>, which are
		isolated virtual containers for data. A bucket is a logical grouping of physical resources
		within a cluster of Couchbase Servers.</p>

		<p class="p">Buckets provide a secure mechanism for organizing, managing, and analyzing the data storage
			resources. Two types of data buckets, <samp class="ph codeph">memcached</samp> and
				<samp class="ph codeph">Couchbase</samp>, enable you to store data either in-memory only or both
			in-memory and on disk (for added reliability). Select the appropriate bucket type for
			your implementation during the Couchbase Server setup.</p>

		
		<div class="note note"><span class="notetitle">Note:</span> Buckets can be used by multiple client applications across
			a cluster. </div>

		
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				<col style="width:16.5016501650165%">
				<col style="width:83.4983498349835%">
				<thead class="thead" style="text-align:left;">
					<tr class="row">
						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e42">Bucket Type</th>

						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e45">Description</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e42 ">Couchbase</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e45 ">Provides highly-available and dynamically reconfigurable distributed data storage, with
							persistence and replication services. Couchbase buckets are 100%
							protocol compatible with, and built in the spirit of, the memcached open
							source distributed key-value cache.</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e42 ">memcached</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e45 ">Provides a directly-addressed, distributed (scale-out), in-memory, key-value cache.
							Memcached buckets are designed to be used alongside relational database
							technology. They cache frequently-used data, thereby reducing the number
							of queries a database server must perform for web servers delivering a
							web application.</td>

					</tr>

				</tbody>

			</table>
</div>

		<p class="p">The different bucket types support different capabilities.  </p>
 
		
		
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				<col style="width:17.006802721088434%">
				<col style="width:35.374149659863946%">
				<col style="width:47.61904761904761%">
				<thead class="thead" style="text-align:left;">
					<tr class="row">
						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e90">Capability</th>

						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e93">memcached buckets</th>

						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e96">Couchbase buckets</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Item size limit</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">1 MB</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">20 MB</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Persistence</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Replication</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Rebalance</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Statistics</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">Limited set for in-memory stats</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Full suite</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Client support</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">memcached, should use Ketama consistent hashing</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Full Smart Client Support</td>

					</tr>

					
				
				
					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">XDCR</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Backup</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Tap/DCP</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e90 ">Encrypted data access </td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e93 ">No</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e96 ">Yes</td>

					</tr>

				</tbody>

			</table>
</div>

		
		<p class="p">Couchbase-type buckets provide a highly-available and dynamically reconfigurable distributed
			data store, survive node failures, and allow cluster reconfiguration while continuing to
			service requests. They have the following core capabilities:</p>

		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				<col style="width:16.5016501650165%">
				<col style="width:83.4983498349835%">
				<thead class="thead" style="text-align:left;">
					<tr class="row">
						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e243">Couchbase bucket capability</th>

						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d43537e246">Description</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e243 ">Caching</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e246 ">Couchbase buckets operate through RAM. Data is kept in RAM and persisted down to disk.
							Data will be cached in RAM until the configured RAM is exhausted, and
							data is ejected from RAM. If the requested data is not currently in the
							the RAM cache, it will be loaded automatically from disk.</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e243 ">Persistence</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e246 ">Data objects can be persisted asynchronously to the hard-disk resources from memory to
							provide protection from server restarts or minor failures. Persistence
							properties are set at the bucket level.</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e243 ">Replication</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e246 ">A configurable number of replica servers can receive copies of all
							data objects in the Couchbase-type bucket. If the host machine fails, a
							replica server can be promoted to be the host server, providing high
							availability cluster operations via failover. Replication is configured
							at the bucket level.</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e243 ">Rebalancing</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d43537e246 ">Rebalancing enables load distribution across resources and dynamic
							addition or removal of buckets and servers in the cluster. </td>

					</tr>

				</tbody>

			</table>
</div>

		
		<p class="p">Both the memcached and Couchbase buckets can be authenticated via SASL, or not authenticated
			(non-SASL).</p>

		<p class="p">The following bucket types can be configured: </p>

		<dl class="dl">
			
			<dt class="dt dlterm">Default bucket</dt>

				<dd class="dd">The default bucket is a Couchbase bucket that always resides on port <samp class="ph codeph">11211</samp>
					and is a non-SASL authenticating bucket. When Couchbase Server is first
					installed, this bucket is automatically set up during installation. It can be
					removed after the installation and can also be re-added later. If you decide to
					add the bucket named <samp class="ph codeph">default</samp> at a later time, it must be placed
					on port <samp class="ph codeph">11211</samp> and must be a non-SASL authenticating bucket. A
					bucket that is not named <samp class="ph codeph">default</samp> cannot reside on port
						<samp class="ph codeph">11211</samp> if it is a non-SASL bucket. The
						<samp class="ph codeph">default</samp> bucket can be reached with a vBucket aware smart
					client, an ASCII client or a binary client that doesn’t use SASL
					authentication.</dd>

			
			
				<dt class="dt dlterm">Non-SASL buckets</dt>

				<dd class="dd">Non-SASL buckets can be placed on any available port, with the exception of port
						<samp class="ph codeph">11211</samp> if the bucket is not named <samp class="ph codeph">default</samp>.
					Only one Non-SASL bucket can be placed on any individual port. These buckets can
					be reached with a vBucket aware smart client, an ASCII client or a binary client
					that doesn’t use SASL authentication.</dd>

			
			
				<dt class="dt dlterm">SASL buckets</dt>

				<dd class="dd">SASL authenticating Couchbase buckets can only be placed on port <samp class="ph codeph">11211</samp> and
					each bucket is differentiated by its name and password. A SASL bucket cannot be
					placed on any port other than <samp class="ph codeph">11211</samp> and can be reached with
					either a vBucket aware smart client, or a binary client that has SASL support.
					These buckets cannot be reached with ASCII clients. <p class="p">Smart clients discover
						changes in the cluster using the Couchbase Management REST API. The SASL
						buckets can be used to isolate individual applications to provide
						multi-tenancy, or to isolate data types in the cache to enhance performance
						and visibility. Couchbase Server allows you to configure different
						ports to access different buckets, and provides the option to access
						isolated buckets using either the binary protocol with SASL authentication
						or the ASCII protocol with no authentication.</p>
<p class="p">Couchbase Server 
						allows you to use and mix different types of buckets in your environment,
						Couchbase and memcached. Buckets of different types still share the same
						resource pool and cluster resources. </p>
<p class="p">Quotas for RAM and disk usage
						are configurable per bucket, so that resource usage can be managed across
						the cluster. Quotas can be modified on a running cluster and administrators
						can re-allocate resources as usage patterns or priorities change over
						time.</p>

				</dd>

			
		</dl>


	</div>

	<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../admin/Concepts/concept-intro.html" title="Couchbase Server concepts include the different components and systems that make up an individual Couchbase Server instance and a Couchbase cluster including information and concepts needed to understand the fast and elastic nature, high availability, and high performance of the Couchbase Server database.">Architecture and concepts</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../admin/Concepts/concept-clusterMgr.html" title="The Cluster Manager is responsible for node and cluster management. Every node within a Couchbase cluster includes the Cluster Manager component.">Cluster Manager</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../admin/Concepts/concept-ramQuota.html" title="RAM is allocated to Couchbase Server in the following configurable quantities: Server Quota and Bucket Quota.">RAM quotas</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../CLI/cli-overview.html" title="The command-line tools perform different functions and operations, these CLI tools are described individually.">CLI overview</a></div>
<div><a class="link" href="../REST/rest-bucket-intro.html" title="The Buckets REST API creates, deletes, flushes, and retrieves information about buckets and bucket operations.">Buckets API</a></div></div>
</nav>
</div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>