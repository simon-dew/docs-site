<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Monitoring startup (warmup) — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/admin-intro.html"><span>Administration</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../admin/Misc/admin-basics.html"><span>Administration basics</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/concept-intro.html"><span>Architecture and concepts</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/security/security-intro.html"><span>Security in Couchbase </span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/bp-deployment-considerations.html"><span>Deployment considerations</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Tasks/cluster-management.html"><span>Cluster management</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/Monitoring/monitor-intro.html"><span>Monitoring</span></a><ul class="sub-sections"><li class="section"><a href="../../admin/Monitoring/monitor-underlying-processes.html"><span>Underlying server processes</span></a></li><li class="section"><a href="../../admin/Monitoring/monitor-port-access.html"><span>Stats and Port 11210</span></a></li><li class="section"><a href="../../admin/Monitoring/monitor-diskqueue.html"><span>Disk write queue</span></a></li><li class="section"><a href="../../admin/Monitoring/monitor-statistics.html"><span>Couchbase Server statistics</span></a></li><li class="section"><a href="../../admin/Monitoring/monitor-moxi-statistics.html"><span>Couchbase Server Moxi statistics</span></a></li><li class="section"><a href="../../admin/Monitoring/monitor-warmup.html" class="current"><span>Monitoring startup (warmup)</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../admin/Monitoring/monitor-rebalance.html"><span>Monitoring a rebalance operation</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/XDCR/xdcr-intro.html"><span>Cross Datacenter Replication (XDCR)</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/UI/ui-intro.html"><span>Web console</span></a></li><li class="section"><a href="../../admin/Misc/faq.html"><span>FAQs</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Misc/Trbl-intro.html"><span>Troubleshooting</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Monitoring startup (warmup)</h1>

	<div class="body">
		<p class="p">If a Couchbase Server node is starting up for the first time, it creates whatever DB
			files necessary and begin serving data immediately. However, if there is already data on
			disk (likely because the node rebooted or the service restarted) the node needs to read
			all of this data off of disk before it can begin serving data. This is called “warmup”.
			Depending on the size of data, this can take some time. </p>

		<p class="p">When starting up a node, there are a few statistics to monitor. Use the
				<samp class="ph codeph">cbstats</samp> command to watch the warmup stats:</p>

		<pre class="pre codeblock"><code>cbstats localhost:11210 warmup</code></pre>

		<p class="p">The following statistics are of particular interest when monitoring the warmup.</p>

		<dl class="dl">
			
				<dt class="dt dlterm">ep_warmup_thread</dt>

				<dd class="dd">This is the overall indication of whether or not warmup is still running. Look for values: running and complete.</dd>

			
			
				<dt class="dt dlterm">ep_warmup_state</dt>

				<dd class="dd">This describes which phase of warmup is currently running. Look for values: loading keys,
					loading access log, and done. 
				</dd>

			
		</dl>

		
		<ul class="ul">
			<li class="li">When <samp class="ph codeph">ep_warmup_state</samp> is loading keys, compare
					<samp class="ph codeph">ep_warmup_key_count</samp> (current number) with
					<samp class="ph codeph">ep_warmup_estimated_key_count</samp> (target number).</li>

			<li class="li">When <samp class="ph codeph">ep_warmup_state</samp> is loading access log, compare
				<samp class="ph codeph">ep_warmup_value_count</samp> (current number) with
				<samp class="ph codeph">ep_warmup_estimated_value_count</samp> (target
				number).</li>

		</ul>

	</div>

	<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../admin/Monitoring/monitor-intro.html" title="There are a number of different ways to monitor Couchbase servers including underlying processes, ports, and queuing.">Monitoring</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../admin/Monitoring/monitor-moxi-statistics.html" title="Regular memcached clients can request statistics through the memcached stats command.">Couchbase Server Moxi statistics</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../admin/Monitoring/monitor-rebalance.html" title="Monitoring of the system during and immediately after rebalancing is needed until replication is completed successfully.">Monitoring a rebalance operation</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../Concepts/concept-serverWarmup.html" title="Whenever Couchbase Server is restarted, or data is restored to a server instance, the server undergoes a warmup process before data requests can be handled.">Server warmup</a></div>
<div><a class="link" href="../CLI/CBstats/cbstats-warmup.html" title="The cbstats warmup command shows statistics related to warmup logic.">Warmup</a></div></div>
</nav>
</div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>