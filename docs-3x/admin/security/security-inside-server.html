<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Security inside Couchbase Server â€” Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/admin-intro.html"><span>Administration</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../admin/Misc/admin-basics.html"><span>Administration basics</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/concept-intro.html"><span>Architecture and concepts</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/security/security-intro.html"><span>Security in Couchbase </span></a><ul class="sub-sections"><li class="section"><a href="../../admin/security/security-admin-access.html"><span>Encrypted administrative access</span></a></li><li class="section"><a href="../../admin/security/security-client-ssl.html"><span>Encrypted data access</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/security/security-best-practices.html"><span>Best security practices</span></a><ul class="sub-sections"><li class="section"><a href="../../admin/security/security-outside-server.html"><span>Security outside Couchbase Server</span></a></li><li class="section"><a href="../../admin/security/security-inside-server.html" class="current"><span>Security inside Couchbase Server</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../admin/security/security-in-cloud.html"><span>Security in the cloud</span></a></li><li class="section"><a href="../../admin/security/security-in-applications.html"><span>Security in applications</span></a></li></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/bp-deployment-considerations.html"><span>Deployment considerations</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Tasks/cluster-management.html"><span>Cluster management</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Monitoring/monitor-intro.html"><span>Monitoring</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/XDCR/xdcr-intro.html"><span>Cross Datacenter Replication (XDCR)</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/UI/ui-intro.html"><span>Web console</span></a></li><li class="section"><a href="../../admin/Misc/faq.html"><span>FAQs</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Misc/Trbl-intro.html"><span>Troubleshooting</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
 <h1 class="title topictitle1" id="ariaid-title1">Security inside Couchbase Server</h1>

 
 <div class="body conbody"><p class="shortdesc">Best security practices inside the Couchbase Server cover passwords, bucket
    authentication, read-only administrators, access logs, and encrypted administrative
    access.</p>

  
  <section class="section"><h2 class="title sectiontitle">Couchbase passwords</h2>
   <p class="p">Couchbase Server has several passwords:</p>

    <ul class="ul">
     <li class="li">Administrative password</li>

     <li class="li">Bucket password</li>

     <li class="li">XDCR remote cluster password</li>

    </ul>

    
   <p class="p"> Requirement for strong passwords means that all passwords must comply with the following:</p>

  <ul class="ul">
   <li class="li">Length of a password must be at least 7 characters, consisting of letters (upper and lower case), digits, and special characters.</li>

   <li class="li">Rotation of passwords must be enforced based on organization's requirements.</li>

   <li class="li">Forgotten administrative passwords are reset using the <samp class="ph codeph">cbreset_password</samp>
     tool.</li>

  </ul>
</section>

  
  <section class="section"><h2 class="title sectiontitle">Bucket authentication through SSL</h2>To enforce bucket security, make sure to
      provide for bucket authentication through SASL (Simple Authentication and Security Layer).
        <p class="p">Authentication on the bucket level takes place over the CRAM-MD5 protocol and involves a
        single challenge-and-response cycle initiated by Couchbase Server.  In the challenge
        sequence, the server sends a string in the format of a Message ID (email header value
        including angle brackets), which includes an arbitrary string of random digits, a timestamp,
        and the server's fully qualified domain name. </p>
<p class="p">Access control is configured using the
        Couchbase Web Console and is set for two ports:</p>
<dl class="dl">
        
          <dt class="dt dlterm">Standard port</dt>

          <dd class="dd">This is TCP port <samp class="ph codeph">11211</samp>, which requires SASL authentication. Enter the
            password that complies with the best practices rules.</dd>

        
        
          <dt class="dt dlterm">Dedicated port</dt>

          <dd class="dd">This port supports ASCII protocol and doesn't need authentication. You only need to
            enter the port number.</dd>

        
      </dl>

      <p class="p"><img class="image" src="../images/admin-access-control.png" width="480"></p>

    </section>

   <section class="section"><h2 class="title sectiontitle">Removal of unprotected buckets</h2>To safeguard security in the production
      phase, buckets that have been created by Couchbase Server as a part of the installation
      process must be deleted. This applies to: <ul class="ul">
        <li class="li">Default bucket, which has no password support.</li>

        <li class="li">Any sample buckets that have been supplied with empty passwords.</li>

      </ul>
</section>

  
  
  <section class="section"><h2 class="title sectiontitle">Encrypted administrative access</h2>
      
      <p class="p">A new port for encrypted administrative access was provided in release 3.0 and is useful
        for administrators who administer Couchbase Server over the Internet. </p>

    </section>

    <section class="section">
      <p class="p">In case you want to force an SSL connection to the Couchbase cluster, you have to lock the
        non-SSL ports. </p>

    </section>

    <section class="section">
      <p class="p">While an administrative console is typically protected via an HTTPS connection, the new
        administrative access on port <samp class="ph codeph">18091</samp> allows connection to the Couchbase Web
        Console over SSL, which is enabled by default. To talk over SSL to the Couchbase Web
        Console, connect to the following URL with your web browser:
          <kbd class="ph userinput">https://couchbase_server:18091</kbd></p>

      <p class="p"> The <span class="keyword wintitle">Cluster Overview</span> screen is displayed, from where you can access
        other cluster information such as server nodes, data buckets, views, and so on. </p>

      <p class="p"><img class="image" id="concept_wwm_tkc_bq__image_jn2_yls_sq" src="../images/cluster-overview.png" width="720"></p>

      <p class="p">The <span class="keyword wintitle">Settings</span> tab shows that a self-signed SSL certificate has been
        deployed across the cluster. This certificate can be regenerated, or replaced.</p>

    </section>

   <section class="section"><h2 class="title sectiontitle">Read-only administrative users</h2>
     <p class="p">A read-only administrator can view certain activities without having ability to edit.
       Privileges and credentials for this user can be set in the UI. </p>

     <p class="p">Passwords for the read-only administrators follow the same requirements as for other
        Couchbase passwords: they must be strong and rotated periodically. </p>

     <p class="p">To set up the credentials for a read-only administrator using the Couchbase Web Console, go to 
       <span class="ph menucascade"><span class="ph uicontrol">Settings</span> &gt; <span class="ph uicontrol">Account Management</span></span> and enter the administrator's username and password. </p>

     <p class="p"><img class="image" src="../images/admin-readOnly.png" width="620"></p>
 
   </section>

   
    
   
   <section class="section"><h2 class="title sectiontitle">Access logs</h2>
     <p class="p">Access logs are used to monitor the administrator's access to the Couchbase cluster. These
        logs:</p>

     <ul class="ul">
       <li class="li">Track REST or the Couchbase Web Console's accesses and can be found in the file
            <span class="ph filepath">/opt/couchbase/var/lib/couchbase/logs/http_access.log</span>.</li>

       <li class="li">Are ASCII text based, which is a common log format. </li>

       <li class="li">Allow you to retrieve the following information: <ul class="ul">
            <li class="li">Client IP patterns</li>

            <li class="li">Error codes, such as <samp class="ph codeph">401</samp></li>

            <li class="li">Suspicious URLs</li>

          </ul>
</li>

       
     </ul>

     <p class="p">You can use an access log along with OS auditing on your server. While the OS log shows who
       logged in, the access log shows whether an administrator who logged in actually connected to
       Couchbase Server or failed to connect. </p>

     
   </section>

 </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../admin/security/security-best-practices.html" title="Best practices for security consist of guidelines and tips to provide security features throughout the network.">Best security practices</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../admin/security/security-outside-server.html" title="Security outside Couchbase Server involves configuration of IP tables and ports.">Security outside Couchbase Server</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../admin/security/security-in-cloud.html" title="There are a couple of security measures you can implement in a cloud: network ACLs and secure XDCR.">Security in the cloud</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">Â© 2011â€“2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>