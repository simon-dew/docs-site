<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data file location — Couchbase Server 3.0/3.1</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation">
	<!-- Google Tag Manager -->
				<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MVPNN2"
					height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
				<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
					j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
					'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
				<!-- End Google Tag Manager -->
				<header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server 3.0/3.1</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/index.html">Documentation Home</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/nosql-databases/downloads">Downloads</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../admin/Couchbase-intro.html"><span>Introduction</span></a></li><li class="section"><a href="../../admin/Whats-new-3.0.html"><span>What's new in 3.0</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/admin-intro.html"><span>Administration</span></a><ul class="sub-sections"><li class="section section--has-sub-sections&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;section--active"><a href="../../admin/Misc/admin-basics.html"><span>Administration basics</span></a><ul class="sub-sections"><li class="section"><a href="../../admin/Tasks/tasks-common.html"><span>Common administration tasks</span></a></li><li class="section"><a href="../../admin/Misc/start-stop-couchbase.html"><span>Starting and stopping Couchbase Server</span></a></li><li class="section"><a href="../../admin/Misc/admin-datafiles.html" class="current"><span>Data file location</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../../admin/Misc/install-location.html"><span>Installation location</span></a></li><li class="section"><a href="../../admin/Misc/limits.html"><span>Limits</span></a></li><li class="section"><a href="../../admin/Misc/cluster-wide-info-intro.html"><span>Cluster-wide diagnostics</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/concept-intro.html"><span>Architecture and concepts</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/security/security-intro.html"><span>Security in Couchbase </span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Concepts/bp-deployment-considerations.html"><span>Deployment considerations</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Tasks/cluster-management.html"><span>Cluster management</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Monitoring/monitor-intro.html"><span>Monitoring</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/XDCR/xdcr-intro.html"><span>Cross Datacenter Replication (XDCR)</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/UI/ui-intro.html"><span>Web console</span></a></li><li class="section"><a href="../../admin/Misc/faq.html"><span>FAQs</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/Misc/Trbl-intro.html"><span>Troubleshooting</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../admin/Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../../admin/rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li><li class="section"><a href="../../admin/pdfs.html"><span>PDFs</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/intro.html"><span>Overview</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/concepts.html"><span>Developing applications</span></a></li><li class="section section--has-sub-sections"><a href="../../developer/dev-guide-3.0/old-versions.html"><span>Older SDK versions</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
	<h1 class="title topictitle1" id="ariaid-title1">Data file location</h1>

	
	<div class="body"><p class="shortdesc">Couchbase Server stores data files (database and indices) under <span class="ph menucascade"><span class="ph uicontrol">var</span> &gt; <span class="ph uicontrol">lib</span> &gt; <span class="ph uicontrol">couchbase </span> &gt; <span class="ph uicontrol">data</span></span>. </p>

		<p class="p">The disk path for the database and index files is set during the initial setup of the server
			node. The default disk path is typically used for development purposes only. If the
			server node is used for production, configure a different disk path. </p>

		
		
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				<col style="width:26.525198938992045%">
				<col style="width:73.47480106100795%">
				<thead class="thead" style="text-align:left;">
					<tr class="row">
						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64012e45">Platform</th>

						<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64012e48">Default directory</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64012e45 ">Linux</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64012e48 "><span class="ph filepath">/opt/couchbase/var/lib/couchbase/data</span></td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64012e45 ">Windows</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64012e48 "><span class="ph filepath">C:\Program&nbsp;Files\couchbase\server\var\lib\couchbase\data</span></td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64012e45 ">Mac OS X</td>

						<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64012e48 "><span class="ph filepath">~/Library/Application&nbsp;Support/Couchbase/var/lib/couchbase/data</span></td>

					</tr>

				</tbody>

			</table>
</div>

		
		<div class="note important"><span class="importanttitle">Important:</span> Do not store arbitrary data in the data path, and especially not the Couchbase Server backups.  
			Such data will be deleted by Couchbase Server under certain conditions.</div>

		
		<section class="section"><h2 class="title sectiontitle">Changing the data file path</h2>The disk path where the data and index files
			are stored cannot be changed on a running server. To change the disk path, the node must
			be removed from the cluster, configured with the new path, and added back to the
			cluster. The data file path can be changed for each node with the Couchbase Web Console
			during setup, with REST API, or CLI. Once a node or a cluster has already been set up
			and is storing data, the path cannot be changed while the node is a part of a running
			cluster. <p class="p">The quickest and easiest method is to provision a new node with the
				configured correct disk path, and then use swap rebalance to add the new node in
				while taking the old node out. This ensures that the cluster performance is not
				impacted.  </p>
<p class="p">To change the disk path by replacing a node (with swap
				rebalance):</p>
<ol class="ol">
				<li class="li">Set up a new node with a different disk path.</li>

				<li class="li">Swap rebalance the new node for the existing node.</li>

				<li class="li">Repeat the process for each node in the cluster.</li>

			</ol>
<p class="p">To change the disk path of an existing node (without swap rebalance): </p>
<ol class="ol">
				<li class="li">Remove the node from the cluster and rebalance.</li>

				<li class="li">Change the path on the removed node either via the REST API or using the Couchbase CLI. </li>

				<li class="li">Re-add the node back to the cluster and rebalance.</li>

			</ol>
 To change the disk path on multiple nodes, swap out each node and change the disk
			path individually. <div class="note important"><span class="importanttitle">Important:</span> Changing the data path for a node that is
				already a part of a cluster permanently deletes the stored data.</div>

			<div class="note tip"><span class="tiptitle">Tip:</span> When using CLI, the data file and index file path settings cannot be
				changed individually. To change the setting individually, use the REST API.</div>

		</section>

		
			
		<div class="example"><h2 class="title sectiontitle">CLI example</h2>
		<pre class="pre codeblock"><code>
couchbase-cli node-init -c 10.5.2.54:8091 \
	--node-init-data-path=new_path \
	-u user -p password
		</code></pre>

		</div>

		
	
		
	</div>

	<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../admin/Misc/admin-basics.html" title="Administration tools used with Couchbase Server are the Couchbase Web Console, Command-line interface (CLI) and REST API.">Administration basics</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../admin/Misc/start-stop-couchbase.html" title="Summary of commands for starting and stopping Couchbase Server on Linux (RHEL and Ubuntu), Windows, and Mac.">Starting and stopping Couchbase Server</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../admin/Misc/install-location.html" title="The default installation location for Couchbase Server depends on the operating system.">Installation location</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../Tasks/rebalance-adding-nodes.html" title="Nodes can be added to a cluster via the UI, CLI, or REST API.">Adding nodes</a></div>
<div><a class="link" href="../REST/rest-cluster-removenode.html" title="Nodes are removed from clusters with the POST /controller/ejectNode HTTP method and URI.">Removing nodes from clusters</a></div>
<div><a class="link" href="../Tasks/tasks-rebalance.html" title="Rebalancing is the process of redistributing information across nodes.">Rebalancing</a></div>
<div><a class="link" href="../Tasks/rebalance-swap-rebalance.html" title="Swap rebalance is an automatic process that optimizes the movement of data when you are adding and removing the same number of nodes within the same operation.">Swap rebalance</a></div>
<div><a class="link" href="../REST/rest-node-index-path.html" title="The path for the index files can be configured with POST /nodes/self/controller/settings.">Setting index paths</a></div>
<div><a class="link" href="../REST/overview-rest-api.html" title="Use the REST API to manage clusters, server nodes, and buckets, and to retrieve run-time statistics within a Couchbase Server deployment.">REST API overview</a></div>
<div><a class="link" href="../REST/rest-server-nodes.html" title="The Server Nodes REST API manages nodes in a cluster.">Server nodes API</a></div></div>
</nav>
</div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b>. All rights reserved.</span><a href="http://support.couchbase.com/">Customer Login</a><a href="http://www.couchbase.com/terms-of-service">Terms of Service</a><a href="http://www.couchbase.com/privacy-policy">Privacy Policy</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>