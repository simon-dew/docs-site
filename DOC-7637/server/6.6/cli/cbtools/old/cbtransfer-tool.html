<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>cbtransfer | Couchbase Docs (Staging)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-7637/server/6.6/cli/cbtools/old/cbtransfer-tool.html">
<link rel="stylesheet" href="../../../../../_/css/site.css">
<script src="../../../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="6.6">
<meta name="generator" content="Antora 2.3.0">
<link rel="icon" href="../../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com">
                    <img src="../../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-7637/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
</nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/couchbase/couchbase-cli/docs/modules/cli/pages/cbtools/old/cbtransfer-tool.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../../index.html">server</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">cbtransfer</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Transfers data between clusters or from files.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The basic syntax is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer [options] source destination</pre>
</div>
</div>
<div class="paragraph">
<p>The following are syntax examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer http://SOURCE:8091 /backups/backup-42
cbtransfer /backups/backup-42 http://DEST:8091
cbtransfer /backups/backup-42 couchbase://DEST:8091
cbtransfer http://SOURCE:8091 http://DEST:8091
cbtransfer file.csv http://DEST:8091</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description"><a class="anchor" href="#description"></a>Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code class="cmd">cbtransfer</code> tool is the underlying, generic data transfer tool upon which <code class="cmd">cbbackup</code> and <code class="cmd">cbrestore</code> are built.</p>
</div>
<div class="paragraph">
<p>It is a lightweight extract-transform-load (ETL) tool that transfers data between clusters and to and from files.
The source and destination parameters are similar to URLs or file paths.</p>
</div>
<div class="paragraph">
<p>The <code class="cmd">cbtransfer</code> tool makes snap-shots of memory at the time it is invoked.
All keys that are extracted pertain to the snapshot and not to the data that is added, edited or deleted while <code class="cmd">cbtransfer</code> is running.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The most important way to use this tool is for transferring data from a Couchbase Server node that is no longer running to a cluster that is running.
The <code>cbbackup</code>, <code>cbrestore</code>, and <code>cbtransfer</code> tools do not communicate with external IP addresses for server nodes outside of a cluster.
Backup, restore, or transfer operations are performed on data from a node within a Couchbase Server cluster.
They only communicate with nodes from a node list obtained within a cluster.
If you install Couchbase Server with a default IP address, you cannot use an external hostname to access it.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Couchbase Server does not transfer design documents.
To back up a design document, use <code>cbbackup</code> to store the information and <code>cbrestore</code> to read it back into memory.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The tool is at the following location:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating system</th>
<th class="tableblock halign-left valign-top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em class="path">/opt/couchbase/bin/</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em class="path">C:\Program Files\Couchbase\Server\bin\</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mac OS X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em class="path">/Applications/Couchbase Server.app/Contents/Resources/couchbase-core/bin/</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="options"><a class="anchor" href="#options"></a>Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the command options:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. cbtransfer options</caption>
<colgroup>
<col style="width: 40.8163%;">
<col style="width: 59.1837%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-h, --help</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command line HELP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-b BUCKET_SOURCE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single named bucket from a source cluster to transfer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-B BUCKET_DESTINATION</code>, <code>--bucket-destination=BUCKET_DESTINATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single named bucket on the destination cluster that receives the transfer.
You can transfer to a bucket with a different name than your source bucket; if you do not provide a name, it defaults to the same name as the bucket-source.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i ID</code>, <code>--id=ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer only items that match the vbucket ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-k KEY</code>, <code>--key=KEY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer only items with keys that match the <code>regexp</code>.
<sup>1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-n</code>, <code>--dry-run</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No actual transfer occurs, just the validation of parameters, files, connectivity, and configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-u USERNAME</code>, <code>--username=USERNAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST username for the source cluster or the server node.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p PASSWORD</code>, <code>--password=PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST password for the cluster or the server node.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-t THREADS</code>, <code>--threads=THREADS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of concurrent worker threads performing the transfer.
Memcached uses 75% of the number of cores reported of the system (with a minimum of 4 cores) <sup>2</sup>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-v</code>, <code>--verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verbose logging; provide more verbosity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-x EXTRA</code>, <code>--extra=EXTRA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide extra, uncommon configuration parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--single-node</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer from a single server node in a source cluster.
This single server node is a source node URL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--source-vbucket-state=SOURCE_VBUCKET_STATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only transfer from the source vbuckets occurs in this state, such as <code>active</code> (default) or <code>replica</code>.
Must be used with the Couchbase cluster as a source.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--destination-vbucket-state=DESTINATION_VBUCKET_STATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only transfer to destination vbuckets in this state, such as <code>active</code> (default) or <code>replica</code>.
Must be used with Couchbase Server Server cluster as the destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--destination-operation=DESTINATION_OPERATION</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Perform this operation on transfer.
<code class="cmd">set</code> will override an existing document;<code class="cmd">add</code> will not override; <code class="cmd">get</code> will load all keys transferred from a source cluster into the caching layer at the destination.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
By default, the <code>cbtransfer</code> tool will use <code class="cmd">set</code> and override any existing documents.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/path/to/filename</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export a <code>.csv</code> file from the server or import a <code>.csv</code> file to the server.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>1</sup>: Regex (Regular Expression Syntax) specifies a set of strings that matches it; the functions in this module let you check if a particular string matches a given regular expression (or if a given regular expression matches a particular string, which comes down to the same thing).
For a complete reference, see <a href="https://docs.python.org/2/library/re.html" class="bare" target="_blank" rel="noopener">https://docs.python.org/2/library/re.html</a>.</p>
</div>
<div class="paragraph">
<p><sup>2</sup>: To tune memcached to adjust dynamically the number of worker threads, do one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Export <code>MEMCACHED_NUM_CPUS=number</code> of threads you want before starting Couchbase Server.</p>
</li>
<li>
<p>Use the <code>-t</code> &lt;number &gt; command line argument.</p>
</li>
<li>
<p>Specify it in the configuration file that is read during startup.
Be aware that when started from the full server this file is regenerated every time, and you will loose the modifications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are extra, specialized command options with the <code>cbtransfer -x</code> parameter.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. cbtransfer -x options</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>-x options</code></th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backoff_cap=10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum backoff time during the rebalance period.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>batch_max_bytes=400000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer this # of bytes per batch.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>batch_max_size=1000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer this # of documents per batch.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cbb_max_mb=100000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Split backup file on destination cluster if it exceeds the MB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conflict_resolve=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default, enable conflict resolution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data_only=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, transfer only data from a backup file or cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>design_doc_only=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, transfer only design documents from a backup file or cluster.
Default: 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_retry=10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max number of sequential retries if the transfer fails.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mcd_compatible=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 0, display extended fields for stdout output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nmv_retry=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or 1, where 1 retries transfer after a NOT_MY_VBUCKET message.
Default: 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>recv_min_bytes=4096</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of bytes for every TCP/IP batch transferred.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rehash=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, rehash the partition IDs of each item.
Rehashing is required when transferring data between clusters with a different number of partitions, such as when transferring data from a Mac OSX server to a non-Mac OSX cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>report=5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of batches transferred before updating the progress bar in the console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>report_full=2000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of batches transferred before emitting progress information in the console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>seqno=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default, start <code>seqno</code> from beginning.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>try_xwm=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer documents with metadata.
Default: 1.
The value of <code>0</code> is  used only when transferring from 1.8.x to 1.8.x.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uncompress=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, restore data in the uncompressed mode.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Example for transferring data between nodes:</strong></p>
</div>
<div class="paragraph">
<p>To transfer data from a non-running node to a running cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer
	couchstore-files://COUCHSTORE_BUCKET_DIR
	couchbase://HOST:PORT
	--bucket-destination=DESTINATION_BUCKET</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer
	couchstore-files:///opt/couchbase/var/lib/couchbase/data/default
	couchbase://10.5.3.121:8091
	--bucket-destination=foo</pre>
</div>
</div>
<div class="paragraph">
<p>The response shows 10000 total documents transferred in batch size of 1088 documents each.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[####################] 100.0% (10000/10000 msgs)
bucket: bucket_name, msgs transferred...
      : total | last | per sec
batch : 1088 | 1088 | 554.8
byte : 5783385 | 5783385 | 3502156.4
msg : 10000 | 10000 | 5230.9
done</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example for sending data to the standard output:</strong></p>
</div>
<div class="paragraph">
<p>To send all the data from a node to the standard output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer http://10.5.2.37:8091/ stdout:

set pymc40 0 0 10
0000000000
set pymc16 0 0 10
0000000000
set pymc9 0 0 10
0000000000
set pymc53 0 0 10
0000000000
set pymc34 0 0 10
0000000000</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example for importing/exporting csv files:</strong></p>
</div>
<div class="paragraph">
<p>The <code>cbtransfer</code> tool is also used to import and export <code>csv</code> files.
Data is imported into Couchbase Server as documents and documents are exported from the server into comma-separated values.
Design documents associated with vBuckets are not included.</p>
</div>
<div class="paragraph">
<p>In these examples, the following records are in the default bucket where re-fdeea652a89ec3e9 is the document ID, 0 are flags, 0 is the expiration, and the CAS value is 4271152681275955.
The actual value is the hash starting with "{""key"".......</p>
</div>
<div class="listingblock">
<div class="content">
<pre>re-fdeea652a89ec3e9,
0,
0,
4271152681275955,
"{""key"":""re-fdeea652a89ec3e9"",
 ""key_num"":4112,
 ""name"":""fdee c3e"",
 ""email"":""fdee@ea.com"",
 ""city"":""a65"",
 ""country"":""2a"",
 ""realm"":""89"",
 ""coins"":650.06,
 ""category"":1,
 ""achievements"":[77, 149, 239, 37, 76],""body"":""xc4ca4238a0b923820d
 .......
""}"
......</pre>
</div>
</div>
<div class="paragraph">
<p>This example exports these items to a .csv file.
All items are transferred from the default bucket, <code>-b default</code> available at the node <code>http://host:8091</code> and put into the <code>/data.csv</code> file.
If a different bucket is provided for the <code>-b</code> option, all items are exported from that bucket.
Credentials are required for the cluster when exporting items from a bucket in the cluster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer http://[host]:8091 csv:./data.csv -b default -u Administrator -p password</pre>
</div>
</div>
<div class="paragraph">
<p>The following example response is similar to that in other <code>cbtransfer</code> scenarios:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[####################] 100.0% (10000/10000 msgs)
bucket: default, msgs transferred...
       : total | last | per sec
 batch : 1053 | 1053 | 550.8
 byte : 4783385 | 4783385 | 2502156.4
 msg : 10000 | 10000 | 5230.9
2013-05-08 23:26:45,107: mt warning: cannot save bucket design on a CSV destination
done</pre>
</div>
</div>
<div class="paragraph">
<p>The following example syntax shows 1053 batches of data transferred at 550.8 batches per second.
The tool outputs "cannot save bucket design…." to indicate that no design documents were exported.
To import information from a.csv file to a named bucket in a cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cbtransfer /data.csv http://[hostname]:[port] -B bucket_name -u Administrator -p password</pre>
</div>
</div>
<div class="paragraph">
<p>If the .csv file is not correctly formatted, the following error displays during import:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>w0 error: fails to read from csv file, .....</pre>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
