<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Analytics Service REST API | Couchbase Docs (Staging)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-6440/server/6.6/analytics/rest-service.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="A description of the Service REST API for Couchbase Analytics.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="6.6">
<meta name="generator" content="Antora 2.3.0">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">

              <a class="navbar-brand" href="https://www.couchbase.com">
                <img src="../../../_/img/couchbase-documentation-logo.svg" alt="Couchbase" />
              </a>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-6440/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
</nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/couchbaselabs/asterix-opt/cbas/doc/build/docs/modules/analytics/pages/rest-service.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">server</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Analytics Service REST API</h1>
<div class="labels">
<ul>
<li class="edition"><a href="https://www.couchbase.com/products/editions">Enterprise Edition</a></li>
</ul>
</div>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a name="overview"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Analytics Service REST API is provided by the Analytics service.
This API enables you to run Analytics queries and set request-level parameters.</p>
</div>
<div class="paragraph">
<p>The API schemes and host URLs are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http://node:8095/</code></p>
</li>
<li>
<p><code>https://node:18095/</code> (for secure access)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>node</code> is the host name or IP address of a node running the Analytics service.</p>
</div>
<div class="sect2">
<h3 id="version-information"><a class="anchor" href="#version-information"></a>Version information</h3>
<div class="paragraph">
<p><em>Version</em> : 6.6</p>
</div>
</div>
<div class="sect2">
<h3 id="consumes"><a class="anchor" href="#consumes"></a>Consumes</h3>
<div class="ulist">
<ul>
<li>
<p><code>application/x-www-form-urlencoded</code></p>
</li>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="produces"><a class="anchor" href="#produces"></a>Produces</h3>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a name="paths"></a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="paths"><a class="anchor" href="#paths"></a>Paths</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Table of Contents</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#query-service">Query Service</a></p>
</li>
<li>
<p><a href="#read-only-query-service">Read-Only Query Service</a></p>
</li>
<li>
<p><a href="#query-service-alternative">Query Service (Alternative)</a></p>
</li>
<li>
<p><a href="#read-only-query-service-alternative">Read-Only Query Service (Alternative)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a name="post_service"></a></p>
</div>
<div class="sect2">
<h3 id="query-service"><a class="anchor" href="#query-service"></a>Query Service</h3>
<div class="listingblock">
<div class="content">
<pre>POST /analytics/service</pre>
</div>
</div>
<div class="sect3">
<h4 id="description"><a class="anchor" href="#description"></a>Description</h4>
<div class="paragraph">
<p>Enables you to execute a N1QL for Analytics statement. This method allows you to run queries and modifying statements, and specify query parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="parameters"><a class="anchor" href="#parameters"></a>Parameters</h4>
<div class="paragraph">
<p>By default, the API accepts parameters using the <code>application/x-www-form-urlencoded</code> MIME type.
You can specify the <code>application/json</code> MIME type using the <code>Content-Type</code> header of the POST request.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Body</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parameters</strong> <br>
<em>required</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object specifying one or more query parameters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-parameters">Query Parameters</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="responses"><a class="anchor" href="#responses"></a>Responses</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">HTTP Code</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>200</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The operation was successful.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-responses">Query Responses</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>400</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bad request. A parameter has an incorrect value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-responses">Query Responses</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>401</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unauthorized. The user name or password may be incorrect.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-responses">Query Responses</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="security"><a class="anchor" href="#security"></a>Security</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#analytics-manage-analytics-select">Analytics Manage / Analytics Select</a></strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="example-http-request"><a class="anchor" href="#example-http-request"></a>Example HTTP request</h4>
<div class="paragraph">
<p>The example below uses URL-encoded data.</p>
</div>
<div class="paragraph">
<p><em>Curl request</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ curl -v -u Administrator:password --data-urlencode "statement=select 1;" http://localhost:8095/analytics/service</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example below posts the same query statement as data of type <code>application/json</code> and adds a client context ID.</p>
</div>
<div class="paragraph">
<p><em>Curl request</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ curl -v -u Administrator:password -H "Content-Type: application/json" -d '{
    "statement":"select 1;",
    "pretty":true,
    "client_context_id":"xyz"
}' http://localhost:8095/analytics/service</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="example-http-response"><a class="anchor" href="#example-http-response"></a>Example HTTP response</h4>
<div class="paragraph">
<p><em>Response 200</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "c1984db0-f135-48ee-aea0-39dfe02d55ea",
  "clientContextID": "xyz",
  "signature": {
    "*": "*"
  },
  "results": [ {
    "$1" : 1
  } ]
  ,
  "plans":{},
  "status": "success",
  "metrics": {
    "elapsedTime": "41.969099ms",
    "executionTime": "31.36645ms",
    "resultCount": 1,
    "resultSize": 15,
    "processedObjects": 0
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a name="get_service"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="read-only-query-service"><a class="anchor" href="#read-only-query-service"></a>Read-Only Query Service</h3>
<div class="listingblock">
<div class="content">
<pre>GET /analytics/service</pre>
</div>
</div>
<div class="sect3">
<h4 id="description-2"><a class="anchor" href="#description-2"></a>Description</h4>
<div class="paragraph">
<p>Enables you to execute a N1QL for Analytics statement. This method only allows you to run queries and specify query parameters. It does not allow you to run modifying statements.</p>
</div>
<div class="paragraph">
<p>This is intended for situations where use of the <code>POST</code> method is restricted.</p>
</div>
</div>
<div class="sect3">
<h4 id="parameters-2"><a class="anchor" href="#parameters-2"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>statement</strong> <br>
<em>required</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies at least one valid N1QL for Analytics statement to run.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>client_context_id</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An identifier passed by the client that is returned verbatim in the query response. Useful for matching a particular query to a specific caller.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>format</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desired format for the query results.<br>
<br>
Note that the following values are deprecated and will be removed in a future release:<br>
<code>application/x-adm</code>, <code>application/json</code>, <code>application/json;lossless</code>, and <code>text/csv</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (JSON, application/x-adm, application/json, application/json;lossless, text/csv)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"JSON"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pretty</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the result is indented.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"false"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>readonly</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, then DDL statements are not allowed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"false"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>scan_consistency</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The consistency guarantee constraint for index scanning. If <code>not_bounded</code>, the query is executed immediately. If <code>request_plus</code>, the required datasets are updated with data available from the Data service at the time of the request before the query is executed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (not_bounded, request_plus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"not_bounded"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>scan_wait</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum time to wait for datasets to be updated before the query is executed. The format includes an amount and a unit: <code>ns</code>, <code>us</code>, <code>ms</code>, <code>s</code>, <code>m</code>, or <code>h</code>. The default is <code>""</code> (no timeout).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>""</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>timeout</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time to spend on the request before timing out. The format includes an amount and a unit: <code>ns</code>, <code>us</code>, <code>ms</code>, <code>s</code>, <code>m</code>, or <code>h</code>. The default is <code>""</code> (no timeout).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>""</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>args</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of positional parameter values.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; string (URL-encoded) &gt; array</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>$<em>identifier</em></strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A named parameter value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>plan-format</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The plan format.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (JSON, STRING)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"JSON"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>logical-plan</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the logical plan is included in the query response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"false"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>organized-logical-plan</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the optimized logical plan is included in the query response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"true"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expression-tree</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the expression tree is included in the query response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"false"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rewritten-expression-tree</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the rewritten expression tree is included in the query response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"false"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>job</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the job details are included in the query response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"false"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Query</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>max-warnings</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer specifying the maximum number of warning messages to be included in the query response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (int32)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="responses-2"><a class="anchor" href="#responses-2"></a>Responses</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">HTTP Code</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>200</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The operation was successful.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-responses">Query Responses</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>400</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bad request. A parameter has an incorrect value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-responses">Query Responses</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>401</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unauthorized. The user name or password may be incorrect.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#query-responses">Query Responses</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="security-2"><a class="anchor" href="#security-2"></a>Security</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#analytics-manage-analytics-select">Analytics Manage / Analytics Select</a></strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="example-http-request-2"><a class="anchor" href="#example-http-request-2"></a>Example HTTP request</h4>
<div class="paragraph">
<p>The example below uses a URL-encoded query parameter.
The N1QL statement is <code>SELECT "hello, beer!" AS greeting</code>.</p>
</div>
<div class="paragraph">
<p><em>Curl request</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ curl -v -u Administrator:password http://localhost:8095/analytics/service?statement=SELECT%20%22hello%2C%20beer%21%22%20AS%20greeting</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="example-http-response-2"><a class="anchor" href="#example-http-response-2"></a>Example HTTP response</h4>
<div class="paragraph">
<p><em>Response 200</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "bbf382b1-4335-4a10-9eca-3b5d1a70b562",
  "signature": {
    "*": "*"
  },
  "results": [ { "greeting": "hello, beer!" }
 ]
  ,
  "plans":{},
  "status": "success",
  "metrics": {
    "elapsedTime": "56.893471ms",
    "executionTime": "51.615165ms",
    "resultCount": 1,
    "resultSize": 31,
    "processedObjects": 0
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a name="post_query"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-service-alternative"><a class="anchor" href="#query-service-alternative"></a>Query Service (Alternative)</h3>
<div class="listingblock">
<div class="content">
<pre>POST /query/service</pre>
</div>
</div>
<div class="sect3">
<h4 id="description-3"><a class="anchor" href="#description-3"></a>Description</h4>
<div class="paragraph">
<p>An alternative endpoint for the <a href="#query-service">Query Service</a>, provided for tools compatibility.</p>
</div>
<div class="paragraph">
<p><a name="get_query"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="read-only-query-service-alternative"><a class="anchor" href="#read-only-query-service-alternative"></a>Read-Only Query Service (Alternative)</h3>
<div class="listingblock">
<div class="content">
<pre>GET /query/service</pre>
</div>
</div>
<div class="sect3">
<h4 id="description-4"><a class="anchor" href="#description-4"></a>Description</h4>
<div class="paragraph">
<p>An alternative endpoint for the <a href="#read-only-query-service">Read-Only Query Service</a>, provided for tools compatibility.</p>
</div>
<div class="paragraph">
<p><a name="definitions"></a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="definitions"><a class="anchor" href="#definitions"></a>Definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Table of Contents</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#query-parameters">Query Parameters</a></p>
</li>
<li>
<p><a href="#query-responses">Query Responses</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a name="query-parameters"></a></p>
</div>
<div class="sect2">
<h3 id="query-parameters"><a class="anchor" href="#query-parameters"></a>Query Parameters</h3>
<div class="paragraph">
<p><em>Polymorphism</em> : Composition</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>statement</strong> <br>
<em>required</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies at least one valid N1QL for Analytics statement to run.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>client_context_id</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An identifier passed by the client that is returned verbatim in the query response. Useful for matching a particular query to a specific caller.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>format</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Desired format for the query results.<br>
<br>
Note that the following values are deprecated and will be removed in a future release:<br>
<code>application/x-adm</code>, <code>application/json</code>, <code>application/json;lossless</code>, and <code>text/csv</code>. <br>
<strong>Default</strong> : <code>"JSON"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (JSON, application/x-adm, application/json, application/json;lossless, text/csv)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pretty</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the result is indented. <br>
<strong>Default</strong> : <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>readonly</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, then DDL statements are not allowed. <br>
<strong>Default</strong> : <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>scan_consistency</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The consistency guarantee constraint for index scanning. If <code>not_bounded</code>, the query is executed immediately. If <code>request_plus</code>, the required datasets are updated with data available from the Data service at the time of the request before the query is executed. <br>
<strong>Default</strong> : <code>"not_bounded"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (not_bounded, request_plus)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>scan_wait</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum time to wait for datasets to be updated before the query is executed. The format includes an amount and a unit: <code>ns</code>, <code>us</code>, <code>ms</code>, <code>s</code>, <code>m</code>, or <code>h</code>. The default is <code>""</code> (no timeout). <br>
<strong>Default</strong> : <code>""</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>timeout</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time to spend on the request before timing out. The format includes an amount and a unit: <code>ns</code>, <code>us</code>, <code>ms</code>, <code>s</code>, <code>m</code>, or <code>h</code>. The default is <code>""</code> (no timeout). <br>
<strong>Default</strong> : <code>""</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>args</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of positional parameter values.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; object &gt; array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>$<em>identifier</em></strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A named parameter value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>plan-format</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The plan format. <br>
<strong>Default</strong> : <code>"JSON"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (JSON, STRING)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>logical-plan</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the logical plan is included in the query response. <br>
<strong>Default</strong> : <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optimized-logical-plan</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the optimized logical plan is included in the query response. <br>
<strong>Default</strong> : <code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expression-tree</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the expression tree is included in the query response. <br>
<strong>Default</strong> : <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rewritten-expression-tree</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the rewritten expression tree is included in the query response. <br>
<strong>Default</strong> : <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>job</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the job details are included in the query response. <br>
<strong>Default</strong> : <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>max-warnings</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer specifying the maximum number of warning messages to be included in the query response. <br>
<strong>Default</strong> : <code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (int32)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a name="query-responses"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="query-responses"><a class="anchor" href="#query-responses"></a>Query Responses</h3>
<div class="paragraph">
<p><em>Polymorphism</em> : Composition</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>requestID</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A unique identifier for the response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string (UUID)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>clientContextID</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The client context ID of the request, if one was supplied&#8201;&#8212;&#8201;refer to <code>client_context_id</code> in <a href="#query-parameters">Query Parameters</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>signature</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The schema of the results. Present only when the query completes successfully.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>results</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of all the objects returned by the query. An object can be any JSON value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; object &gt; array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>status</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The status of the request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum (success, running, errors, completed, stopped, timeout, fatal)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>errors</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of error objects. Present only if 1 or more errors are returned during processing of the request. Each error is represented by an object in this list.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; <a href="#errors">Errors</a> &gt; array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>warnings</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of warning objects. Present only if 1 or more warnings are returned during processing of the request. Each warning is represented by an object in this list.<br>
<br>
Note that you can specify the maximum number of warning messages to be returned in the query response&#8201;&#8212;&#8201;refer to <code>max-warnings</code> in <a href="#query-parameters">Query Parameters</a>. By default, no warnings are returned, even if warnings have occurred during processing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt; <a href="#warnings">Warnings</a> &gt; array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>plans</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object containing the query plans, if requested.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#plans">Plans</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>metrics</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object containing metrics about the request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#metrics">Metrics</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a name="errors"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="errors"><a class="anchor" href="#errors"></a>Errors</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>code</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A number that identifies the error.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>msg</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A message describing the error in detail. Refer to <a href="error-codes.html">Error Codes</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a name="warnings"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="warnings"><a class="anchor" href="#warnings"></a>Warnings</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>code</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A number that identifies the warning.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>msg</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A message describing the warning in detail.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a name="plans"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="plans"><a class="anchor" href="#plans"></a>Plans</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>logicalPlan</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The logical plan.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optimizedLogicalPlan</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optimized logical plan.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rewrittenExpressionTree</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rewritten expression tree.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expressionTree</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The expression tree.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>job</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a name="metrics"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="metrics"><a class="anchor" href="#metrics"></a>Metrics</h3>
<div class="paragraph">
<p><em>Polymorphism</em> : Composition</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>elapsedTime</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The total time taken for the request, that is the time from when the request was received until the results were returned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>executionTime</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time taken for the execution of the request, that is the time from when query execution started until the results were returned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>resultCount</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The total number of objects in the results.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (unsigned)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>resultSize</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The total number of bytes in the results.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (unsigned)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>errorCount</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of errors that occurred during the request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (unsigned)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>warningCount</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of warnings that occurred during the request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (unsigned)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>processedObjects</strong> <br>
<em>optional</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of processed tuples during query execution.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer (int64)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a name="securityscheme"></a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-3"><a class="anchor" href="#security-3"></a>Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a name="analytics-manage-analytics-select"></a></p>
</div>
<div class="sect2">
<h3 id="analytics-manage-analytics-select"><a class="anchor" href="#analytics-manage-analytics-select"></a>Analytics Manage / Analytics Select</h3>
<div class="paragraph">
<p>The Analytics Service REST API supports HTTP basic authentication.
Credentials can be passed via HTTP headers.</p>
</div>
<div class="paragraph">
<p>Users must have one of the following RBAC roles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Full Admin</p>
</li>
<li>
<p>Cluster Admin</p>
</li>
<li>
<p>Analytics Manager</p>
</li>
<li>
<p>Analytics Reader</p>
</li>
<li>
<p>Analytics Select</p>
</li>
<li>
<p>Analytics Admin</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to <a href="../learn/security/roles.html">Roles</a> for more details.</p>
</div>
<div class="paragraph">
<p><em>Type</em> : basic</p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2020 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
