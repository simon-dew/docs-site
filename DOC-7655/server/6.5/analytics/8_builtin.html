<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Builtin Functions | Couchbase Docs (Staging)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-7655/server/6.6/analytics/8_builtin.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="A description of Couchbase N1QL for Analytics builtin functions.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="6.5">
<meta name="generator" content="Antora 3.0.0-alpha.5">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-7655/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
</nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/couchbase/docs-analytics/edit/release/6.5/modules/analytics/pages/8_builtin.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-banner">
<i class="fas fa-file-alt"></i> <p>A newer version of this documentation is available.</p>
<a class="btn" href="../../6.6/analytics/8_builtin.html">View Latest</a>
</div>
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">server</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Builtin Functions</h1>
<div class="labels">
<ul>
<li class="edition"><a href="https://www.couchbase.com/products/editions">Enterprise Edition</a></li>
</ul>
</div>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div class="sect1">
<h2 id="NumericFunctions"><a class="anchor" href="#NumericFunctions"></a>Numeric Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="abs"><a class="anchor" href="#abs"></a>abs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>abs(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the absolute value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The absolute value of the argument with the same type as the input argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": abs(2013), "v2": abs(-4036), "v3": abs(0), "v4": abs(float("-2013.5")), "v5": abs(double("-2013.593823748327284")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 2013, "v2": 4036, "v3": 0, "v4": 2013.5, "v5": 2013.5938237483274 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="acos"><a class="anchor" href="#acos"></a>acos</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>acos(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc cosine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc cosine in radians for the argument,
if the argument is in the range of -1 (inclusive) to 1 (inclusive),</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error,</p>
</li>
<li>
<p>"NaN" for other legitimate numeric values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": acos(1), "v2": acos(2), "v3": acos(0), "v4": acos(float("0.5")), "v5": acos(double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": "NaN", "v3": 1.5707963267948966, "v4": 1.0471975511965979, "v5": 2.0943951023931957 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="asin"><a class="anchor" href="#asin"></a>asin</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>asin(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc sine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc sin in radians for the argument,
if the argument is in the range of -1 (inclusive) to 1 (inclusive),</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error,</p>
</li>
<li>
<p>"NaN" for other legitimate numeric values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": asin(1), "v2": asin(2), "v3": asin(0), "v4": asin(float("0.5")), "v5": asin(double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1.5707963267948966, "v2": "NaN", "v3": 0.0, "v4": 0.5235987755982989, "v5": -0.5235987755982989 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="atan"><a class="anchor" href="#atan"></a>atan</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>atan(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc tangent value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc tangent in radians for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": atan(1), "v2": atan(2), "v3": atan(0), "v4": atan(float("0.5")), "v5": atan(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.7853981633974483, "v2": 1.1071487177940904, "v3": 0.0, "v4": 0.4636476090008061, "v5": 1.5697963271282298 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="atan2"><a class="anchor" href="#atan2"></a>atan2</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>atan2(numeric_value1, numeric_value2)</pre>
</div>
</div>
</li>
<li>
<p>Computes the arc tangent value of numeric_value2/numeric_value1.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> arc tangent in radians for <code>numeric_value1</code> and <code>numeric_value2</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": atan2(1, 2), "v2": atan2(0, 4), "v3": atan2(float("0.5"), double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.4636476090008061, "v2": 0.0, "v3": 2.356194490192345 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ceil"><a class="anchor" href="#ceil"></a>ceil</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>ceil(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the smallest (closest to negative infinity) number with no fractional part that is not less than the value of the argument. If the argument is already equal to mathematical integer, then the result is the same as the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The ceiling value for the given number in the same type as the input argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": ceil(2013),
  "v2": ceil(-4036),
  "v3": ceil(0.3),
  "v4": ceil(float("-2013.2")),
  "v5": ceil(double("-2013.893823748327284"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 1.0, "v4": -2013.0, "v5": -2013.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cos"><a class="anchor" href="#cos"></a>cos</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>cos(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the cosine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> cosine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": cos(1), "v2": cos(2), "v3": cos(0), "v4": cos(float("0.5")), "v5": cos(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.5403023058681398, "v2": -0.4161468365471424, "v3": 1.0, "v4": 0.8775825618903728, "v5": 0.562379076290703 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cosh"><a class="anchor" href="#cosh"></a>cosh</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>cosh(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the hyperbolic cosine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> hyperbolic cosine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": cosh(1), "v2": cosh(2), "v3": cosh(0), "v4": cosh(float("0.5")), "v5": cosh(double("8")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1.5430806348152437, "v2": 3.7621956910836314, "v3": 1.0, "v4": 1.1276259652063807, "v5": 1490.479161252178 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="degrees"><a class="anchor" href="#degrees"></a>degrees</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>degrees(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Converts radians to degrees</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The degrees value for the given radians value. The returned value has type <code>double</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": degrees(pi()) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 180.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="e"><a class="anchor" href="#e"></a>e</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>e()</pre>
</div>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>e (base of the natural logarithm)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": e() };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 2.718281828459045 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="exp"><a class="anchor" href="#exp"></a>exp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>exp(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes e<sup>numeric_value</sup>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>e<sup>numeric_value</sup>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": exp(1), "v2": exp(2), "v3": exp(0), "v4": exp(float("0.5")), "v5": exp(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 2.718281828459045, "v2": 7.38905609893065, "v3": 1.0, "v4": 1.6487212707001282, "v5": "Infinity" }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="floor"><a class="anchor" href="#floor"></a>floor</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>floor(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the largest (closest to positive infinity) number with no fractional part that is not greater than the value.
If the argument is already equal to mathematical integer, then the result is the same as the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The floor value for the given number in the same type as the input argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": floor(2013),
  "v2": floor(-4036),
  "v3": floor(0.8),
  "v4": floor(float("-2013.2")),
  "v5": floor(double("-2013.893823748327284"))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 0.0, "v4": -2014.0, "v5": -2014.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ln"><a class="anchor" href="#ln"></a>ln</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>ln(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes log<sub>e</sub>numeric_value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>log<sub>e</sub>numeric_value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": ln(1), "v2": ln(2), "v3": ln(0), "v4": ln(float("0.5")), "v5": ln(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": 0.6931471805599453, "v3": "-Infinity", "v4": -0.6931471805599453, "v5": 6.907755278982137 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="log"><a class="anchor" href="#log"></a>log</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>log(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes log<sub>10</sub>numeric_value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>log<sub>10</sub>numeric_value,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": log(1), "v2": log(2), "v3": log(0), "v4": log(float("0.5")), "v5": log(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": 0.3010299956639812, "v3": "-Infinity", "v4": -0.3010299956639812, "v5": 3.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="pi"><a class="anchor" href="#pi"></a>pi</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>pi()</pre>
</div>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Pi</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": pi() };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 3.141592653589793 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="power"><a class="anchor" href="#power"></a>power</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>power(numeric_value1, numeric_value2)</pre>
</div>
</div>
</li>
<li>
<p>Computes numeric_value1<sup>numeric_value2</sup>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>numeric_value1<sup>numeric_value2</sup>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": power(1, 2), "v3": power(0, 4), "v4": power(float("0.5"), double("-0.5")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1, "v3": 0, "v4": 1.4142135623730951 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="radians"><a class="anchor" href="#radians"></a>radians</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>radians(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Converts degrees to radians</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The radians value for the given degrees value. The returned value has type <code>double</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": radians(180) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 3.141592653589793 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="round"><a class="anchor" href="#round"></a>round</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>round(numeric_value[, round_digit])</pre>
</div>
</div>
</li>
<li>
<p>Rounds the value to the given number of integer digits to the right of the decimal point,
or to the left of the decimal point if the number of digits is negative.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value
that represents the numeric value to be rounded.</p>
</li>
<li>
<p><code>round_digit</code>: (Optional) a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value
that specifies the digit to round to.
This argument may be positive or negative;
positive indicating that rounding needs to be to the right of the decimal point,
and negative indicating that rounding needs to be to the left of the decimal point.
Values such as 1.0 and 2.0 are acceptable, but values such as 1.3 and 1.5 result in a <code>null</code>.
If omitted, the default is 0.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The rounded value for the given number.
The returned value has the following type:</p>
<div class="ulist">
<ul>
<li>
<p><code>bigint</code> if the input value has type <code>tinyint</code>, <code>smallint</code>, <code>integer</code> or <code>bigint</code>,</p>
</li>
<li>
<p><code>float</code> if the input value has type <code>float</code>,</p>
</li>
<li>
<p><code>double</code> if the input value has type <code>double</code>;</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>missing</code> if the input value is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the input value is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will return a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": round(2013),
  "v2": round(-4036),
  "v3": round(0.8),
  "v4": round(float("-2013.256")),
  "v5": round(double("-2013.893823748327284"))
  "v6": round(123456, -1),
  "v7": round(456.456, 2),
  "v8": round(456.456, -1),
  "v9": round(-456.456, -2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 2013, "v2": -4036, "v3": 1.0, "v4": -2013.0, "v5": -2014.0, "v6": 123460, "v7": 456.46, "v8": 460, "v9": -500 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sign"><a class="anchor" href="#sign"></a>sign</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>sign(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the sign of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the sign (a <code>tinyint</code>) of the argument, -1 for negative values, 0 for 0, and 1 for positive values,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": sign(1), "v2": sign(2), "v3": sign(0), "v4": sign(float("0.5")), "v5": sign(double("-1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1, "v2": 1, "v3": 0, "v4": 1, "v5": -1 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sin"><a class="anchor" href="#sin"></a>sin</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>sin(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the sine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> sine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": sin(1), "v2": sin(2), "v3": sin(0), "v4": sin(float("0.5")), "v5": sin(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.8414709848078965, "v2": 0.9092974268256817, "v3": 0.0, "v4": 0.479425538604203, "v5": 0.8268795405320025 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sinh"><a class="anchor" href="#sinh"></a>sinh</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>sinh(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the hyperbolic sine value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> hyperbolic sine value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": sinh(1), "v2": sinh(2), "v3": sinh(0), "v4": sinh(float("0.5")), "v5": sinh(double("8")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1.1752011936438014, "v2": 3.626860407847019, "v3": 0.0, "v4": 0.5210953054937474, "v5": 1490.4788257895502 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sqrt"><a class="anchor" href="#sqrt"></a>sqrt</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>sqrt(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the square root of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> square root value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": sqrt(1), "v2": sqrt(2), "v3": sqrt(0), "v4": sqrt(float("0.5")), "v5": sqrt(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1.0, "v2": 1.4142135623730951, "v3": 0.0, "v4": 0.7071067811865476, "v5": 31.622776601683793 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tan"><a class="anchor" href="#tan"></a>tan</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>tan(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the tangent value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> tangent value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": tan(1), "v2": tan(2), "v3": tan(0), "v4": tan(float("0.5")), "v5": tan(double("1000")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1.5574077246549023, "v2": -2.185039863261519, "v3": 0.0, "v4": 0.5463024898437905, "v5": 1.4703241557027185 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tanh"><a class="anchor" href="#tanh"></a>tanh</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>tanh(numeric_value)</pre>
</div>
</div>
</li>
<li>
<p>Computes the hyperbolic tangent value of the argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> hyperbolic tangent value for the argument,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": tanh(1), "v2": tanh(2), "v3": tanh(0), "v4": tanh(float("0.5")), "v5": tanh(double("8")) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.7615941559557649, "v2": 0.964027580075817, "v3": 0.0, "v4": 0.4621171572600098, "v5": 0.999999774929676 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="trunc"><a class="anchor" href="#trunc"></a>trunc</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>trunc(numeric_value, number_digits)</pre>
</div>
</div>
</li>
<li>
<p>Truncates the number to the given number of integer digits to the right of the decimal point (left if digits is negative).
Digits is 0 if not given.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>number_digits</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>double</code> tangent value for the argument,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is <code>missing</code>,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-numeric value,</p>
</li>
<li>
<p>the second argument is any other non-tinyint, non-smallint, non-integer, and non-bigint value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": trunc(1, 1), "v2": trunc(2, -2), "v3": trunc(0.122, 2), "v4": trunc(float("11.52"), -1), "v5": trunc(double("1000.5252"), 3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1, "v2": 2, "v3": 0.12, "v4": 10.0, "v5": 1000.525 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="random"><a class="anchor" href="#random"></a>random</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>random([expr])</pre>
</div>
</div>
</li>
<li>
<p>Returns a pseudo-random number with optional seed.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: A number, or an expression that evaluates to a number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a number between 0 and 1.</p>
</li>
<li>
<p>Returns NULL if <code>expr</code> is not a number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>random(123);</pre>
</div>
</div>
</li>
<li>
<p>A possible result is:</p>
<div class="literalblock">
<div class="content">
<pre>0.029199439979853525</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="StringFunctions"><a class="anchor" href="#StringFunctions"></a>String Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="concat"><a class="anchor" href="#concat"></a>concat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>concat(string1, string2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Returns a concatenated string from arguments.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string1</code>: a string value,</p>
</li>
<li>
<p><code>string2</code>: a string value,</p>
</li>
<li>
<p>&#8230;&#8203;.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a concatenated string from arguments,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>concat("test ", "driven ", "development");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"test driven development"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="contains"><a class="anchor" href="#contains"></a>contains</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>contains(string, substring_to_contain)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> contains the string <code>substring_to_contain</code></p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the given substring,</p>
</li>
<li>
<p><code>substring_to_contain</code> : a target <code>string</code> that might be contained.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value, <code>true</code> if <code>string</code> contains <code>substring_to_contain</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": contains("I like x-phone", "phone"), "v2": contains("one", "phone") };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ends_with"><a class="anchor" href="#ends_with"></a>ends_with</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>ends_with(string, substring_to_end_with)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> ends with the string <code>substring_to_end_with</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might end with the given string,</p>
</li>
<li>
<p><code>substring_to_end_with</code> : a <code>string</code> that might be contained as the ending substring.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value, <code>true</code> if <code>string</code> contains <code>substring_to_contain</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": ends_with(" love product-b its shortcut_menu is awesome:)", ":)"),
  "v2": ends_with(" awsome:)", ":-)")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="initcap-or-title"><a class="anchor" href="#initcap-or-title"></a>initcap (or title)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>initcap(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts a given string <code>string</code> so that the first letter of each word is uppercase and
every other letter is lowercase.
 The function has an alias called "title".</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> as the title form of the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": initcap("ANALYTICS is here!"), "v2": title("ANALYTICS is here!") };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": "Analytics Is Here!", "v2": "Analytics Is Here!" }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="length"><a class="anchor" href="#length"></a>length</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>length(string)</pre>
</div>
</div>
</li>
<li>
<p>Returns the length of the string <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> or <code>null</code> that represents the string to be checked.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>bigint</code> that represents the length of <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>length("test string");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>11</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lower"><a class="anchor" href="#lower"></a>lower</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>lower(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts a given string <code>string</code> to its lowercase form.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> as the lowercase form of the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>lower("ANALYTICS");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"analytics"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ltrim"><a class="anchor" href="#ltrim"></a>ltrim</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>ltrim(string[, chars]);</pre>
</div>
</div>
</li>
<li>
<p>Returns a new string with all leading characters that appear in <code>chars</code> removed.
By default, white space is the character to trim.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be trimmed,</p>
</li>
<li>
<p><code>chars</code> : a <code>string</code> that contains characters that are used to trim.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a trimmed, new <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>ltrim("me like x-phone", "eml");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>" like x-phone"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="position"><a class="anchor" href="#position"></a>position</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>position(string, string_pattern)</pre>
</div>
</div>
</li>
<li>
<p>Returns the first position of <code>string_pattern</code> within <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern,</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the first position that <code>string_pattern</code> appears within <code>string</code>
(starting at 0), or -1 if it does not appear,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": position("ppphonepp", "phone"),
  "v2": position("hone", "phone")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 3, "v2": -1 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_contains"><a class="anchor" href="#regexp_contains"></a>regexp_contains</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>regexp_contains(string, string_pattern[, string_flags])</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the strings <code>string</code> contains the regular expression
pattern <code>string_pattern</code> (a Java regular expression pattern).</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern,</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched,</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during regular expression matching.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s), multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code>, returns <code>true</code> if <code>string</code> contains the pattern <code>string_pattern</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": regexp_contains("pphonepp", "p*hone"),
  "v2": regexp_contains("hone", "p+hone")
}</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_like"><a class="anchor" href="#regexp_like"></a>regexp_like</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>regexp_like(string, string_pattern[, string_flags])</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> exactly matches the regular expression pattern <code>string_pattern</code>
(a Java regular expression pattern).</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern,</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> that might be contained,</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during regular expression matching.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s), multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> value, <code>true</code> if <code>string</code> contains the pattern <code>string_pattern</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": regexp_like(" can't stand acast the network is horrible:(", ".*acast.*"),
  "v2": regexp_like("acast", ".*acst.*")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_position"><a class="anchor" href="#regexp_position"></a>regexp_position</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>regexp_position(string, string_pattern[, string_flags])</pre>
</div>
</div>
</li>
<li>
<p>Returns first position of the regular expression <code>string_pattern</code> (a Java regular expression pattern)
within <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern,</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched,</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during regular expression matching.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s), multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the first position that the regular expression <code>string_pattern</code> appears in <code>string</code>
(starting at 0), or -1 if it does not appear.</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": regexp_position("pphonepp", "p*hone"),
  "v2": regexp_position("hone", "p+hone")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1, "v2": -1 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="regexp_replace"><a class="anchor" href="#regexp_replace"></a>regexp_replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>regexp_replace(string, string_pattern, string_replacement[, string_flags])
regexp_replace(string, string_pattern, string_replacement[, replacement_limit])</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> matches the given
regular expression pattern <code>string_pattern</code> (a Java regular expression pattern),
and replaces the matched pattern <code>string_pattern</code> with the new pattern <code>string_replacement</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might contain the pattern,</p>
</li>
<li>
<p><code>string_pattern</code> : a pattern <code>string</code> to be matched,</p>
</li>
<li>
<p><code>string_replacement</code> : a pattern <code>string</code> to be used as the replacement,</p>
</li>
<li>
<p><code>string_flag</code> : (Optional) a <code>string</code> with flags to be used during replace.</p>
<div class="ulist">
<ul>
<li>
<p>The following modes are enabled with these flags: dotall (s), multiline (m), case_insensitive (i), and comments and whitespace (x).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>replacement_limit</code>: (Optional) an <code>integer</code> specifying the maximum number of replacements to make
(if negative then all occurrences will be replaced)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a <code>string</code> that is obtained after the replacements,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>regexp_replace(" like x-phone the voicemail_service is awesome", " like x-phone", "like product-a")</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"like product-a the voicemail_service is awesome"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="repeat"><a class="anchor" href="#repeat"></a>repeat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>repeat(string, n)</pre>
</div>
</div>
</li>
<li>
<p>Returns a string formed by repeating the input <code>string</code> <code>n</code> times.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be repeated,</p>
</li>
<li>
<p><code>n</code> : an <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value - how many times the string should be repeated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a string that repeats the input <code>string</code> <code>n</code> times,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-string value,</p>
</li>
<li>
<p>or, the second argument is not a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or <code>bigint</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>repeat("test", 3);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"testtesttest"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="replace"><a class="anchor" href="#replace"></a>replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>replace(string, search_string, replacement_string[, limit])</pre>
</div>
</div>
</li>
<li>
<p>Finds occurrences of the given substring <code>search_string</code> in the input string <code>string</code>
and replaces them with the new substring <code>replacement_string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : an input <code>string</code>,</p>
</li>
<li>
<p><code>search_string</code> : a <code>string</code>  substring to be searched for,</p>
</li>
<li>
<p><code>replacement_string</code> : a <code>string</code> to be used as the replacement,</p>
</li>
<li>
<p><code>limit</code> : (Optional) an <code>integer</code> - maximum number of occurrences to be replaced.
If not specified or negative then all occurrences will be replaced</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a <code>string</code> that is obtained after the replacements,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value or non-integer <code>limit</code> will cause a type error,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": replace(" like x-phone the voicemail_service is awesome", " like x-phone", "like product-a"),
  "v2": replace("x-phone and x-phone", "x-phone", "product-a", 1)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": "like product-a the voicemail_service is awesome",
  "v2": "product-a and x-phone"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="reverse"><a class="anchor" href="#reverse"></a>reverse</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>reverse(string)</pre>
</div>
</div>
</li>
<li>
<p>Returns a string formed by reversing characters in the input <code>string</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be reversed</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a string containing characters from the the input <code>string</code> in the reverse order,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-string value</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>reverse("hello");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"olleh"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rtrim"><a class="anchor" href="#rtrim"></a>rtrim</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>rtrim(string[, chars]);</pre>
</div>
</div>
</li>
<li>
<p>Returns a new string with all trailing characters that appear in <code>chars</code> removed.
By default, white space is the character to trim.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be trimmed,</p>
</li>
<li>
<p><code>chars</code> : a <code>string</code> that contains characters that are used to trim.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a trimmed, new <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": rtrim("i like x-phone", "x-phone"),
  "v2": rtrim("i like x-phone", "onexph")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": "i like ", "v2": "i like " }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="split"><a class="anchor" href="#split"></a>split</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>split(string, sep)</pre>
</div>
</div>
</li>
<li>
<p>Splits the input <code>string</code> into an array of substrings separated by the string <code>sep</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be split.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>an array of substrings by splitting the input <code>string</code> by <code>sep</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>split("test driven development", " ");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[ "test", "driven", "development" ]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="starts_with"><a class="anchor" href="#starts_with"></a>starts_with</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>starts_with(string, substring_to_start_with)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the string <code>string</code> starts with the string <code>substring_to_start_with</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> that might start with the given string.</p>
</li>
<li>
<p><code>substring_to_start_with</code> : a <code>string</code> that might be contained as the starting substring.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code>, returns <code>true</code> if <code>string</code> starts with the string <code>substring_to_start_with</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error,</p>
</li>
<li>
<p><code>false</code> otherwise.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1" : starts_with(" like the plan, amazing", " like"),
  "v2" : starts_with("I like the plan, amazing", " like")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="substr"><a class="anchor" href="#substr"></a>substr</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>substr(string, offset[, length])</pre>
</div>
</div>
</li>
<li>
<p>Returns the substring from the given string <code>string</code> based on the given start offset <code>offset</code> with the optional <code>length</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be extracted,</p>
</li>
<li>
<p><code>offset</code> : an <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value as the starting offset of the substring in <code>string</code>
(starting at 0). If negative then counted from the end of the string,</p>
</li>
<li>
<p><code>length</code> : (Optional) an an <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code> value as the length of the substring.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> that represents the substring,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value, or if the substring could not
be obtained because the starting offset is not within string bounds or <code>length</code> is negative.</p>
</li>
<li>
<p>a type error will be raised if:</p>
<div class="ulist">
<ul>
<li>
<p>the first argument is any other non-string value,</p>
</li>
<li>
<p>or, the second argument is not a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or <code>bigint</code>,</p>
</li>
<li>
<p>or, the third argument is not a <code>tinyint</code>, <code>smallint</code>, <code>integer</code>, or <code>bigint</code> if the argument is present.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>substr("test string", 6, 3);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"str"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>substring</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="trim"><a class="anchor" href="#trim"></a>trim</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>trim(string[, chars]);</pre>
</div>
</div>
</li>
<li>
<p>Returns a new string with all leading characters that appear in <code>chars</code> removed.
By default, white space is the character to trim.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be trimmed,</p>
</li>
<li>
<p><code>chars</code> : a <code>string</code> that contains characters that are used to trim.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a trimmed, new <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>trim("i like x-phone", "xphoen");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>" like "</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="upper"><a class="anchor" href="#upper"></a>upper</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>upper(string)</pre>
</div>
</div>
</li>
<li>
<p>Converts a given string <code>string</code> to its uppercase form.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>string</code> : a <code>string</code> to be converted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>string</code> as the uppercase form of the given <code>string</code>,</p>
</li>
<li>
<p><code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if the argument is a <code>null</code> value,</p>
</li>
<li>
<p>any other non-string input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>upper("hello")</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"HELLO"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="TemporalFunctions"><a class="anchor" href="#TemporalFunctions"></a>Temporal Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="datefun__fn-date-now-local"><a class="anchor" href="#datefun__fn-date-now-local"></a>now_local (clock_local)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>now_local([fmt])</pre>
</div>
</div>
</li>
<li>
<p>The current time (at query compilation time) on the node that compiled the query, in the specified string format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string in the format specified representing the local system time.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_date":    now_local(),
 "invalid_date": now_local('invalid date'),
 "short_date":   now_local('1111-11-11')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_date": "2018-09-07T14:16:35.233+01:00",
  "invalid_date": "2018-09-07T14:16:35.233+01:00",
  "short_date": "2018-09-07"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>clock_local</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-now-millis"><a class="anchor" href="#datefun__fn-date-now-millis"></a>now_millis (clock_millis)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>now_millis()</pre>
</div>
</div>
</li>
<li>
<p>The current time (at query compilation time) on the node that compiled the query, as an Epoch/UNIX timestamp.</p>
</li>
<li>
<p>Arguments:</p>
<div class="paragraph">
<p>None.</p>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the system time as Epoch/UNIX time in milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"CurrentTime": now_millis()};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "CurrentTime": 1536326726276
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>clock_millis</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-now-str"><a class="anchor" href="#datefun__fn-date-now-str"></a>now_str (clock_str)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>now_str([fmt])</pre>
</div>
</div>
</li>
<li>
<p>The current time (at query compilation time) on the node that compiled the query, in the specified string format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string in the format specified representing the system time.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_date":    now_str(),
 "invalid_date": now_str('invalid date'),
 "short_date":   now_str('1111-11-11')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_date": "2018-09-07T14:26:01.115+01:00",
  "invalid_date": "2018-09-07T14:26:01.115+01:00",
  "short_date": "2018-09-07"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>clock_str</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-now-tz"><a class="anchor" href="#datefun__fn-date-now-tz"></a>now_tz (clock_tz)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>now_tz(tz [, fmt])</pre>
</div>
</div>
</li>
<li>
<p>The current time (at query compilation time) in the timezone given by the timezone argument passed to the function.
This time is the local system time converted to the specified timezone.</p>
<div class="paragraph">
<p>As this function converts the local time, it may not accurately represent the true time in that timezone.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>tz</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#date-timezone">timezone</a> to convert the local time to.</p>
<div class="paragraph">
<p>If this argument is not a valid timezone then <code>null</code> is returned as the result.</p>
</div>
</li>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An date string in the format specified representing the system time in the specified timezone.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"UTC_full_date":    now_tz('UTC'),
 "UTC_short_date":   now_tz('UTC', '1111-11-11'),
 "invalid_timezone": now_tz('invalid timezone'),
 "us_east":          now_tz('US/Eastern'),
 "us_west":          now_tz('US/Pacific')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "UTC_full_date": "2018-09-07T13:26:47.956Z",
  "UTC_short_date": "2018-09-07",
  "invalid_timezone": null,
  "us_east": "2018-09-07T09:26:47.956-04:00",
  "us_west": "2018-09-07T06:26:47.956-07:00"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>clock_tz</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-now-utc"><a class="anchor" href="#datefun__fn-date-now-utc"></a>now_utc (clock_utc)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>now_utc([fmt])</pre>
</div>
</div>
</li>
<li>
<p>The current time in UTC.
This time is the local system time converted to UTC.
This function is provided for convenience and is the same as <code>now_tz('UTC')</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An date string in the format specified representing the system time in UTC.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_date":  now_utc(),
 "short_date": now_utc('1111-11-11')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_date": "2018-09-07T13:27:40.693Z",
  "short_date": "2018-09-07"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>clock_utc</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-add-millis"><a class="anchor" href="#datefun__fn-date-add-millis"></a>date_add_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_add_millis(date1, n, part)</pre>
</div>
</div>
</li>
<li>
<p>Performs date arithmetic on a particular component of an Epoch/UNIX timestamp value.
This calculation is specified by the arguments <code>n</code> and <code>part</code>.
For example, a value of 3 for <code>n</code> and a value of <code>day</code> for <code>part</code> would add 3 days to the date specified by <code>date1</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX
timestamp in milliseconds.</p>
<div class="paragraph">
<p>If this argument is not an integer then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>n</code>: The value to increment the date component by.
This value must be an integer, or an expression which evaluates to an integer, and may be negative to
perform date subtraction.</p>
<div class="paragraph">
<p>If a non-integer is passed to the function then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result of the calculation as an Epoch/UNIX timestamp in milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"add_3_days":  date_add_millis(1463284740000,  3, 'day'),
 "add_3_years": date_add_millis(1463284740000,  3, 'year'),
 "sub_3_days":  date_add_millis(1463284740000, -3, 'day'),
 "sub_3_years": date_add_millis(1463284740000, -3, 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "add_3_days": 1463543940000,
  "add_3_years": 1557892740000,
  "sub_3_days": 1463025540000,
  "sub_3_years": 1368590340000
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-add-str"><a class="anchor" href="#datefun__fn-date-add-str"></a>date_add_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_add_str(date1, n, part)</pre>
</div>
</div>
</li>
<li>
<p>Performs date arithmetic on a date string.
This calculation is specified by the arguments <code>n</code> and <code>part</code>.
For example a value of 3 for <code>n</code> and a value of <code>day</code> for <code>part</code> would add 3 days to the date specified by <code>date1</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing the date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported
date format</a>.</p>
</li>
<li>
<p><code>n</code>: The value to increment the date component by.
This value must be an integer, or an expression which evaluates to an integer, and may be negative to perform
date subtraction.</p>
<div class="paragraph">
<p>If a non-integer is passed to the function then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the result of the calculation as an Epoch/UNIX timestamp in milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"add_3_days":  date_add_str('2016-05-15 03:59:00Z',  3, 'day'),
 "add_3_years": date_add_str('2016-05-15 03:59:00Z',  3, 'year'),
 "sub_3_days":  date_add_str('2016-05-15 03:59:00Z', -3, 'day'),
 "sub_3_years": date_add_str('2016-05-15 03:59:00Z', -3, 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "add_3_days": "2016-05-18T03:59:00Z",
  "add_3_years": "2019-05-15T03:59:00Z",
  "sub_3_days": "2016-05-12T03:59:00Z",
  "sub_3_years": "2013-05-15T03:59:00Z"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-diff-millis"><a class="anchor" href="#datefun__fn-date-diff-millis"></a>date_diff_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_diff_millis(date1, date2, part)</pre>
</div>
</div>
</li>
<li>
<p>Finds the elapsed time between two Epoch/UNIX timestamps.
This elapsed time is measured from the date specified by <code>date2</code> to the date specified by <code>date1</code>.
If <code>date1</code> is greater than <code>date2</code>, then the value returned is positive, otherwise the value returned is
negative.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>date2</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the elapsed time (based on the specified <code>part</code>) between both dates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"add_3_days":  date_diff_millis(1463543940000, 1463284740000, 'day'),
 "add_3_years": date_diff_millis(1557892740000, 1463284740000, 'year'),
 "sub_3_days":  date_diff_millis(1463025540000, 1463284740000, 'day'),
 "sub_3_years": date_diff_millis(1368590340000, 1463284740000, 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "add_3_days": 3,
  "add_3_years": 3,
  "sub_3_days": -3,
  "sub_3_years": -3
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-diff-str"><a class="anchor" href="#datefun__fn-date-diff-str"></a>date_diff_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_diff_str(date1, date2, part)</pre>
</div>
</div>
</li>
<li>
<p>Finds the elapsed time between two dates specified as formatted strings.
This elapsed time is measured from the date specified by <code>date2</code> to the date specified by <code>date1</code>.
If <code>date1</code> is greater than <code>date2</code> then the value returned is positive, otherwise the value returned is
negative.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>date2</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the elapsed time (based on the specified <code>part</code>) between both dates.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"add_3_days":  date_diff_str('2016-05-18T03:59:00Z', '2016-05-15 03:59:00Z', 'day'),
 "add_3_years": date_diff_str('2019-05-15T03:59:00Z', '2016-05-15 03:59:00Z', 'year'),
 "sub_3_days":  date_diff_str('2016-05-12T03:59:00Z', '2016-05-15 03:59:00Z', 'day'),
 "sub_3_years": date_diff_str('2013-05-15T03:59:00Z', '2016-05-15 03:59:00Z', 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "add_3_days": 3,
  "add_3_years": 3,
  "sub_3_days": -3,
  "sub_3_years": -3
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-format-str"><a class="anchor" href="#datefun__fn-date-format-str"></a>date_format_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_format_str(date1, fmt)</pre>
</div>
</div>
</li>
<li>
<p>Converts datetime strings from one supported date string format to a different supported date string format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.</p>
<div class="paragraph">
<p>If this argument is not a valid date string then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>If an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string in the format specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_to_short": date_format_str('2016-05-15T00:00:23+00:00', '1111-11-11'),
 "short_to_full": date_format_str('2016-05-15', '1111-11-11T00:00:00+00:00'),
 "time_to_full":  date_format_str('01:10:05', '1111-11-11T01:01:01Z')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_to_short": "2016-05-15",
  "short_to_full": "2016-05-15T00:00:00+01:00",
  "time_to_full": "0000-01-01T01:10:05Z"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-part-millis"><a class="anchor" href="#datefun__fn-date-part-millis"></a>date_part_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_part_millis(date1, part [, tz])</pre>
</div>
</div>
</li>
<li>
<p>Extracts the value of a given date component from an Epoch/UNIX timestamp value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>tz</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#date-timezone">timezone</a> to convert the local time to.</p>
<div class="paragraph">
<p>This argument is optional.
  If not specified, it defaults to the system timezone.
  If an incorrect time zone is provided, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the value of the component extracted from the timestamp.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"day_local": date_part_millis(1463284740000, 'day'),
 "day_pst":   date_part_millis(1463284740000, 'day', 'America/Tijuana'),
 "day_utc":   date_part_millis(1463284740000, 'day', 'UTC'),
 "month":     date_part_millis(1463284740000, 'month'),
 "week":      date_part_millis(1463284740000, 'week'),
 "year":      date_part_millis(1463284740000, 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "day_local": 15,
  "day_pst": 14,
  "day_utc": 15,
  "month": 5,
  "week": 20,
  "year": 2016
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-part-str"><a class="anchor" href="#datefun__fn-date-part-str"></a>date_part_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_part_str(date1, part)</pre>
</div>
</div>
</li>
<li>
<p>Extracts the value of a given date component from a date string.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the value of the component extracted from the timestamp.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"day":         date_part_str('2016-05-15T03:59:00Z', 'day'),
 "millisecond": date_part_str('2016-05-15T03:59:00Z', 'millisecond'),
 "month":       date_part_str('2016-05-15T03:59:00Z', 'month'),
 "week":        date_part_str('2016-05-15T03:59:00Z', 'week'),
 "year":        date_part_str('2016-05-15T03:59:00Z', 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "day": 15,
  "millisecond": 0,
  "month": 5,
  "week": 20,
  "year": 2016
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-range-millis"><a class="anchor" href="#datefun__fn-date-range-millis"></a>date_range_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_range_millis(date1, date2, part [,n])</pre>
</div>
</div>
</li>
<li>
<p>Generates an array of dates from the start date specified by <code>date1</code> and the end date specified by <code>date2</code>, as
Epoch/UNIX timestamps.
The difference between each subsequent generated date can be adjusted.</p>
<div class="paragraph">
<p>It is possible to generate very large arrays using this function.
  In some cases the query engine may be unable to process all of these and cause excessive resource consumption.
  It is therefore recommended that you first validate the inputs to this function to ensure that the generated result
  is a reasonable size.</p>
</div>
<div class="paragraph">
<p>If the start date is greater than the end date passed to the function then an error is not thrown, but the
  result array is empty.
  An array of descending dates can be generated by setting the start date greater than the end date and specifying a
  negative value for <code>n</code>.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>date2</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the value that is subtracted from <code>date1</code>.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>n</code>: An integer, or an expression which evaluates to an integer, representing the value by which to
increment the part component for each generated date.</p>
<div class="paragraph">
<p>This argument is optional.
  If not specified, it defaults to 1.
  If a value which is not an integer is specified, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of integers representing the generated dates, as Epoch/UNIX timestamps, between <code>date1</code> and <code>date2</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"range_of_milliseconds_by_month":          date_range_millis(1480752000000, 1475478000000, 'month', -1),
 "range_of_milliseconds_by_previous_month": date_range_millis(1480752000000, 1449129600000, 'month', -1)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "range_of_milliseconds_by_month": [
    1480752000000,
    1478160000000
  ],
  "range_of_milliseconds_by_previous_month": [
    1480752000000,
    1478160000000,
    1475478000000,
    1472886000000,
    1470207600000,
    1467529200000,
    1464937200000,
    1462258800000,
    1459666800000,
    1456992000000,
    1454486400000,
    1451808000000
  ]
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-range-str"><a class="anchor" href="#datefun__fn-date-range-str"></a>date_range_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_range_str(start_date, end_date, date_interval [, quantity_int ])</pre>
</div>
</div>
</li>
<li>
<p>Generates an array of date strings between the start date and end date, calculated by the interval and quantity
values.
The input dates can be in any of the <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
formats</a>.</p>
<div class="paragraph">
<p>It is possible to generate very large arrays using this function.
  In some cases the query engine may be unable to process all of these and cause excessive resource consumption.
  It is therefore recommended that you first validate the inputs of this function to ensure that the generated result
  is a reasonable size.</p>
</div>
<div class="paragraph">
<p>If the <code>start_date</code> is greater than the <code>end_date</code>, an error is not thrown, but the result array is empty.
  An array of descending dates can be generated by setting the <code>start_date</code> greater than the <code>end_date</code> and
  specifying a negative value for <code>quantity_number</code>.</p>
</div>
<div class="paragraph">
<p>Both specified dates must have the same string format, otherwise <code>null</code> is returned.
  To ensure that both dates have the same format, you should use <a href="#datefun__fn-date-format-str">date_format_str()</a>.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>start_date</code>: A string, or an expression which evaluates to a string, representing a date in a
<a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date format</a>.
This is the date used as the start date of the array generation.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>end_date</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date used as the end date of the array generation.
This value is exclusive, that is, the end date is not included in the result.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>date_interval</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> of the date to increment.</p>
<div class="paragraph">
<p>If an invalid part is passed to the function, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>quantity_int</code>: An integer, or an expression which evaluates to an integer, representing the value by
which to increment the interval component for each generated date.</p>
<div class="paragraph">
<p>This argument is optional.
  If not specified, it defaults to 1.
  If a value which is not an integer is specified, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of strings representing the generated dates, as date strings, between <code>start_date</code> and <code>end_date</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"ranges_by_quarters":      date_range_str('2015-11-30T15:04:05.999', '2017-04-14T15:04:06.998', 'quarter'),
 "ranges_by_single_day":    date_range_str('2016-01-01T15:04:05.999', '2016-01-05T15:04:05.998', 'day', 1),
 "ranges_by_four_months":   date_range_str('2018-01-01','2019-01-01', 'month', 4),
 "ranges_by_previous_days": date_range_str('2016-01-05T15:04:05.999', '2016-01-01T15:04:06.998', 'day', -1),
 "ranges_by_month":         date_range_str('2015-01-01T01:01:01', '2015-12-11T00:00:00', 'month', 1)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "ranges_by_quarters": [
    "2015-11-30T15:04:05.999",
    "2016-02-29T15:04:05.999",
    "2016-05-29T15:04:05.999",
    "2016-08-29T15:04:05.999",
    "2016-11-29T15:04:05.999",
    "2017-02-28T15:04:05.999"
  ],
  "ranges_by_single_day": [
    "2016-01-01T15:04:05.999",
    "2016-01-02T15:04:05.999",
    "2016-01-03T15:04:05.999",
    "2016-01-04T15:04:05.999"
  ],
  "ranges_by_four_months": [
    "2018-01-01",
    "2018-05-01",
    "2018-09-01"
  ],
  "ranges_by_previous_days": [
    "2016-01-05T15:04:05.999",
    "2016-01-04T15:04:05.999",
    "2016-01-03T15:04:05.999",
    "2016-01-02T15:04:05.999"
  ],
  "ranges_by_month": [
    "2015-01-01T01:01:01",
    "2015-02-01T01:01:01",
    "2015-03-01T01:01:01",
    "2015-04-01T01:01:01",
    "2015-05-01T01:01:01",
    "2015-06-01T01:01:01",
    "2015-07-01T01:01:01",
    "2015-08-01T01:01:01",
    "2015-09-01T01:01:01",
    "2015-10-01T01:01:01",
    "2015-11-01T01:01:01",
    "2015-12-01T01:01:01"
  ]
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-trunc-millis"><a class="anchor" href="#datefun__fn-date-trunc-millis"></a>date_trunc_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_trunc_millis(date1, part)</pre>
</div>
</div>
</li>
<li>
<p>Truncates an Epoch/UNIX timestamp up to the specified date component.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the date used as the date to truncate.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> to truncate to.</p>
<div class="paragraph">
<p>If an invalid part is specified, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the truncated timestamp in Epoch/UNIX time.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"day":   date_trunc_millis(1463284740000, 'day'),
 "month": date_trunc_millis(1463284740000, 'month'),
 "year":  date_trunc_millis(1463284740000, 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "day": 1463270400000,
  "month": 1462060800000,
  "year": 1451606400000
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-trunc-str"><a class="anchor" href="#datefun__fn-date-trunc-str"></a>date_trunc_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>date_trunc_str(date1, part)</pre>
</div>
</div>
</li>
<li>
<p>Truncates a date string up to the specified date component.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date that is truncated.</p>
<div class="paragraph">
<p>If this argument is not a valid date format, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>part</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#manipulating-components">component</a> to truncate to.</p>
<div class="paragraph">
<p>If an invalid part is specified, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string representing the truncated date.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"day":   date_trunc_str('2016-05-18T03:59:00Z', 'day'),
 "month": date_trunc_str('2016-05-18T03:59:00Z', 'month'),
 "year":  date_trunc_str('2016-05-18T03:59:00Z', 'year')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "day": "2016-05-18T00:00:00Z",
  "month": "2016-05-01T00:00:00Z",
  "year": "2016-01-01T00:00:00Z"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-duration-to-str"><a class="anchor" href="#datefun__fn-date-duration-to-str"></a>duration_to_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>duration_to_str(duration)</pre>
</div>
</div>
</li>
<li>
<p>Converts a number into a human-readable time duration with units.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>duration</code>: A number, or an expression which evaluates to a number, which represents the duration to convert to a
string.
This value is specified in nanoseconds (110<sup>-9</sup> seconds).</p>
<div class="paragraph">
<p>If a value which is not a number is specified, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A string representing the human-readable duration.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"microsecs": duration_to_str(2000),
 "millisecs": duration_to_str(2000000),
 "secs":      duration_to_str(2000000000)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "microsecs": "2s",
  "millisecs": "2ms",
  "secs": "2s"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-millis"><a class="anchor" href="#datefun__fn-date-millis"></a>millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>millis(date1)</pre>
</div>
</div>
</li>
<li>
<p>Converts a date string to Epoch/UNIX milliseconds.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date to convert to Epoch/UNIX milliseconds.</p>
<div class="paragraph">
<p>If this argument is not a valid date format. then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the date string converted to Epoch/UNIX milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"DateStringInMilliseconds": millis("2016-05-15T03:59:00Z")};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "DateStringInMilliseconds": 1463284740000
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-millis-to-str"><a class="anchor" href="#datefun__fn-date-millis-to-str"></a>millis_to_str (millis_to_local)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>millis_to_str(date1 [, fmt ])</pre>
</div>
</div>
</li>
<li>
<p>Converts an Epoch/UNIX timestamp into the specified date string format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the date to convert.</p>
<div class="literalblock">
<div class="content">
<pre>If this argument is not an integer, then `null` is returned.</pre>
</div>
</div>
</li>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string representing the local date in the specified format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_date":      millis_to_str(1463284740000),
 "invalid_format": millis_to_str(1463284740000, 'invalid format'),
 "short_date":     millis_to_str(1463284740000, '1111-11-11')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_date": "2016-05-15T04:59:00+01:00",
  "invalid_format": "2016-05-15T04:59:00+01:00",
  "short_date": "2016-05-15"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>millis_to_local</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-millis-to-tz"><a class="anchor" href="#datefun__fn-date-millis-to-tz"></a>millis_to_tz (millis_to_zone_name)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>millis_to_tz(date1, tz [, fmt])</pre>
</div>
</div>
</li>
<li>
<p>Converts an Epoch/UNIX timestamp into the specified time zone in the specified date string format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the date to convert.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>tz</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#date-timezone">timezone</a> to convert the local time to.</p>
<div class="paragraph">
<p>This argument is optional. If not specified, it defaults to the system timezone.</p>
</div>
<div class="paragraph">
<p>If an incorrect time zone is provided, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string representing the date in the specified timezone in the specified format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"est": millis_to_tz(1463284740000, 'America/New_York'),
 "ist": millis_to_tz(1463284740000, 'Asia/Kolkata'),
 "utc": millis_to_tz(1463284740000, 'UTC')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "est": "2016-05-14T23:59:00-04:00",
  "ist": "2016-05-15T09:29:00+05:30",
  "utc": "2016-05-15T03:59:00Z"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>millis_to_zone_name</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-millis-to-utc"><a class="anchor" href="#datefun__fn-date-millis-to-utc"></a>millis_to_utc</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>millis_to_utc(date1 [, fmt])</pre>
</div>
</div>
</li>
<li>
<p>Converts an Epoch/UNIX timestamp into local time in the specified date string format.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.
This is the date to convert to UTC.</p>
<div class="paragraph">
<p>If this argument is not an integer, then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>fmt</code>: A string, or an expression which evaluates to a string, representing a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a> to use for the result.</p>
<div class="paragraph">
<p>This argument is optional.
  If no format or an incorrect format is specified, it defaults to the combined full date and time.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A date string representing the date in UTC in the specified format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_date":      millis_to_utc(1463284740000),
 "invalid_format": millis_to_utc(1463284740000, 'invalid format'),
 "short_date":     millis_to_utc(1463284740000, '1111-11-11')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_date": "2016-05-15T03:59:00Z",
  "invalid_format": "2016-05-15T03:59:00Z",
  "short_date": "2016-05-15"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-str-to-duration"><a class="anchor" href="#datefun__fn-date-str-to-duration"></a>str_to_duration</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>str_to_duration(duration)</pre>
</div>
</div>
</li>
<li>
<p>Converts a string representation of a time duration into nanoseconds.
This accepts the following units:</p>
<div class="ulist">
<ul>
<li>
<p>nanoseconds (<code>ns</code>)</p>
</li>
<li>
<p>microseconds (<code>us</code> or <code>s</code>)</p>
</li>
<li>
<p>milliseconds (<code>ms</code>)</p>
</li>
<li>
<p>seconds (<code>s</code>)</p>
</li>
<li>
<p>minutes (<code>m</code>)</p>
</li>
<li>
<p>hours (<code>h</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>duration</code>: A string, or an expression which evaluates to a string, representing the duration to convert.</p>
<div class="paragraph">
<p>If an invalid duration string is specified, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A single integer representing the duration in nanoseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"hour":        str_to_duration('1h'),
 "microsecond": str_to_duration('1us'),
 "millisecond": str_to_duration('1ms'),
 "minute":      str_to_duration('1m'),
 "nanosecond":  str_to_duration('1ns'),
 "second":      str_to_duration('1s')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "hour": 3600000000000,
  "microsecond": 1000,
  "millisecond": 1000000,
  "minute": 60000000000,
  "nanosecond": 1,
  "second": 1000000000
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-str-to-millis"><a class="anchor" href="#datefun__fn-date-str-to-millis"></a>str_to_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>str_to_millis(date1)</pre>
</div>
</div>
</li>
<li>
<p>Converts a date string to Epoch/UNIX milliseconds.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date to convert to Epoch/UNIX milliseconds.</p>
<div class="paragraph">
<p>If this argument is not a valid date format, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer representing the date string converted to Epoch/UNIX milliseconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"Milliseconds": str_to_millis("2016-05-15T03:59:00Z")};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "Milliseconds": 1463284740000
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-str-to-utc"><a class="anchor" href="#datefun__fn-date-str-to-utc"></a>str_to_utc</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>str_to_utc(date1)</pre>
</div>
</div>
</li>
<li>
<p>Converts a date string into the equivalent date in UTC.
The output date format follows the date format of the date passed as input.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date to convert to UTC.</p>
<div class="paragraph">
<p>If this argument is not a valid date format, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A single date string representing the date string converted to UTC.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"full_date":  str_to_utc('1111-11-11T00:00:00+08:00'),
 "short_date": str_to_utc('1111-11-11')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "full_date": "1111-11-10T16:00:00Z",
  "short_date": "1111-11-11"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-str-to-tz"><a class="anchor" href="#datefun__fn-date-str-to-tz"></a>str_to_tz (str_to_zone_name)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>str_to_tz(date1, tz)</pre>
</div>
</div>
</li>
<li>
<p>Converts a date string to its equivalent in the specified timezone.
The output date format follows the date format of the date passed as input.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date1</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date to convert to UTC.</p>
<div class="paragraph">
<p>If this argument is not a valid date format then <code>null</code> is returned.</p>
</div>
</li>
<li>
<p><code>tz</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#date-timezone">timezone</a> to convert the local time to.</p>
<div class="paragraph">
<p>If this argument is not a valid timezone, then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A single date string representing the date string converted to the specified timezone.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"est":       str_to_tz('1111-11-11T00:00:00+08:00', 'America/New_York'),
 "utc":       str_to_tz('1111-11-11T00:00:00+08:00', 'UTC'),
 "utc_short": str_to_tz('1111-11-11', 'UTC')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "est": "1111-11-10T11:00:00-05:00",
  "utc": "1111-11-10T16:00:00Z",
  "utc_short": "1111-11-11"
}</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>str_to_zone_name</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-weekday-millis"><a class="anchor" href="#datefun__fn-date-weekday-millis"></a>weekday_millis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>weekday_millis(expr [, tz ])</pre>
</div>
</div>
</li>
<li>
<p>Converts a date string to its equivalent in the specified timezone.
The output date format follows the date format of the date passed as input.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: An integer, or an expression which evaluates to an integer, representing an Epoch/UNIX timestamp in
milliseconds.</p>
</li>
<li>
<p><code>tz</code>: A string, or an expression which evaluates to a string, representing the
<a href="../n1ql/n1ql-language-reference/datefun.html#date-timezone">timezone</a> for the <code>expr</code> argument.</p>
<div class="paragraph">
<p>This argument is optional.
  If not specified, it defaults to the system timezone.
  If an incorrect time zone is provided then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A single date string representing the date string converted to the specified timezone.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"Day": weekday_millis(1486237655742, 'America/Tijuana')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "Day": "Saturday"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datefun__fn-date-weekday-str"><a class="anchor" href="#datefun__fn-date-weekday-str"></a>weekday_str</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>weekday_str(date)</pre>
</div>
</div>
</li>
<li>
<p>Returns the day of the week string value from the input date string.
Returns the weekday name from the input date in Unix timestamp.
Note that his function returns the string value of the day of the week, whereas
<a href="#datefun__fn-date-part-str">date_part_str()</a> with <code>part</code> = "dow" returns an integer value of the weekday (0-6).</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>date</code>: A string, or an expression which evaluates to a string, representing a date in a <a href="../n1ql/n1ql-language-reference/datefun.html#date-formats">supported date
format</a>.
This is the date to convert to UTC.</p>
<div class="paragraph">
<p>If this argument is not a valid date format then <code>null</code> is returned.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The text string name of the day of the week, such as "Monday" or "Friday".</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"Day": weekday_str('2017-02-05')};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "Day": "Sunday"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ObjectFunctions"><a class="anchor" href="#ObjectFunctions"></a>Object Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="object_add"><a class="anchor" href="#object_add"></a>object_add</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_add(object, new_attr_key, new_attr_value)</pre>
</div>
</div>
</li>
<li>
<p>Adds a new field (name-value pair) to a given object.
Note that this function does not update an existing field in a given object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
<li>
<p><code>new_attr_key</code>: A string, or an expression which evaluates to a string, representing a field name.</p>
</li>
<li>
<p><code>new_attr_value</code>: A value, or any expression which evaluates to a value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The original JSON object, also including the added field.</p>
</li>
<li>
<p>If you add a duplicate field (that is, if the name is found), this function returns the object unmodified.</p>
</li>
<li>
<p>If <code>new_attr_key</code> is NULL, it returns a NULL value.</p>
</li>
<li>
<p>If <code>new_attr_key</code> is MISSING, it returns a MISSING value.</p>
</li>
<li>
<p>If <code>new_attr_value</code> is MISSING, it returns the object unmodified.</p>
</li>
<li>
<p>If <code>object</code> is not an object, or NULL, it returns a NULL value object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_add({"a": 1}, "b", 2);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": 1,
  "b": 2
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_concat"><a class="anchor" href="#object_concat"></a>object_concat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_concat(obj1, obj2 ...)</pre>
</div>
</div>
</li>
<li>
<p>Concatenates the input objects.
This function requires a minimum of two input objects.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>obj1</code>, <code>obj2</code> &#8230;&#8203;: Objects, or expressions that evaluate to objects.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A concatenated JSON object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_concat({"abc":1},{"def":2},{"ghi":3});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "ghi": 3,
  "def": 2,
  "abc": 1
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_length"><a class="anchor" href="#object_length"></a>object_length</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_length(object)</pre>
</div>
</div>
</li>
<li>
<p>Counts the number of fields (name-value pairs) in an object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The number of fields in the object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_length({"abc":1, "def":2, "ghi":3});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>3</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_names"><a class="anchor" href="#object_names"></a>object_names</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_names(object)</pre>
</div>
</div>
</li>
<li>
<p>Returns the names of all fields (name-value pairs) in an object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array containing the field names of the object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_names({"a":1, "b":2, "c":3});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  "a",
  "b",
  "c"
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_pairs"><a class="anchor" href="#object_pairs"></a>object_pairs</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_pairs(object)</pre>
</div>
</div>
</li>
<li>
<p>Returns the names and values of all fields (name-value pairs) in an object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of objects, each of which contains the name and value of one field in the original object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_pairs({"abc":1, "def":2, "ghi":3});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "name": "abc",
    "value": 1
  },
  {
    "name": "def",
    "value": 2
  },
  {
    "name": "ghi",
    "value": 3
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_put"><a class="anchor" href="#object_put"></a>object_put</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_put(object, attr_key, attr_value)</pre>
</div>
</div>
</li>
<li>
<p>Adds a new field (name-value pair), or updates an existing field in a given object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
<li>
<p><code>attr_key</code>: A string, or an expression which evaluates to a string, representing a field name.</p>
</li>
<li>
<p><code>attr_value</code>: A value, or any expression which evaluates to a value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The original JSON object, also including the field.</p>
</li>
<li>
<p>If <code>attr_key</code> is found in the object, this function replaces the corresponding field value by <code>attr_value</code>.</p>
</li>
<li>
<p>If <code>attr_key</code> is MISSING, it returns a MISSING value.</p>
</li>
<li>
<p>If <code>attr_key</code> is not a string, it returns a NULL value.</p>
</li>
<li>
<p>If <code>attr_value</code> is MISSING, it deletes the corresponding existing field (if any), like <code>object_remove()</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_put({"a": 1, "b": 2}, "a", 3);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": 3,
  "b": 2
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_rename"><a class="anchor" href="#object_rename"></a>object_rename</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_rename(object, old_attr_key, new_attr_key)</pre>
</div>
</div>
</li>
<li>
<p>Renames a field (name-value pair) in the JSON input object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: Any JSON object, or N1QL expression that can evaluate to a JSON object.</p>
</li>
<li>
<p><code>old_attr_key</code>: A string, or an expression which evaluates to a string, representing the old (original)
field name inside the JSON object.</p>
</li>
<li>
<p><code>new_attr_key</code>: A string, or an expression which evaluates to a string, representing the new field name to
replace <code>old_attr_key</code> inside the JSON object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The JSON object <code>object</code> with the updated field name.</p>
</li>
<li>
<p>If <code>object</code> is not an object, or is NULL, the function returns a NULL value.</p>
</li>
<li>
<p>If <code>old_attr_key</code> or <code>new_attr_key</code> is not a string, or is NULL, the function returns a NULL value.</p>
</li>
<li>
<p>If any argument is MISSING, the function returns a MISSING value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_rename({"name": 1}, "name", "new_name");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "new_name": 1
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_remove"><a class="anchor" href="#object_remove"></a>object_remove</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_remove(object, attr_key)</pre>
</div>
</div>
</li>
<li>
<p>Removes the specified field (name-value pair) from the given object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
<li>
<p><code>attr_key</code>: A string, or an expression which evaluates to a string, representing the name of the field to remove.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The updated object.</p>
</li>
<li>
<p>If <code>object</code> is NULL, or is not an object, the function returns a NULL value.</p>
</li>
<li>
<p>If <code>attr_key</code> is NULL, or is not a string, the function returns a NULL value.</p>
</li>
<li>
<p>If any argument is MISSING, the function returns a MISSING value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>object_remove({"abc": 1, "def": 2, "ghi": 3}, "def");</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "abc": 1,
  "ghi": 3
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_replace"><a class="anchor" href="#object_replace"></a>object_replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_replace(object, old_attr_value, new_attr_value)</pre>
</div>
</div>
</li>
<li>
<p>Replaces all occurrences of a value in the JSON input object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: Any JSON object, or N1QL expression that can evaluate to a JSON object.</p>
</li>
<li>
<p><code>old_attr_value</code>: A value, or any expression which evaluates to a value, representing the old (original)
value inside the JSON object.</p>
</li>
<li>
<p><code>new_attr_value</code>: A value, or any expression which evaluates to a value, representing the new value to
replace <code>old_attr_value</code> inside the JSON object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The JSON object <code>object</code> with the new value.</p>
</li>
<li>
<p>If <code>object</code> is not an object, the function returns a NULL value.</p>
</li>
<li>
<p>If <code>object</code> or <code>old_attr_value</code> is NULL, the function returns a NULL value.</p>
</li>
<li>
<p>If any argument is MISSING, the function returns a MISSING value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_replace({"abc": 1, "def": 2, "ghi": 3}, 3, "xyz");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "abc": 1,
  "def": 2,
  "ghi": "xyz"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_unwrap"><a class="anchor" href="#object_unwrap"></a>object_unwrap</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_unwrap(object)</pre>
</div>
</div>
</li>
<li>
<p>Enables you to unwrap the value from an object containing a single field (name-value pair).</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object, containing exactly one field.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The value from the field.</p>
</li>
<li>
<p>If the <code>object</code> is MISSING, this function returns MISSING.</p>
</li>
<li>
<p>For all other cases, or if the <code>object</code> contains more than one field, it returns NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": object_unwrap({"name": "value"}),
  "v2": object_unwrap(MISSING),
  "v3": object_unwrap({"name": "value", "name2": "value2"}),
  "v4": object_unwrap("some_string") };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": "value",
  "v3": null,
  "v4": null
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="object_values"><a class="anchor" href="#object_values"></a>object_values</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>object_values(object)</pre>
</div>
</div>
</li>
<li>
<p>Returns the values from all the fields (name-value pairs) in the object.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>object</code>: An object, or an expression that evaluates to an object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array which contains the values from all the fields in the object.</p>
</li>
<li>
<p>If the <code>object</code> is MISSING, this function returns MISSING.</p>
</li>
<li>
<p>If the <code>object</code> is NULL or not an object, it returns NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>object_values({"abc":1, "def":2, "ghi":3});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  2,
  3
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="AggregateFunctions"><a class="anchor" href="#AggregateFunctions"></a>Aggregate Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains detailed descriptions of the built-in aggregate functions in the query language.</p>
</div>
<div class="paragraph">
<p>The query language also supports standard SQL aggregate functions (e.g., <code>MIN</code>, <code>MAX</code>, <code>SUM</code>, <code>COUNT</code>, and <code>AVG</code>).
Note that these are not real functions in the query language, but just syntactic sugars over corresponding
builtin aggregate functions (e.g., <code>ARRAY_MIN</code>, <code>ARRAY_MAX</code>,
<code>ARRAY_SUM</code>, <code>ARRAY_COUNT</code>, and <code>ARRAY_AVG</code>).
Refer to <a href="3_query.html#SQL-92_aggregation_functions">SQL-92 Aggregation Functions</a> for details.</p>
</div>
<div class="paragraph">
<p>The <code>DISTINCT</code> keyword may be used with built-in aggregate functions and standard SQL aggregate functions.
It may also be used with aggregate functions used as window functions.
It determines whether the function aggregates all values in the group, or distinct values only.
Refer to <a href="3_query.html#Aggregation_functions">Aggregation Functions</a> for details.</p>
</div>
<div class="paragraph">
<p>Aggregate functions may be used as window functions when they are used with an OVER clause.
Refer to <a href="3_query.html#Over_clauses">OVER Clauses</a> for details.</p>
</div>
<div class="sect2">
<h3 id="array_count"><a class="anchor" href="#array_count"></a>array_count</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_count(collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the number of non-null and non-missing items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> to be counted,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of non-null and non-missing items in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause an error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_count( ['hello', 'world', 1, 2, 3, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>5</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_avg"><a class="anchor" href="#array_avg"></a>array_avg</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_avg(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the average value of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the average of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_avg( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>1.725</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_sum"><a class="anchor" href="#array_sum"></a>array_sum</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_sum(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sum of non-null and non-missing items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the sum of the non-null and non-missing numbers in the given collection.
The returning type is decided by the item type with the highest
order in the numeric type promotion order (<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>) among
items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_sum( [1.2, 2.3, 3.4, 0, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>6.9</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_min"><a class="anchor" href="#array_min"></a>array_min</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_min(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the min value of non-null and non-missing comparable items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the min value of non-null and non-missing values in the given collection.
The returning type is decided by the item type with the highest order in the
type promotion order (<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>) among numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_min( [1.2, 2.3, 3.4, 0, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>0.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_max"><a class="anchor" href="#array_max"></a>array_max</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_max(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the max value of the non-null and non-missing comparable items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the max value of non-null and non-missing numbers in the given collection.
The returning type is decided by the item type with the highest order in the
type promotion order (<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>) among numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_max( [1.2, 2.3, 3.4, 0, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>3.4</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_stddev_samp"><a class="anchor" href="#array_stddev_samp"></a>array_stddev_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_stddev_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample standard deviation value of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample standard deviation of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_stddev_samp( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>1.4591664287073858</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_stddev_pop"><a class="anchor" href="#array_stddev_pop"></a>array_stddev_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_stddev_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population standard deviation value of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population standard deviation of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_stddev_pop( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>1.2636751956100112</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_var_samp"><a class="anchor" href="#array_var_samp"></a>array_var_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_var_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample variance value of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample variance of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_var_samp( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>2.1291666666666664</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_var_pop"><a class="anchor" href="#array_var_pop"></a>array_var_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_var_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population variance value of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population variance of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_var_pop( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>1.5968749999999998</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_skewness"><a class="anchor" href="#array_skewness"></a>array_skewness</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_skewness(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the skewness value of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the skewness of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_skewness( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>-0.04808451539164242</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_kurtosis"><a class="anchor" href="#array_kurtosis"></a>array_kurtosis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_kurtosis(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the kurtosis value from the normal distribution of the non-null and non-missing numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the kurtosis from a normal distribution of the non-null and non-missing numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if the given collection does not contain any non-null and non-missing items,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_kurtosis( [1.2, 2.3, 3.4, 0, null] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>-1.342049701096427</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_count"><a class="anchor" href="#strict_count"></a>strict_count</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_count(collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the number of items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing the items to be counted,</p>
</li>
<li>
<p>or a <code>null</code> value,</p>
</li>
<li>
<p>or a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>bigint</code> value representing the number of items in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_count( [1, 2, null, missing] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>4</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_avg"><a class="anchor" href="#strict_avg"></a>strict_avg</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_avg(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the average value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the average of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_avg( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>200.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_sum"><a class="anchor" href="#strict_sum"></a>strict_sum</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_sum(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sum of the items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the sum of the numbers in the given collection. The returning type is decided by the item type with the highest
order in the numeric type promotion order (<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>) among
items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_sum( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>600</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_min"><a class="anchor" href="#strict_min"></a>strict_min</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_min(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the min value of comparable items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the min value of the given collection.
The returning type is decided by the item type with the highest order in the type promotion order
(<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>) among numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_min( [10.2, 100, 5] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>5.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_max"><a class="anchor" href="#strict_max"></a>strict_max</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_max(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the max value of numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code>,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The max value of the given collection.
The returning type is decided by the item type with the highest order in the type promotion order
(<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>) among numeric items.</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>multiple incomparable items in the input array or multiset will cause a type error,</p>
</li>
<li>
<p>any other non-array and non-multiset input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_max( [10.2, 100, 5] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>100.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_stddev_samp"><a class="anchor" href="#strict_stddev_samp"></a>strict_stddev_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_stddev_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample standard deviation value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample standard deviation of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_stddev_samp( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>100.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_stddev_pop"><a class="anchor" href="#strict_stddev_pop"></a>strict_stddev_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_stddev_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population standard deviation value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population standard deviation of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_stddev_pop( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>81.64965809277261</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_var_samp"><a class="anchor" href="#strict_var_samp"></a>strict_var_samp</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_var_samp(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the sample variance value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the sample variance of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_var_samp( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>10000.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_var_pop"><a class="anchor" href="#strict_var_pop"></a>strict_var_pop</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_var_pop(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the population variance value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the population variance of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_var_pop( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>6666.666666666667</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_skewness"><a class="anchor" href="#strict_skewness"></a>strict_skewness</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_skewness(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the skewness value of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the skewness of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_skewness( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>0.0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="strict_kurtosis"><a class="anchor" href="#strict_kurtosis"></a>strict_kurtosis</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>strict_kurtosis(num_collection)</pre>
</div>
</div>
</li>
<li>
<p>Gets the kurtosis value from the normal distribution of the numeric items in the given collection.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_collection</code> could be:</p>
<div class="ulist">
<ul>
<li>
<p>an <code>array</code> or <code>multiset</code> containing numeric values, <code>null</code>s or <code>missing</code>s,</p>
</li>
<li>
<p>or, a <code>null</code> value,</p>
</li>
<li>
<p>or, a <code>missing</code> value.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>double</code> value representing the kurtosis from a normal distribution of the numbers in the given collection,</p>
</li>
<li>
<p><code>null</code> is returned if the input is <code>null</code> or <code>missing</code>,</p>
</li>
<li>
<p><code>null</code> is returned if there is a <code>null</code> or <code>missing</code> in the input collection,</p>
</li>
<li>
<p>any other non-numeric value in the input collection will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>strict_kurtosis( [100, 200, 300] );</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>-1.5</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ArrayFunctions"><a class="anchor" href="#ArrayFunctions"></a>Array Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="array_append"><a class="anchor" href="#array_append"></a>array_append</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_append(list, val1, val2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Appends the supplied values to the input array or multiset.
Values can be NULL, meaning you can append NULLs.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>val1</code>, <code>val2</code> &#8230;&#8203;: Values, or expressions that evaluate to values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_append([1, 2, 3], "a", "z");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  2,
  3,
  "a",
  "z"
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_concat"><a class="anchor" href="#array_concat"></a>array_concat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_concat(list1, list2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Concatenates all the values from all the supplied arrays or multisets, in order, into a new array or multiset.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list1</code>, <code>list2</code> &#8230;&#8203;: Arrays or multisets, or expressions that evaluate to arrays or multisets.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if the input arguments are not all the same type&#8201;&#8212;&#8201;they must be all multisets or all arrays.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_concat([1, 2, 3], ["a", "b", "c"]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  2,
  3,
  "a",
  "b",
  "c"
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_contains"><a class="anchor" href="#array_contains"></a>array_contains</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_contains(list, val)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the the input array or multiset contains the value argument.
A string value argument is case-sensitive.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>val</code>: A value, or an expression that evaluates to a value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns true or false.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns an error if <code>val</code> is an array, multiset, or object.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is not an array.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"v1": array_contains([1, 2, 3], 1),
 "v2": array_contains([1, 2, 3], "a")};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": true,
  "v2": false
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_distinct"><a class="anchor" href="#array_distinct"></a>array_distinct</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_distinct(list)</pre>
</div>
</div>
</li>
<li>
<p>Returns all distinct items from the input array or multiset.
The <code>list</code> can contain NULL and MISSING items.
NULL and MISSING are considered to be the same.
String items are case-sensitive.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array if <code>list</code> is an array; returns a new multiset if <code>list</code> is a multiset.</p>
</li>
<li>
<p>Returns MISSING if <code>list</code> is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if any item in <code>list</code> is itself an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_distinct([1, 2, null, 4, missing, 2, 1]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  2,
  null,
  4
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_flatten"><a class="anchor" href="#array_flatten"></a>array_flatten</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_flatten(list, depth)</pre>
</div>
</div>
</li>
<li>
<p>Flattens any nested arrays or multisets up to the specified depth.
If <code>list</code> is an array, the function returns an array; if <code>list</code> is a multiset, it returns a multiset.
NULL and MISSING items are preserved.
If <code>depth</code> is less than 0, the function flattens all nested arrays and multisets, no matter how deeply nested.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>depth</code>: A number, or an expression that evaluates to a number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is not an array or multiset.</p>
</li>
<li>
<p>Returns NULL if <code>depth</code> is not numeric, or if it is not an integer value.
(For example, 1.2 will produce NULL; 1.0 is OK.)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"v1": array_flatten([2, null, [5, 6], 3, missing], 1),
 "v2": array_flatten([2, [5, 6], 3], 0)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": [
    2,
    null,
    5,
    6,
    3,
    null
  ],
  "v2": [
    2,
    [
      5,
      6
    ],
    3
  ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>where 0 depth does nothing.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_ifnull"><a class="anchor" href="#array_ifnull"></a>array_ifnull</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_ifnull(list)</pre>
</div>
</div>
</li>
<li>
<p>In an array, finds the first item that is not a NULL or MISSING.
In a multiset, finds an item that is not a NULL or MISSING&#8201;&#8212;&#8201;which item is undefined.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns the first non-NULL, non-MISSING item in an array, or any non-NULL, non-MISSING item in a multiset.
If all items are NULL or MISSING, it returns NULL.</p>
</li>
<li>
<p>Returns MISSING if the input array or multiset is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_ifnull([null, 1, 2]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>1</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_insert"><a class="anchor" href="#array_insert"></a>array_insert</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_insert(list, pos, val1, val2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Inserts the supplied values into the original array or multiset.
Values can be NULL, meaning you can insert NULLs.</p>
<div class="paragraph">
<p>When the input is an array, the supplied values are inserted at the specified position.
If the position is positive, the position before the first item is 0, the position before the second item is 1, and
so on.
If the position is negative, the position before the last item is -1, the position before the second-last item is -2,
and so on.
So for example, in the array [5,6], the valid positions are 0, 1, 2, -1, -2.
If the input array or multiset is empty, the only valid position is 0.
If the position is a floating-point number, it&#8217;s cast to integer.</p>
</div>
<div class="paragraph">
<p>When the input is a multiset, the location of the inserted values is undefined.
The position must be less than the size of the multiset.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>pos</code>: A number, or an expression that evaluates to a number.</p>
</li>
<li>
<p><code>val1</code>, <code>val2</code> &#8230;&#8203;: Values, or expressions that evaluate to values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns NULL if <code>pos</code> is not numeric, or the position is out of bound, or if it is NaN or INF, or if it is not
an integer value.
(For example, 1.2 will produce NULL; 1.0 is OK.)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"v1": array_insert([5, 6], 0, 7, 8),
 "v2": array_insert([5, 6], 1, 7, 8),
 "v3": array_insert([5, 6], 2, 7, 8),
 "v4": array_insert([5, 6], -1, 7, 8),
 "v5": array_insert([5, 6], -2, 7, 8)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": [
    7,
    8,
    5,
    6
  ],
  "v2": [
    5,
    7,
    8,
    6
  ],
  "v3": [
    5,
    6,
    7,
    8
  ],
  "v4": [
    5,
    7,
    8,
    6
  ],
  "v5": [
    7,
    8,
    5,
    6
  ]
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_intersect"><a class="anchor" href="#array_intersect"></a>array_intersect</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_intersect(list1, list2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Finds items that are present in all of the input arrays or multisets.
NULL and MISSING items are ignored.
String items are case-sensitive.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list1</code>, <code>list2</code> &#8230;&#8203;: Arrays or multisets, or expressions that evaluate to arrays or multisets.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if the input arguments are not all the same type&#8201;&#8212;&#8201;they must be all multisets or all arrays.</p>
</li>
<li>
<p>Returns an error if any item in an input array or multiset is itself an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_intersect([null, 2, missing], [3, missing, 2, null]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  2
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_length"><a class="anchor" href="#array_length"></a>array_length</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_length(list)</pre>
</div>
</div>
</li>
<li>
<p>Returns the number of items in the given array or multiset.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns an integer representing the number of items in the given array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns an error if <code>list</code> is not an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_length([1, 2, 3, 4]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>4</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_position"><a class="anchor" href="#array_position"></a>array_position</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_position(list, val)</pre>
</div>
</div>
</li>
<li>
<p>If <code>list</code> is an array, this function returns the position of <code>val</code> in the array, where the first position is 0.
If <code>list</code> is a multiset, the returned value is undefined.
A string value argument is case-sensitive.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>val</code>: A value, or an expression that evaluates to a value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns an integer giving the position of <code>val</code> in <code>list</code>, or -1 if <code>val</code> is not found.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns an error if <code>val</code> is an array, multiset, or object.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is not an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_position([1, 2, 3, 4], 1);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>0</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_prepend"><a class="anchor" href="#array_prepend"></a>array_prepend</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_prepend(val1, val2, ..., list)</pre>
</div>
</div>
</li>
<li>
<p>Prepends the supplied values to the input array or multiset.
Values can be NULL, meaning NULL values are prepended in the output.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>val1</code>, <code>val2</code> &#8230;&#8203;: Values, or expressions that evaluate to values.</p>
</li>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_prepend("a", "z", [1, 2, 3]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  "a",
  "z",
  1,
  2,
  3
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_put"><a class="anchor" href="#array_put"></a>array_put</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_put(list, val1, val2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Appends each supplied value to the input array or multiset, as long as the input array or multiset does not already
contain an item with that value.
Values cannot be NULL, meaning you cannot append NULLs.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>val1</code>, <code>val2</code> &#8230;&#8203;: Values, or expressions that evaluate to values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns an error if any value argument is an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_put([2, 3], 2, 2, 9, 9);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  2,
  3,
  9,
  9
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_range"><a class="anchor" href="#array_range"></a>array_range</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_range(start_num, end_num [, step_num])</pre>
</div>
</div>
</li>
<li>
<p>Returns an array of numbers, starting at <code>start_num</code> and ending immediately before <code>end_num</code>.
If specified, <code>step_num</code> determines the step between each number in the array; otherwise, the default step is 1.
The function returns an empty array if it cannot determine a proper sequence with the arguments given.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>start_num</code>: A number, or an expression that evaluates to a number.</p>
</li>
<li>
<p><code>end_num</code>: A number, or an expression that evaluates to a number.</p>
</li>
<li>
<p><code>step_num</code>: A number, or an expression that evaluates to a number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns NULL if any argument is not numeric, or if it is NaN, or INF.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"v1": array_range(1, 5),
 "v2": array_range(5, 1, -1),
 "v3": array_range(2, 20, -2),
 "v4": array_range(10, 3, 4),
 "v5": array_range(1, 6, 0)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": [
    1,
    2,
    3,
    4
  ],
  "v2": [
    5,
    4,
    3,
    2
  ],
  "v3": [],
  "v4": [],
  "v5": []
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_remove"><a class="anchor" href="#array_remove"></a>array_remove</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_remove(list, val1, val2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Removes all the supplied values from the input array or multiset.
Values cannot be NULL, meaning you cannot remove NULLs.
String value arguments are case-sensitive.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>val1</code>, <code>val2</code> &#8230;&#8203;: Values, or expressions that evaluate to values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array if <code>list</code> is an array; returns a new multiset if <code>list</code> is a multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns an error if any value argument is an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_remove([1, 2, 2, 3, 4], 2, 4);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  3
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_repeat"><a class="anchor" href="#array_repeat"></a>array_repeat</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_repeat(val, num_times)</pre>
</div>
</div>
</li>
<li>
<p>Returns an array containing the input value the specified number of times.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>val</code>: A value, or an expression that evaluates to a value.</p>
</li>
<li>
<p><code>num_times</code>: A number, or an expression that evaluates to a number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns an array.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL.</p>
</li>
<li>
<p>Returns NULL if <code>num_times</code> is not numeric, or if it is negative, NaN or INF, or if it is not an integer value.
(For example, 1.2 will produce NULL; 1.0 is OK.)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_repeat("abc", 3);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  "abc",
  "abc",
  "abc"
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_replace"><a class="anchor" href="#array_replace"></a>array_replace</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_replace(list, val1, val2 [, max_num_times])</pre>
</div>
</div>
</li>
<li>
<p>Replaces each occurrence of <code>val1</code> in the original array or multiset with <code>val2</code>.
If you supply the optional <code>max_num_times</code> argument, the function replaces <code>val1</code> the specified number of times.
If <code>max_num_times</code> is negative, the function replaces all occurrences.
The <code>val2</code> argument can be NULL, meaning you can replace existing items with NULLs.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
<li>
<p><code>val1</code>: A value, or an expression that evaluates to a value.</p>
</li>
<li>
<p><code>val2</code>: A value, or an expression that evaluates to a value.</p>
</li>
<li>
<p><code>max_num_times</code>: A number, or an expression that evaluates to a number.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL, except for <code>val2</code>.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is not an array or multiset.</p>
</li>
<li>
<p>Returns NULL if <code>num_times</code> is not numeric, or if it is not an integer value.
(For example, 1.2 will produce NULL; 1.0 is OK.)</p>
</li>
<li>
<p>Returns an error if <code>val1</code> is an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_replace([2,3,3,3,1], 3, 8, 2);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  2,
  8,
  8,
  3,
  1
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_reverse"><a class="anchor" href="#array_reverse"></a>array_reverse</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_reverse(list)</pre>
</div>
</div>
</li>
<li>
<p>If <code>list</code> is an array, this function returns an array with the order of items reversed.
If <code>list</code> is a multiset, the function returns the same multiset unchanged.
The <code>list</code> can contain NULL and MISSING items, and both are preserved.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if <code>list</code> is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_reverse([1, 2, 3, 4]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  4,
  3,
  2,
  1
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_sort"><a class="anchor" href="#array_sort"></a>array_sort</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_sort(list)</pre>
</div>
</div>
</li>
<li>
<p>If <code>list</code> is an array, this function returns an array with items sorted in ascending order.
If <code>list</code> is a multiset, the function returns the same multiset unchanged.
The <code>list</code> can contain NULL and MISSING items, and both are preserved.
String items are case-sensitive.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list</code>: An array or multiset, or an expression that evaluates to an array or multiset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if <code>list</code> is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>list</code> is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if any item in <code>list</code> is itself an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_sort([1, "Z", "a", "A", "z", 0, null]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  null,
  0,
  1,
  "A",
  "Z",
  "a",
  "z"
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_star"><a class="anchor" href="#array_star"></a>array_star</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_star(ordered_list)</pre>
</div>
</div>
</li>
<li>
<p>Takes an array of objects, such as <code>[{"id":1, "dept":"CS"}, {"id":2, "dept":"FIN"}, {"id":3, "dept":"CS"}]</code>, and
returns a new object summarizing the name-value pairs in the input array.
In the returned object, the name of each item is taken from a name-value pair found in the input array, and the value
of each item is an array of all the values associated with that name, taken from all objects in the input array.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>ordered_list</code>: An array, or an expression that evaluates to an array.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new object.</p>
</li>
<li>
<p>Returns MISSING if <code>ordered_list</code> is MISSING.</p>
</li>
<li>
<p>Returns NULL if <code>ordered_list</code> is NULL, or is not an array.</p>
</li>
<li>
<p>Returns MISSING if <code>ordered_list</code> has no concept of fields&#8201;&#8212;&#8201;for example, if the input array contains no object
items, such as a list of integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"v1": array_star([{"a":1, "b":2}, {"a":9, "b":4}]),
 "v2": array_star([{"a":1}, {"a":9, "b":4}]),
 "v3": array_star([{"a":1, "c":5}, {"a":9, "b":4}]),
 "v4": array_star([{"c":5, "a":1}, "non_object"]),
 "v5": array_star(["non_object1", "non_object2"])};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": {
    "a": [
      1,
      9
    ],
    "b": [
      2,
      4
    ]
  },
  "v2": {
    "a": [
      1,
      9
    ],
    "b": [
      null,
      4
    ]
  },
  "v3": {
    "a": [
      1,
      9
    ],
    "b": [
      null,
      4
    ],
    "c": [
      5,
      null
    ]
  },
  "v4": {
    "a": [
      1,
      null
    ],
    "c": [
      5,
      null
    ]
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>"v5"</code> is MISSING.</p>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the output object, name-value pairs are ordered by their names, regardless of their original order within the object items in the input array. So in example 4, in the output object, the pair named <code>"a"</code> comes before the pair named <code>"c"</code>. However, in the output object, the items within each array are not ordered: they appear in the sequence in which they are found in the input array. So in example 1, the pair named <code>"a"</code> has the value <code>[1, 9]</code>; the first item in the output array (which is <code>1</code>) is taken from the first object in the input array, and so on.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="array_symdiff"><a class="anchor" href="#array_symdiff"></a>array_symdiff</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_symdiff(list1, list2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Returns the set symmetric difference, or disjunctive union, of the input arrays or multisets.
The output contains only those items that appear in exactly one of the input arrays or multisets.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list1</code>, <code>list2</code> &#8230;&#8203;: Arrays or multisets, or expressions that evaluate to arrays or multisets.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if the input arguments are not all the same type&#8201;&#8212;&#8201;they must be all multisets or all arrays.</p>
</li>
<li>
<p>Returns an error if any item in an input array or multiset is itself an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_symdiff([1, 2], [1, 2, 4], [1, 3]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  4,
  3
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_symdiffn"><a class="anchor" href="#array_symdiffn"></a>array_symdiffn</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_symdiffn(list1, list2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Returns a new array or multiset based on the set symmetric difference, or disjunctive union, of the input arrays.
The new array or multiset contains only those items that appear in an odd number of input arrays.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list1</code>, <code>list2</code> &#8230;&#8203;: Arrays or multisets, or expressions that evaluate to arrays or multisets.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if the input arguments are not all the same type&#8201;&#8212;&#8201;they must be all multisets or all arrays.</p>
</li>
<li>
<p>Returns an error if any item in an input array or multiset is itself an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_symdiffn([1, 2], [1, 2, 4], [1, 3]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  4,
  3
]</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Refer to the following article for more information on the difference between a normal and n-ary symdiff: <a href="https://en.wikipedia.org/wiki/Symmetric_difference" class="bare">https://en.wikipedia.org/wiki/Symmetric_difference</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="array_union"><a class="anchor" href="#array_union"></a>array_union</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_union(list1, list2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Returns the set union of the input arrays (no duplicates).</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>list1</code>, <code>list2</code> &#8230;&#8203;: Arrays or multisets, or expressions that evaluate to arrays or multisets.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a new array or multiset.</p>
</li>
<li>
<p>Returns MISSING if any argument is MISSING.</p>
</li>
<li>
<p>Returns NULL if any argument is NULL, or is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if the input arguments are not all the same type&#8201;&#8212;&#8201;they must be all multisets or all arrays.</p>
</li>
<li>
<p>Returns an error if any item in an input array or multiset is itself an array, multiset, or object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>array_union([1, 2], [1, 2, 4], [1, 3]);</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  1,
  2,
  4,
  3
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ComparisonFunctions"><a class="anchor" href="#ComparisonFunctions"></a>Comparison Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="greatest"><a class="anchor" href="#greatest"></a>greatest</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>greatest(numeric_value1, numeric_value2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Computes the greatest value among arguments.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p>&#8230;&#8203;.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the greatest values among arguments.
The returning type is decided by the item type with the highest
order in the numeric type promotion order (<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>)
among items.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>missing</code> value or <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": greatest(1, 2, 3), "v2": greatest(float("0.5"), double("-0.5"), 5000) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 3, "v2": 5000.0 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="least"><a class="anchor" href="#least"></a>least</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>least(numeric_value1, numeric_value2, ...)</pre>
</div>
</div>
</li>
<li>
<p>Computes the least value among arguments.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>numeric_value1</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p><code>numeric_value2</code>: a <code>tinyint</code>/<code>smallint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code> value,</p>
</li>
<li>
<p>&#8230;&#8203;.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>the least values among arguments.
The returning type is decided by the item type with the highest
order in the numeric type promotion order (<code>tinyint</code>-&gt; <code>smallint</code>-&gt;<code>integer</code>-&gt;<code>bigint</code>-&gt;<code>float</code>-&gt;<code>double</code>)
among items.</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>missing</code> value or <code>null</code> value,</p>
</li>
<li>
<p>any other non-numeric input value will cause a type error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": least(1, 2, 3), "v2": least(float("0.5"), double("-0.5"), 5000) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 1, "v2": -0.5 }</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="TypeFunctions"><a class="anchor" href="#TypeFunctions"></a>Type Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="is_array"><a class="anchor" href="#is_array"></a>is_array</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_array(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be an <code>array</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is an <code>array</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": is_array(true),
  "b": is_array(false),
  "c": isarray(null),
  "d": isarray(missing),
  "e": isarray("d"),
  "f": isarray(4.0),
  "g": isarray(5),
  "h": isarray(["1", 2]),
  "i": isarray({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": false, "f": false, "g": false, "h": true, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isarray</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_atomic-is_atom"><a class="anchor" href="#is_atomic-is_atom"></a>is_atomic (is_atom)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_atomic(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a value of a <a href="9_data_type.html#PrimitiveTypes">primitive</a> type.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a primitive type or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": is_atomic(true),
  "b": is_atomic(false),
  "c": isatomic(null),
  "d": isatomic(missing),
  "e": isatomic("d"),
  "f": isatom(4.0),
  "g": isatom(5),
  "h": isatom(["1", 2]),
  "i": isatom({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": null, "e": true, "f": true, "g": true, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isatomic</code>, <code>is_atom</code>, and <code>isatom</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_boolean-is_bool"><a class="anchor" href="#is_boolean-is_bool"></a>is_boolean (is_bool)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_boolean(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>boolean</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>boolean</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": isboolean(true),
  "b": isboolean(false),
  "c": is_boolean(null),
  "d": is_boolean(missing),
  "e": isbool("d"),
  "f": isbool(4.0),
  "g": isbool(5),
  "h": isbool(["1", 2]),
  "i": isbool({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": null, "e": false, "f": false, "g": false, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isboolean</code>, <code>is_bool</code>, and <code>isbool</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_number-is_num"><a class="anchor" href="#is_number-is_num"></a>is_number (is_num)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_number(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a numeric value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>smallint</code>/<code>tinyint</code>/<code>integer</code>/<code>bigint</code>/<code>float</code>/<code>double</code>
value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": is_number(true),
  "b": is_number(false),
  "c": isnumber(null),
  "d": isnumber(missing),
  "e": isnumber("d"),
  "f": isnum(4.0),
  "g": isnum(5),
  "h": isnum(["1", 2]),
  "i": isnum({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": false, "f": true, "g": true, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isnumber</code>, <code>is_num</code>, and <code>isnum</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_object-is_obj"><a class="anchor" href="#is_object-is_obj"></a>is_object (is_obj)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_object(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>object</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>object</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": is_object(true),
  "b": is_object(false),
  "c": isobject(null),
  "d": isobject(missing),
  "e": isobj("d"),
  "f": isobj(4.0),
  "g": isobj(5),
  "h": isobj(["1", 2]),
  "i": isobj({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": false, "f": false, "g": false, "h": false, "i": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isobject</code>, <code>is_obj</code>, and <code>isobj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_string-is_str"><a class="anchor" href="#is_string-is_str"></a>is_string (is_str)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_string(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>string</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the argument is a <code>string</code> value or not,</p>
</li>
<li>
<p>a <code>missing</code> if the argument is a <code>missing</code> value,</p>
</li>
<li>
<p>a <code>null</code> if the argument is a <code>null</code> value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "a": is_string(true),
  "b": isstring(false),
  "c": isstring(null),
  "d": isstr(missing),
  "e": isstr("d"),
  "f": isstr(4.0),
  "g": isstr(5),
  "h": isstr(["1", 2]),
  "i": isstr({"a":1})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": false, "b": false, "c": null, "e": true, "f": false, "g": false, "h": false, "i": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>isstring</code>, <code>is_str</code>, and <code>isstr</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_null"><a class="anchor" href="#is_null"></a>is_null</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_null(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>null</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the variable is a <code>null</code> or not,</p>
</li>
<li>
<p>a <code>missing</code> if the input is <code>missing</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": is_null(null), "v2": is_null(1), "v3": is_null(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isnull</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_missing"><a class="anchor" href="#is_missing"></a>is_missing</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_missing(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given expression is evaluated to be a <code>missing</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the variable is a <code>missing</code> or not.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": is_missing(null), "v2": is_missing(1), "v3": is_missing(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": false, "v2": false, "v3": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ismissing</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="is_unknown"><a class="anchor" href="#is_unknown"></a>is_unknown</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>is_unknown(expr)</pre>
</div>
</div>
</li>
<li>
<p>Checks whether the given variable is a <code>null</code> value or a <code>missing</code> value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>boolean</code> on whether the variable is a <code>null</code>/<code>missing</code> value (<code>true</code>) or not (<code>`false</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": is_unknown(null), "v2": is_unknown(1), "v3": is_unknown(missing) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": true, "v2": false, "v3": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isunknown</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_array"><a class="anchor" href="#to_array"></a>to_array</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_array(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to an <code>array</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code> type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>multiset</code> type then it is returned as an <code>array</code> with elements in an undefined order</p>
</li>
<li>
<p>otherwise an <code>array</code> containing the input expression as its single item is returned</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_array("asterix"),
  "v2": to_array(["asterix"]),
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": ["asterix"], "v2": ["asterix"] }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>toarray</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_atomic-to_atom"><a class="anchor" href="#to_atomic-to_atom"></a>to_atomic (to_atom)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_atomic(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a <a href="9_data_type.html#PrimitiveTypes">primitive</a> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of primitive type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>array</code> or <code>multiset</code> type and has only one element then the result of invoking
to_atomic() on that element is returned</p>
</li>
<li>
<p>if the argument is of <code>object</code> type and has only one field then the result of invoking to_atomic() on the
value of that field is returned</p>
</li>
<li>
<p>otherwise <code>null</code> is returned</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_atomic("asterix"),
  "v2": to_atomic(["asterix"]),
  "v3": to_atomic([0, 1]),
  "v4": to_atomic({"value": "asterix"}),
  "v5": to_number({"x": 1, "y": 2})
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": "asterix", "v2": "asterix", "v3": null, "v4": "asterix", "v5": null }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>toatomic</code>, <code>to_atom</code>, and <code>toatom</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_boolean-to_bool"><a class="anchor" href="#to_boolean-to_bool"></a>to_boolean (to_bool)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_boolean(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a <code>boolean</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then it is returned as is</p>
</li>
<li>
<p>if the argument is of numeric type then <code>false</code> is returned if it is <code>0</code> or <code>NaN</code>, otherwise <code>true</code></p>
</li>
<li>
<p>if the argument is of <code>string</code> type then <code>false</code> is returned if it&#8217;s empty, otherwise <code>true</code></p>
</li>
<li>
<p>if the argument is of <code>array</code> or <code>multiset</code> type then <code>false</code> is returned if it&#8217;s size is <code>0</code>, otherwise <code>true</code></p>
</li>
<li>
<p>if the argument is of <code>object</code> type then <code>false</code> is returned if it has no fields, otherwise <code>true</code></p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_boolean(0),
  "v2": to_boolean(1),
  "v3": to_boolean(""),
  "v4": to_boolean("asterix")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": false, "v2": true, "v3": false, "v4": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>toboolean</code>, <code>to_bool</code>, and <code>tobool</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_bigint"><a class="anchor" href="#to_bigint"></a>to_bigint</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_bigint(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to an integer value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>1</code> is returned if it is <code>true</code>, <code>0</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of numeric integer type then it is returned as the same value of <code>bigint</code> type</p>
</li>
<li>
<p>if the argument is of numeric <code>float</code>/<code>double</code> type then it is converted to <code>bigint</code> type</p>
</li>
<li>
<p>if the argument is of <code>string</code> type and can be parsed as integer then that integer value is returned,
otherwise <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_bigint(false),
  "v2": to_bigint(true),
  "v3": to_bigint(10),
  "v4": to_bigint(float("1e100")),
  "v5": to_bigint(double("1e1000")),
  "v6": to_bigint("20")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0, "v2": 1, "v3": 10, "v4": 9223372036854775807, "v5": 9223372036854775807, "v6": 20 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>tobigint</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_double"><a class="anchor" href="#to_double"></a>to_double</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_double(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a <code>double</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>1.0</code> is returned if it is <code>true</code>, <code>0.0</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of numeric type then it is returned as the value of <code>double</code> type</p>
</li>
<li>
<p>if the argument is of <code>string</code> type and can be parsed as <code>double</code> then that <code>double</code> value is returned,
otherwise <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_double(false),
  "v2": to_double(true),
  "v3": to_double(10),
  "v4": to_double(11.5),
  "v5": to_double("12.5")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0.0, "v2": 1.0, "v3": 10.0, "v4": 11.5, "v5": 12.5 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>todouble</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_number-to_num"><a class="anchor" href="#to_number-to_num"></a>to_number (to_num)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_number(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a numeric value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of numeric type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>1</code> is returned if it is <code>true</code>, <code>0</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of <code>string</code> type and can be parsed as <code>bigint</code> then that <code>bigint</code> value is returned,
otherwise if it can be parsed as <code>double</code> then that <code>double</code> value is returned,
otherwise <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_number(false),
  "v2": to_number(true),
  "v3": to_number(10),
  "v4": to_number(11.5),
  "v5": to_number("12.5")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": 0, "v2": 1, "v3": 10, "v4": 11.5, "v5": 12.5 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>tonumber</code>, <code>to_num</code>, and <code>tonum</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_object-to_obj"><a class="anchor" href="#to_object-to_obj"></a>to_object (to_obj)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_object(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to an <code>object</code> value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>object</code> type then it is returned as is</p>
</li>
<li>
<p>otherwise an empty <code>object</code> is returned</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_object({"value": "asterix"}),
  "v2": to_object("asterix")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": {"value": "asterix"}, "v2": {} }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>toobject</code>, <code>to_obj</code>, and <code>toobj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="to_string-to_str"><a class="anchor" href="#to_string-to_str"></a>to_string (to_str)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>to_string(expr)</pre>
</div>
</div>
</li>
<li>
<p>Converts input value to a string value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>if the argument is <code>missing</code> then <code>missing</code> is returned</p>
</li>
<li>
<p>if the argument is <code>null</code> then <code>null</code> is returned</p>
</li>
<li>
<p>if the argument is of <code>boolean</code> type then <code>"true"</code> is returned if it is <code>true</code>, <code>"false"</code> if it is <code>false</code></p>
</li>
<li>
<p>if the argument is of numeric type then its string representation is returned</p>
</li>
<li>
<p>if the argument is of <code>string</code> type then it is returned as is</p>
</li>
<li>
<p>if the argument is of <code>array</code>/<code>multiset</code>/<code>object</code> type then <code>null</code> is returned</p>
</li>
<li>
<p>type error is raised for all other input types</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": to_string(false),
  "v2": to_string(true),
  "v3": to_string(10),
  "v4": to_string(11.5),
  "v5": to_string("asterix")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "v1": "false", "v2": "true", "v3": "10", "v4": "11.5", "v5": "asterix" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has three aliases: <code>tostring</code>, <code>to_str</code>, and <code>tostr</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="typename"><a class="anchor" href="#typename"></a>typename</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>typename(expr)</pre>
</div>
</div>
</li>
<li>
<p>Returns the type of an expression.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: an expression.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>Returns a string, depending on the type of <code>expr</code>: number, string, array, object, or boolean.</p>
</li>
<li>
<p>Returns NULL if <code>expr</code> is NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{"v1": typename(123),
 "v2": typename("abc"),
 "v3": typename([1, 2, 3]),
 "v4": typename({"abc": 123}),
 "v5": typename(true)};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "v1": "number",
  "v2": "string",
  "v3": "array",
  "v4": "object",
  "v5": "boolean"
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="array_infer_schema"><a class="anchor" href="#array_infer_schema"></a>array_infer_schema</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>array_infer_schema(collection[, parameters])</pre>
</div>
</div>
</li>
<li>
<p>Infers the schema of an array or multiset, for example the structure of
the elements, data types of various attributes, sample values, and so on.
Since an array or multiset can contain items with varying structures, the
result of this function is statistical in nature rather than deterministic.</p>
<div class="paragraph">
<p>This function is the equivalent to the N1QL for Query
  <a href="../n1ql/n1ql-language-reference/infer.html">INFER statement</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can infer the schema of a dataset by applying this function
  to a subquery which returns the documents in that dataset, or a
  representative sample of them.
  The subquery must use the <code>SELECT VALUE</code> clause to avoid an additional
  layer of nesting in the result of the subquery.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>collection</code>: An array or multiset, or an expression that evaluates to an
array or multiset.</p>
</li>
<li>
<p><code>parameters</code>: (Optional) An object, which may contain one or more of the
following fields to guide the function.</p>
<div class="ulist">
<ul>
<li>
<p><code>similarity_metric</code>: (Optional) A number, or an expression that
evaluates to a number, between 0 and 1.
This indicates the percentage match of attributes required for two
schemas to have the same flavor.
If omitted, it defaults to 0.6.</p>
</li>
<li>
<p><code>num_sample_values</code>: (Optional) An integer, or an expression that
evaluates to an integer.
This indicates the maximum number of sample values to be returned
for each attribute, providing examples of the data format.
If omitted, it defaults to 5.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An array of one or more objects, each of which contains an inferred
schema in <a href="http://json-schema.org/documentation.html">JSON Schema</a>
format.
For details of the schema, refer to the N1QL for Query
<a href="../n1ql/n1ql-language-reference/infer.html">INFER statement</a>.</p>
</li>
<li>
<p>Returns an empty array if <code>collection</code> is MISSING or NULL.</p>
</li>
<li>
<p>Returns an error if <code>collection</code> is not an array or multiset.</p>
</li>
<li>
<p>Returns an error if <code>parameters</code> is not an object.</p>
</li>
<li>
<p>Returns a warning if <code>similarity_metric</code> is not a number.</p>
</li>
<li>
<p>Returns a warning if <code>num_sample_values</code> is not a number.</p>
</li>
<li>
<p>Returns a warning if the argument name provided is not recognized by array_infer_schema</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Infer schemas from an array or multiset.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>array_infer_schema([{"a": 1},{"a":"aval"},{"a":[1,2]}], {"similarity_metric": 0.6});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "#docs": 1,
    "%docs": 33.33333333333333,
    "type": "object",
    "Flavor": "",
    "properties": {
      "a": {
        "#docs": 1,
        "%docs": 100,
        "type": "array",
        "samples": [
          [
            1,
            2
          ]
        ],
        "maxItems": 2,
        "minItems": 2,
        "items": "number"
      }
    }
  },
  {
    "#docs": 1,
    "%docs": 33.33333333333333,
    "type": "object",
    "Flavor": "'a' = \"aval\"",
    "properties": {
      "a": {
        "#docs": 1,
        "%docs": 100,
        "type": "string",
        "samples": [
          "aval"
        ]
      }
    }
  },
  {
    "#docs": 1,
    "%docs": 33.33333333333333,
    "type": "object",
    "Flavor": "'a' = 1",
    "properties": {
      "a": {
        "#docs": 1,
        "%docs": 100,
        "type": "number",
        "samples": [
          1
        ]
      }
    }
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>The function detects that the input data has three flavors of document: one
  where <code>a</code> is 1, one where <code>a</code> is <code>"aval"</code>, and one where <code>a</code> is an array.
  All documents are objects, and each document only has the <code>a</code> property.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Infer the schema of the <code>GleambookMessages</code> dataset using a subquery.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>array_infer_schema((SELECT VALUE m FROM GleambookMessages as m), {"similarity_metric": 0.6});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "#docs": 7,
    "%docs": 100,
    "type": "object",
    "Flavor": "",
    "properties": {
      "authorId": {
        "#docs": 7,
        "%docs": 100,
        "type": "number",
        "samples": [
          1,
          2
        ]
      },
      "inResponseTo": {
        "#docs": 7,
        "%docs": 100,
        "type": "number",
        "samples": [
          1,
          2,
          4,
          11,
          12
        ]
      },
      "message": {
        "#docs": 7,
        "%docs": 100,
        "type": "string",
        "samples": [
          " like ccast the 3G is awesome:)",
          " like product-y the plan is amazing",
          " can't stand acast its plan is terrible",
          " dislike x-phone its touch-screen is horrible",
          " can't stand product-w the touch-screen is terrible"
        ]
      },
      "messageId": {
        "#docs": 7,
        "%docs": 100,
        "type": "number",
        "samples": [
          2,
          3,
          8,
          10,
          11
        ]
      },
      "senderLocation": {
        "#docs": 7,
        "%docs": 100,
        "type": "array",
        "samples": [
          [
            38.97,
            77.49
          ],
          [
            40.33,
            80.87
          ],
          [
            41.66,
            80.87
          ],
          [
            42.5,
            70.01
          ],
          [
            48.09,
            81.01
          ]
        ],
        "maxItems": 2,
        "minItems": 2,
        "items": "double"
      }
    }
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>The function detects that this dataset has only one flavor of document.
  All documents are objects, and each document has the following properties:
  <code>authorId</code> (number), <code>inResponseTo</code> (number), <code>message</code> (string),
  <code>messageId</code> (number), and <code>senderLocation</code> (array).</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ConditionalFunctions"><a class="anchor" href="#ConditionalFunctions"></a>Conditional Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="if_null-ifnull"><a class="anchor" href="#if_null-ifnull"></a>if_null (ifnull)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>if_null(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which value is not <code>null</code> and returns that value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>null</code> if all arguments evaluate to <code>null</code> or no arguments specified</p>
</li>
<li>
<p>a value of the first non-<code>null</code> argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": if_null(),
    "b": if_null(null),
    "c": if_null(null, "analytics"),
    "d": is_missing(if_null(missing))
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": null, "b": null, "c": "analytics", "d": true }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifnull</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_missing-ifmissing"><a class="anchor" href="#if_missing-ifmissing"></a>if_missing (ifmissing)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>if_missing(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which value is not <code>missing</code> and returns that value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>null</code> if all arguments evaluate to <code>missing</code> or no arguments specified</p>
</li>
<li>
<p>a value of the first non-<code>missing</code> argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": if_missing(),
    "b": if_missing(missing),
    "c": if_missing(missing, "analytics"),
    "d": if_missing(null, "analytics")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": null, "b": null, "c": "analytics", "d": null }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifmissing</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_missing_or_null-ifmissingornull-coalesce"><a class="anchor" href="#if_missing_or_null-ifmissingornull-coalesce"></a>if_missing_or_null (ifmissingornull, coalesce)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>if_missing_or_null(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which value is not <code>null</code> or <code>missing</code> and returns that value</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>null</code> if all arguments evaluate to either <code>null</code> or <code>missing</code>, or no arguments specified</p>
</li>
<li>
<p>a value of the first non-<code>null</code>, non-<code>missing</code> argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": if_missing_or_null(),
    "b": if_missing_or_null(null, missing),
    "c": if_missing_or_null(null, missing, "analytics")
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": null, "b": null, "c": "analytics" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has two aliases: <code>ifmissingornull</code> and <code>coalesce</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_inf-ifinf"><a class="anchor" href="#if_inf-ifinf"></a>if_inf (ifinf)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>if_inf(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which is a non-infinite (<code>INF</code> or<code>-INF</code>) number</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>missing</code> if <code>missing</code> argument was encountered before the first non-infinite number argument</p>
</li>
<li>
<p>a <code>null</code> if <code>null</code> argument or any other non-number argument was encountered before the first non-infinite number argument</p>
</li>
<li>
<p>the first non-infinite number argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": is_null(if_inf(null)),
    "b": is_missing(if_inf(missing)),
    "c": is_null(if_inf(double("INF"))),
    "d": if_inf(1, null, missing) ],
    "e": is_null(if_inf(null, missing, 1)) ],
    "f": is_missing(if_inf(missing, null, 1)) ],
    "g": if_inf(float("INF"), 1) ],
    "h": to_string(if_inf(float("INF"), double("NaN"), 1)) ]
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": true, "d": 1, "e": true, "f": true, "g": 1, "h": "NaN" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifinf</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_nan-ifnan"><a class="anchor" href="#if_nan-ifnan"></a>if_nan (ifnan)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>if_nan(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which is a non-<code>NaN</code> number</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>missing</code> if <code>missing</code> argument was encountered before the first non-<code>NaN</code> number argument</p>
</li>
<li>
<p>a <code>null</code> if <code>null</code> argument or any other non-number argument was encountered before the first non-<code>NaN</code> number argument</p>
</li>
<li>
<p>the first non-<code>NaN</code> number argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": is_null(if_nan(null)),
    "b": is_missing(if_nan(missing)),
    "c": is_null(if_nan(double("NaN"))),
    "d": if_nan(1, null, missing) ],
    "e": is_null(if_nan(null, missing, 1)) ],
    "f": is_missing(if_nan(missing, null, 1)) ],
    "g": if_nan(float("NaN"), 1) ],
    "h": to_string(if_nan(float("NaN"), double("INF"), 1)) ]
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": true, "d": 1, "e": true, "f": true, "g": 1, "h": "INF" }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifnan</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="if_nan_or_inf-ifnanorinf"><a class="anchor" href="#if_nan_or_inf-ifnanorinf"></a>if_nan_or_inf (ifnanorinf)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>if_nan_or_inf(expression1, expression2, ... expressionN)</pre>
</div>
</div>
</li>
<li>
<p>Finds first argument which is a non-infinite (<code>INF</code> or<code>-INF</code>) and non-<code>NaN</code> number</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>missing</code> if <code>missing</code> argument was encountered before the first non-infinite and non-<code>NaN</code> number argument</p>
</li>
<li>
<p>a <code>null</code> if <code>null</code> argument or any other non-number argument was encountered before the first non-infinite and non-<code>NaN</code> number argument</p>
</li>
<li>
<p>the first non-infinite and non-<code>NaN</code> number argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": is_null(if_nan_or_inf(null)),
    "b": is_missing(if_nan_or_inf(missing)),
    "c": is_null(if_nan_or_inf(double("NaN"), double("INF"))),
    "d": if_nan_or_inf(1, null, missing) ],
    "e": is_null(if_nan_or_inf(null, missing, 1)) ],
    "f": is_missing(if_nan_or_inf(missing, null, 1)) ],
    "g": if_nan_or_inf(float("NaN"), float("INF"), 1) ],
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": true, "b": true, "c": true, "d": 1, "e": true, "f": true, "g": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>ifnanorinf</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="null_if-nullif"><a class="anchor" href="#null_if-nullif"></a>null_if (nullif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>null_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>null</code> if they are equal, otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if</p>
<div class="ulist">
<ul>
<li>
<p>any argument is a <code>null</code> value but no argument is a <code>missing</code> value, or</p>
</li>
<li>
<p><code>argument1</code> = <code>argument2</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": null_if("analytics", "analytics"),
    "b": null_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": null, "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>nullif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="missing_if-missingif"><a class="anchor" href="#missing_if-missingif"></a>missing_if (missingif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>missing_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>missing</code> if they are equal, otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if</p>
<div class="ulist">
<ul>
<li>
<p>any argument is a <code>missing</code> value, or</p>
</li>
<li>
<p>no argument is a <code>null</code> value and <code>argument1</code> = <code>argument2</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value</p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": missing_if("analytics", "analytics")
    "b": missing_if(1, 2),
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>missingif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="nan_if-nanif"><a class="anchor" href="#nan_if-nanif"></a>nan_if (nanif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>nan_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>NaN</code> value if they are equal, otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value</p>
</li>
<li>
<p><code>NaN</code> value of type <code>double</code> if <code>argument1</code> = <code>argument2</code></p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": to_string(nan_if("analytics", "analytics")),
    "b": nan_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": "NaN", "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>nanif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="posinf_if-posinfif"><a class="anchor" href="#posinf_if-posinfif"></a>posinf_if (posinfif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>posinf_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>+INF</code> value if they are equal, otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value</p>
</li>
<li>
<p><code>+INF</code> value of type <code>double</code> if <code>argument1</code> = <code>argument2</code></p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": to_string(posinf_if("analytics", "analytics")),
    "b": posinf_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": "+INF", "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>posinfif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="neginf_if-neginfif"><a class="anchor" href="#neginf_if-neginfif"></a>neginf_if (neginfif)</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>neginf_if(expression1, expression2)</pre>
</div>
</div>
</li>
<li>
<p>Compares two arguments and returns <code>-INF</code> value if they are equal, otherwise returns the first argument.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expressionI</code> : an expression (any type is allowed).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p><code>missing</code> if any argument is a <code>missing</code> value,</p>
</li>
<li>
<p><code>null</code> if any argument is a <code>null</code> value but no argument is a <code>missing</code> value</p>
</li>
<li>
<p><code>-INF</code> value of type <code>double</code> if <code>argument1</code> = <code>argument2</code></p>
</li>
<li>
<p>a value of the first argument otherwise</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>{
    "a": to_string(neginf_if("analytics", "analytics")),
    "b": neginf_if(1, 2)
};</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "a": "-INF", "b": 1 }</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>neginfif</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="EnvFunctions"><a class="anchor" href="#EnvFunctions"></a>Environment and Identifier Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="meta"><a class="anchor" href="#meta"></a>meta</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>meta(expr)
meta()</pre>
</div>
</div>
</li>
<li>
<p>Return a metadata object for a stored document.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code> : an expression returning a stored document</p>
</li>
<li>
<p>none, if the stored document can be determined from the context</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a metadata object containing fields <code>id</code>, <code>vbid</code>, <code>seq</code>, <code>cas</code>, and <code>flags</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uuid"><a class="anchor" href="#uuid"></a>uuid</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>uuid()</pre>
</div>
</div>
</li>
<li>
<p>Generates a <code>uuid</code>.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>none</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>a generated, random <code>uuid</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="JSONFunctions"><a class="anchor" href="#JSONFunctions"></a>JSON Functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="decode_json"><a class="anchor" href="#decode_json"></a>decode_json</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>decode_json(expr)</pre>
</div>
</div>
</li>
<li>
<p>Unmarshals the JSON-encoded string into a N1QL value.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: a JSON-encoded string.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A N1QL value.</p>
</li>
<li>
<p>If <code>expr</code> is NULL or an empty string then NULL is returned.</p>
</li>
<li>
<p>If <code>expr</code> is MISSING then MISSING is returned.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>decode_json("{\"abc\":1,\"def\":2}");</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{
  "abc": 1,
  "def": 2
}</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="encode_json"><a class="anchor" href="#encode_json"></a>encode_json</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>encode_json(expr)</pre>
</div>
</div>
</li>
<li>
<p>Marshals the N1QL value into a JSON-encoded string.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: a N1QL value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A JSON-encoded string.</p>
</li>
<li>
<p>If <code>expr</code> is NULL then NULL is returned.</p>
</li>
<li>
<p>If <code>expr</code> is MISSING then MISSING is returned.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>encode_json({"abc":1,"def":2});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>"{ \"abc\": 1, \"def\": 2 }"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="encoded_size"><a class="anchor" href="#encoded_size"></a>encoded_size</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>encoded_size(expr)</pre>
</div>
</div>
</li>
<li>
<p>Returns the number of bytes in an uncompressed JSON encoding of the value.
The exact size is implementation-dependent.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: a N1QL value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer.
Never MISSING or NULL.
Returns 0 for MISSING.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="literalblock">
<div class="content">
<pre>encoded_size({"abc":1,"def":2});</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>22</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="BitwiseFunctions"><a class="anchor" href="#BitwiseFunctions"></a>Bitwise Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All Bit/Binary functions can only operate on 64-bit signed integers.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All non-integer numbers and other data types result in null.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The query language uses two&#8217;s complement representation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When looking at the value in binary form, bit 1 is the Least Significant
Bit (LSB) and bit 32 is the Most Significant Bit (MSB).</p>
</div>
<div class="paragraph">
<p>(MSB) Bit 32  <code>0000 0000 0000 0000 0000 0000 0000 0000</code>  Bit 1 (LSB)</p>
</div>
<div class="sect2">
<h3 id="bitand"><a class="anchor" href="#bitand"></a>bitand</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITAND(int_value1, int_value2, ... , int_valueN)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bitwise AND operation performed on all input
integer values.</p>
<div class="paragraph">
<p>The bitwise AND operation compares each bit of <code>int_value1</code> to the
  corresponding bit of every other <code>int_value</code>.
  If all bits are 1, then the corresponding result bit is set to 1;
  otherwise it is set to 0 (zero).</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_valueI</code>: Integers, or any valid expressions which evaluate to
integers, that are used to compare.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the bitwise AND between all of the input
integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Compare 3 (0011 in binary) and 6 (0110 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": BITAND(3,6) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": 2 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 2 (0010 in binary) because only bit 2 is set in both 3
  (00<strong>1</strong>1) and 6 (01<strong>1</strong>0).</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Compare 4.5 and 3 (0011 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": BITAND(4.5,3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": null }</pre>
</div>
</div>
<div class="paragraph">
<p>The result is null because 4.5 is not an integer.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Compare 4.0 (0100 in binary) and 3 (0011 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": BITAND(4.0,3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": 0 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 0 (zero) because 4.0 (0100) and 3 (0011) do not share
  any bits that are both 1.</p>
</div>
</li>
<li>
<p>Example 4:</p>
<div class="paragraph">
<p>Compare 3 (0011 in binary) and 6 (0110 in binary) and 15 (1111 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": BITAND(3,6,15) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitAND": 2 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 2 (0010 in binary) because only the 2nd bit from the
  right is 1 in all three numbers.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitclear"><a class="anchor" href="#bitclear"></a>bitclear</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITCLEAR(int_value, positions)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result after clearing the specified bit, or array of bits in
<code>int_value</code> using the given <code>positions</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Specifying a negative or zero bit position makes the function
  return a null.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to an
integer, that contains the target bit or bits to clear.</p>
</li>
<li>
<p><code>positions</code>: An integer or an array of integers specifying the position
or positions to be cleared.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result after clearing the bit or bits
specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Clear bit 1 from 6 (0110 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitCLEAR": BITCLEAR(6,1) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitCLEAR": 6 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 6 (011<strong>0</strong> in binary) because bit 1 was already zero.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Clear bits 1 and 2 from 6 (01<strong>10</strong> in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitCLEAR": BITCLEAR(6,[1,2]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitCLEAR": 4 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 4 (01<strong>0</strong>0 in binary) because bit 2 changed to zero.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Clear bits 1, 2, 4, and 5 from 31 (0<strong>11</strong>1<strong>11</strong> in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitCLEAR": BITCLEAR(31,[1,2,4,5]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitCLEAR": 4 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 4 (0<strong>00</strong>1<strong>00</strong>) because bits 1, 2, 4, and 5 changed to
  zero.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitnot"><a class="anchor" href="#bitnot"></a>bitnot</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITNOT(int_value)</pre>
</div>
</div>
</li>
<li>
<p>Returns the results of a bitwise logical NOT operation performed on
an integer value.</p>
<div class="paragraph">
<p>The bitwise logical NOT operation reverses the bits in the value.
  For each value bit that is 1, the corresponding result bit will be
  set to 0 (zero); and for each value bit that is 0 (zero), the
  corresponding result bit will be set to 1.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All bits of the integer will be altered by this operation.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to an
integer, that contains the target bits to reverse.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result after performing the logical NOT
operation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Perform the NOT operation on 3 (0000 0000 0000 0000 0000 0000 0000 0011 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitNOT": BITNOT(3) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitNOT": -4 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in -4 (<strong>1111 1111 1111 1111 1111 1111 1111 1100</strong> in
  binary) because all bits changed.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitor"><a class="anchor" href="#bitor"></a>bitor</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITOR(int_value1, int_value2, ... , int_valueN)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bitwise inclusive OR operation performed on all input
integer values.</p>
<div class="paragraph">
<p>The bitwise inclusive OR operation compares each bit of <code>int_value1</code> to the
  corresponding bit of every other <code>int_value</code>.
  If any bit is 1, the corresponding result bit is set to 1; otherwise, it
  is set to 0 (zero).</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_valueI</code>: Integers, or any valid expressions which evaluate to
integers, that are used to compare.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the bitwise OR between all of the input
integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Perform OR on 3 (0011 in binary) and 6 (0110 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitOR": BITOR(3,6) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitOR": 7 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 7 (0<strong>111</strong> in binary) because at least 1 bit of each
  (00<strong>11</strong> and 0<strong>11</strong>0) is 1 in bits 1, 2, and 3.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Perform OR on 3 (0011 in binary) and -4 (1000 0000 0000 &#8230;&#8203; 0000 1100 in
  binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitOR": BITOR(3,-4) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitOR": -1 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in -1 (<strong>1111 1111 1111 &#8230;&#8203; 1111 1111</strong> in binary) because
  the two 1 bits in 3 fill in the two 0 bits in -4 to turn on all the bits.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Perform OR on 3 (0011 in binary) and 6 (0110 in binary) and 15 (1111 in
  binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitOR": BITOR(3,6,15) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitOR": 15 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 15 (1111 in binary) because there is at least one 1 in
  each of the four rightmost bits.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitset"><a class="anchor" href="#bitset"></a>bitset</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITSET(int_value, positions)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result after setting the specified bit <code>position</code>, or
array of bit positions, to 1 in the given <code>int_value</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Specifying a negative or zero position makes the function return
  a null.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to an
integer, that contains the target bit or bits to set.</p>
</li>
<li>
<p><code>positions</code>: An integer or an array of integers specifying the position
or positions to be set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result after setting the bit or bits
specified.
If the bit is already set, then it stays set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Set bit 1 in the value 6 (011<strong>0</strong> in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSET": BITSET(6,1) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSET": 7 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 7 (011<strong>1</strong> in binary) because bit 1 changed to 1.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Set bits 1 and 2 in the value 6 (01<strong>10</strong> in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSET": BITSET(6,[1,2]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSET": 7 }</pre>
</div>
</div>
<div class="paragraph">
<p>This also results in 7 (01<strong>11</strong> in binary) because bit 1 changed while
  bit 2 remained the same.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Set bits 1 and 4 in the value 6 (<strong>0</strong>11<strong>0</strong> in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSET": BITSET(6,[1,4]) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSET": 15 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 15 (<strong>1</strong>11<strong>1</strong> in binary) because bit 1 and 4 changed
  to ones.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bitshift"><a class="anchor" href="#bitshift"></a>bitshift</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITSHIFT(int_value, shift_amount[, rotate])</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bit shift operation performed on the integer
value <code>int_value</code>.
The <code>shift_amount</code> supports left and right shifts.
These are logical shifts.
The third parameter <code>rotate</code> supports circular shift.
This is similar to the BitROTATE function in Oracle.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to an
integer, that contains the target bit or bits to shift.</p>
</li>
<li>
<p><code>shift_amount</code>: An integer, or any valid expression which evaluates to an
integer, that contains the number of bits to shift.</p>
<div class="ulist">
<ul>
<li>
<p>A positive (+) number means this is a LEFT shift.</p>
</li>
<li>
<p>A negative (-) number means this is a RIGHT shift.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>rotate</code>: (Optional) A boolean, or any valid expression which evaluates
to a boolean, where:</p>
<div class="ulist">
<ul>
<li>
<p>FALSE means this is a LOGICAL shift, where bits shifted off
the end of a value are considered lost.</p>
</li>
<li>
<p>TRUE means this is a CIRCULAR shift (shift-and-rotate
operation), where bits shifted off the end of a value are
rotated back onto the value at the <em>other</em> end.
In other words, the bits rotate in what might be thought of as a
circular pattern; therefore, these bits are not lost.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If omitted, the default is FALSE.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For comparison, see the below table.</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Shift</th>
<th class="tableblock halign-left valign-top">Result of Logical Shift (Rotate FALSE)</th>
<th class="tableblock halign-left valign-top">Result of Circular Shift (Rotate TRUE)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96 (0110 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96 (0110 0000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48 (0011 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48 (0011 0000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 (0001 1000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 (0001 1000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 (0000 1100)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 (0000 1100)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>6 (0000 0110)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>0</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>6 (0000 0110)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>6 (0000 0110)</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 (0000 0011)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 (0000 0011)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 (0000 0001)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-9223372036854775807 (1000 0000 &#8230;&#8203; 0000 0001)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (0000 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4611686018427387904 (1100 0000 &#8230;&#8203; 0000 0000)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 (0000 0110)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (0000 0000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6917529027641081856 (0110 0000 &#8230;&#8203; 0000 0000)</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the result of either a logical or circular
shift of the given integer.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Logical left shift of the number 6 (0110 in binary) by one bit.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(6,1,FALSE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": 12 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 12 (1100 in binary) because the 1-bits moved from
  positions 2 and 3 to positions 3 and 4.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Logical right shift of the number 6 (0110 in binary) by two bits.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(6,-2) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": 1 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 1 (0001 in binary) because the 1-bit in position 3 moved
  to position 1 and the 1-bit in position 2 was dropped.</p>
</div>
</li>
<li>
<p>Example 2b:</p>
<div class="paragraph">
<p>Circular right shift of the number 6 (0110 in binary) by two bits.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(6,-2,TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": -9223372036854775807 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in -9223372036854775807 (1100 0000 0000 0000 0000 0000 0000
  0000 in binary) because the two 1-bits wrapped right, around to the Most
  Significant Digit position and changed the integer&#8217;s sign to negative.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>Circular left shift of the number 524288 (1000 0000 0000 0000 0000 in
  binary) by 45 bits.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": BITSHIFT(524288,45,TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitSHIFT": 1 }</pre>
</div>
</div>
<div class="paragraph">
<p>This results in 1 because the 1-bit wrapped left, around to the Least
  Significant Digit position.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="bittest"><a class="anchor" href="#bittest"></a>bittest</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITTEST(int_value, positions [, all_set])</pre>
</div>
</div>
</li>
<li>
<p>Returns TRUE if the specified bit, or bits, is a 1; otherwise,
returns FALSE if the specified bit, or bits, is a 0 (zero).</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Specifying a negative or zero bit position will result in null
  being returned.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_value</code>: An integer, or any valid expression which evaluates to an
integer, that contains the target bit or bits to test.</p>
</li>
<li>
<p><code>positions</code>: An integer or an array of integers specifying the position
or positions to be tested.</p>
</li>
<li>
<p><code>all_set</code>: (Optional) A boolean, or any valid expression which evaluates
to a boolean.</p>
<div class="ulist">
<ul>
<li>
<p>When <code>all_set</code> is FALSE, then it returns TRUE even if one bit in
one of the positions is set.</p>
</li>
<li>
<p>When <code>all_set</code> is TRUE, then it returns TRUE only if all input
positions are set.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If omitted, the default is FALSE.</p>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A boolean, that follows the below table:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>int_value</code></th>
<th class="tableblock halign-left valign-top"><code>all_set</code></th>
<th class="tableblock halign-left valign-top">Return Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>all</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>all</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>some</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>some</em> specified bits are TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>In the number 6 (0110 in binary), is bit 1 set?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "IsBitSET": ISBITSET(6,1) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "IsBitSET": false }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns FALSE because bit 1 of 6 (011<strong>0</strong> in binary) is not set to 1.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>In the number 1, is either bit 1 or bit 2 set?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitTEST": BITTEST(1,[1,2],FALSE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitTEST": true }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns TRUE because bit 1 of the number 1 (000<strong>1</strong> in binary) is
  set to 1.</p>
</div>
</li>
<li>
<p>Example 3:</p>
<div class="paragraph">
<p>In the number 6 (0110 in binary), are both bits 2 and 3 set?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "IsBitSET": ISBITSET(6,[2,3],TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "IsBitSET": true }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns TRUE because both bits 2 and 3 in the number 6 (0<strong>11</strong>0 in
  binary) are set to 1.</p>
</div>
</li>
<li>
<p>Example 4:</p>
<div class="paragraph">
<p>In the number 6 (0110 in binary), are all the bits in positions 1 through 3
  set?</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitTEST": BITTEST(6,[1,3],TRUE) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitTEST": false }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns FALSE because bit 1 in the number 6 (011<strong>0</strong> in binary) is
  set to 0 (zero).</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function has an alias <code>isbitset</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="bitxor"><a class="anchor" href="#bitxor"></a>bitxor</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>BITXOR(int_value1, int_value2, ... , int_valueN)</pre>
</div>
</div>
</li>
<li>
<p>Returns the result of a bitwise Exclusive OR operation performed on
two or more integer values.</p>
<div class="paragraph">
<p>The bitwise Exclusive OR operation compares each bit of <code>int_value1</code> to
  the corresponding bit of <code>int_value2</code>.</p>
</div>
<div class="paragraph">
<p>If there are more than two input values, the first two are compared;
  then their result is compared to the next input value; and so on.</p>
</div>
<div class="paragraph">
<p>When the compared bits do not match, the result bit is 1; otherwise,
  the compared bits do match, and the result bit is 0 (zero), as
  summarized:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bit 1</th>
<th class="tableblock halign-left valign-top">Bit 2</th>
<th class="tableblock halign-left valign-top">XOR Result Bit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>int_valueI</code>: Integers, or any valid expressions which evaluate to
integers, that are used to compare.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, representing the bitwise XOR between the input
integers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Limitations:</p>
<div class="ulist">
<ul>
<li>
<p>Input values must be integers (such as 1 or 1.0) and cannot contain
decimals (such as 1.2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>Perform the XOR operation on 3 (0011 in binary) and 6 (0110 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitXOR": BITXOR(3,6) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitXOR": 5 }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns 5 (0101 in binary) because the 1st bit pair and 3rd bit
  pair are different (resulting in 1) while the 2nd bit pair and 4th bit
  pair are the same (resulting in 0):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>0011 (3)
0110 (6)
====
0101 (5)</pre>
</div>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>Perform the XOR operation on 3 (0011 in binary) and 6 (0110 in binary) and
  15 (1111 in binary).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{ "BitXOR": BITXOR(3,6,15) };</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>{ "BitXOR": 10 }</pre>
</div>
</div>
<div class="paragraph">
<p>This returns 10 (1010 in binary) because 3 XOR 6 equals 5 (0101 in binary),
  and then 5 XOR 15 equals 10 (1010 in binary).</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="WindowFunctions"><a class="anchor" href="#WindowFunctions"></a>Window Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Window functions are used to compute an aggregate or cumulative value, based on
a portion of the tuples selected by a query.
For each input tuple, a movable window of tuples is defined.
The window determines the tuples to be used by the window function.</p>
</div>
<div class="paragraph">
<p>The tuples are not grouped into a single output tuple&#8201;&#8212;&#8201;each tuple remains
separate in the query output.</p>
</div>
<div class="paragraph">
<p>All window functions must be used with an OVER clause.
Refer to <a href="3_query.html#Over_clauses">OVER Clauses</a> for details.</p>
</div>
<div class="paragraph">
<p>Window functions cannot appear in the FROM clause clause or LIMIT clause.</p>
</div>
<div class="paragraph">
<p>The examples in this section use the <code>GleambookMessages</code> dataset,
described in the section on <a href="3_query.html#SELECT_statements">SELECT Statements</a>.</p>
</div>
<div class="sect2">
<h3 id="cume_dist"><a class="anchor" href="#cume_dist"></a>cume_dist</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>CUME_DIST() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the percentile rank of the current tuple as part of the cumulative
distribution&#8201;&#8212;&#8201;that is, the number of tuples ranked lower than or equal to
the current tuple, including the current tuple, divided by the total number
of tuples in the window partition.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples.
  If the window order clause is omitted, the function returns the same
  result (1.0) for each tuple.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A number greater than 0 and less than or equal to 1.
The higher the value, the higher the ranking.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the cumulative distribution of all messages
  in order of message ID.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId, CUME_DIST() OVER (
  PARTITION BY m.authorId
  ORDER BY m.messageId
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "rank": 0.2,
    "messageId": 2,
    "authorId": 1
  },
  {
    "rank": 0.4,
    "messageId": 4,
    "authorId": 1
  },
  {
    "rank": 0.6,
    "messageId": 8,
    "authorId": 1
  },
  {
    "rank": 0.8,
    "messageId": 10,
    "authorId": 1
  },
  {
    "rank": 1,
    "messageId": 11,
    "authorId": 1
  },
  {
    "rank": 0.5,
    "messageId": 3,
    "authorId": 2
  },
  {
    "rank": 1,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="dense_rank"><a class="anchor" href="#dense_rank"></a>dense_rank</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>DENSE_RANK() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the dense rank of the current tuple&#8201;&#8212;&#8201;that is, the number of
distinct tuples preceding this tuple in the current window partition, plus
one.</p>
<div class="paragraph">
<p>The tuples are ordered by the window order clause.
  If any tuples are tied, they will have the same rank.
  If the window order clause is omitted, the function returns the same
  result (1) for each tuple.</p>
</div>
<div class="paragraph">
<p>For this function, when any tuples have the same rank, the rank of the next
  tuple will be consecutive, so there will not be a gap in the sequence of
  returned values.
  For example, if there are three tuples ranked 2, the next dense rank is 3.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, greater than or equal to 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the dense rank of all messages in order of location.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId, m.senderLocation[1] as longitude,
DENSE_RANK() OVER (
  PARTITION BY m.authorId
  ORDER BY m.senderLocation[1]
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "rank": 1,
    "authorId": 1,
    "messageId": 10,
    "longitude": 70.01
  },
  {
    "rank": 2,
    "authorId": 1,
    "messageId": 11,
    "longitude": 77.49
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 2,
    "longitude": 80.87
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 8,
    "longitude": 80.87
  },
  {
    "rank": 4,
    "authorId": 1,
    "messageId": 4,
    "longitude": 97.04
  },
  {
    "rank": 1,
    "authorId": 2,
    "messageId": 6,
    "longitude": 75.56
  },
  {
    "rank": 2,
    "authorId": 2,
    "messageId": 3,
    "longitude": 81.01
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="first_value"><a class="anchor" href="#first_value"></a>first_value</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>FIRST_VALUE(expr) [nulls-treatment] OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the requested value from the first tuple in the current window
frame, where the window frame is specified by the window definition.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the first
tuple in the window frame. <sup>[<a href="#fn_1">1</a>]</sup></p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="3_query.html#Nulls_treatment">Nulls Treatment</a>: (Optional) Determines how
NULL or MISSING values are treated when finding the first value in the
window frame.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the first tuple.
In this case, the function returns the first non-NULL, non-MISSING
value.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the first tuple.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the first tuple.
The order of the tuples is determined by the window order clause.</p>
</li>
<li>
<p>NULL, if the frame was empty or if all values were NULL or MISSING and
the <code>IGNORE NULLS</code> modifier was specified.</p>
</li>
<li>
<p>In the following cases, this function may return unpredictable results.</p>
<div class="ulist">
<ul>
<li>
<p>If the window order clause is omitted.</p>
</li>
<li>
<p>If the window frame is defined by <code>ROWS</code>, and there are tied tuples
in the window frame.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To make the function return deterministic results, add a window order
clause, or add further ordering terms to the window order clause so that
no tuples are tied.</p>
</li>
<li>
<p>If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, and there are
tied tuples in the window frame, the function returns the first value
of the input expression.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the
  length of the shortest message from that author.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
FIRST_VALUE(LENGTH(m.message)) OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS shortest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 11
  },
  {
    "message_length": 44,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 2
  },
  {
    "message_length": 51,
    "shortest_message": 31,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "shortest_message": 35,
    "authorId": 2,
    "messageId": 3
  },
  {
    "message_length": 44,
    "shortest_message": 35,
    "authorId": 2,
    "messageId": 6
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lag"><a class="anchor" href="#lag"></a>lag</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>LAG(expr[, offset[, default]]) [nulls-treatment] OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the value from a tuple at a given offset prior to the current tuple
position.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples.
  If the window order clause is omitted, the return values may be
  unpredictable.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the offset
tuple. <sup>[<a href="#fn_1">1</a>]</sup></p>
</li>
<li>
<p><code>offset</code>: (Optional) A positive integer.
If omitted, the default is 1.</p>
</li>
<li>
<p><code>default</code>: (Optional) The value to return when the offset goes out of
partition scope.
If omitted, the default is NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="3_query.html#Nulls_treatment">Nulls Treatment</a>: (Optional) Determines how
NULL or MISSING values are treated when finding the offset tuple in the
window partition.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the offset tuple.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the offset tuple.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the offset tuple.</p>
</li>
<li>
<p>If the offset tuple is out of partition scope, it returns the default value,
or NULL if no default is specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the
  length of the next-shortest message.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
LAG(LENGTH(m.message), 1, "No shorter message") OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS next_shortest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "authorId": 1,
    "messageId": 8,
    "next_shortest_message": "No shorter message"
  },
  {
    "message_length": 39,
    "authorId": 1,
    "messageId": 11,
    "next_shortest_message": 31
  },
  {
    "message_length": 44,
    "authorId": 1,
    "messageId": 4,
    "next_shortest_message": 39
  },
  {
    "message_length": 45,
    "authorId": 1,
    "messageId": 2,
    "next_shortest_message": 44
  },
  {
    "message_length": 51,
    "authorId": 1,
    "messageId": 10,
    "next_shortest_message": 45
  },
  {
    "message_length": 35,
    "authorId": 2,
    "messageId": 3,
    "next_shortest_message": "No shorter message"
  },
  {
    "message_length": 44,
    "authorId": 2,
    "messageId": 6,
    "next_shortest_message": 35
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="last_value"><a class="anchor" href="#last_value"></a>last_value</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>LAST_VALUE(expr) [nulls-treatment] OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the requested value from the last tuple in the current window frame,
where the window frame is specified by the window definition.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the last tuple
in the window frame. <sup>[<a href="#fn_1">1</a>]</sup></p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="3_query.html#Nulls_treatment">Nulls Treatment</a>: (Optional) Determines how
NULL or MISSING values are treated when finding the last tuple in the
window frame.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the last tuple.
In this case, the function returns the last non-NULL, non-MISSING
value.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the last tuple.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the last tuple.
The order of the tuples is determined by the window order clause.</p>
</li>
<li>
<p>NULL, if the frame was empty or if all values were NULL or MISSING and
the <code>IGNORE NULLS</code> modifier was specified.</p>
</li>
<li>
<p>In the following cases, this function may return unpredictable results.</p>
<div class="ulist">
<ul>
<li>
<p>If the window order clause is omitted.</p>
</li>
<li>
<p>If the window frame clause is omitted.</p>
</li>
<li>
<p>If the window frame is defined by <code>ROWS</code>, and there are tied tuples
in the window frame.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To make the function return deterministic results, add a window order
clause, or add further ordering terms to the window order clause so that
no tuples are tied.</p>
</li>
<li>
<p>If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, and there are
tied tuples in the window frame, the function returns the last
value of the input expression.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the
  length of the longest message from that author.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
LAST_VALUE(LENGTH(m.message)) OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING -- 
) AS longest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 11
  },
  {
    "message_length": 44,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 2
  },
  {
    "message_length": 51,
    "longest_message": 51,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "longest_message": 44,
    "authorId": 2,
    "messageId": 3
  },
  {
    "message_length": 44,
    "longest_message": 44,
    "authorId": 2,
    "messageId": 6
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p> This clause specifies that the window frame should extend to the
  end of the window partition.
  Without this clause, the end point of the window frame would always be the
  current tuple.
  This would mean that the longest message would always be the same as the
  current message.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lead"><a class="anchor" href="#lead"></a>lead</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>LEAD(expr[, offset[, default]]) [nulls-treatment] OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the value from a tuple at a given offset ahead of the current tuple
position.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples.
  If the window order clause is omitted, the return values may be
  unpredictable.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the offset
tuple. <sup>[<a href="#fn_1">1</a>]</sup></p>
</li>
<li>
<p><code>offset</code>: (Optional) A positive integer. If omitted, the
default is 1.</p>
</li>
<li>
<p><code>default</code>: (Optional) The value to return when the offset goes out of
window partition scope.
If omitted, the default is NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="3_query.html#Nulls_treatment">Nulls Treatment</a>: (Optional) Determines how
NULL or MISSING values are treated when finding the offset tuple in the
window partition.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the offset tuple.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the offset tuple.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the offset tuple.</p>
</li>
<li>
<p>If the offset tuple is out of partition scope, it returns the default value, or
NULL if no default is specified.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the
  length of the next-longest message.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
LEAD(LENGTH(m.message), 1, "No longer message") OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS next_longest_message
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "authorId": 1,
    "messageId": 8,
    "next_longest_message": 39
  },
  {
    "message_length": 39,
    "authorId": 1,
    "messageId": 11,
    "next_longest_message": 44
  },
  {
    "message_length": 44,
    "authorId": 1,
    "messageId": 4,
    "next_longest_message": 45
  },
  {
    "message_length": 45,
    "authorId": 1,
    "messageId": 2,
    "next_longest_message": 51
  },
  {
    "message_length": 51,
    "authorId": 1,
    "messageId": 10,
    "next_longest_message": "No longer message"
  },
  {
    "message_length": 35,
    "authorId": 2,
    "messageId": 3,
    "next_longest_message": 44
  },
  {
    "message_length": 44,
    "authorId": 2,
    "messageId": 6,
    "next_longest_message": "No longer message"
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="nth_value"><a class="anchor" href="#nth_value"></a>nth_value</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>NTH_VALUE(expr, offset) [nthval-from] [nulls-treatment] OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the requested value from a tuple in the current window frame, where
the window frame is specified by the window definition.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value that you want to return from the offset
tuple in the window frame. <sup>[<a href="#fn_1">1</a>]</sup></p>
</li>
<li>
<p><code>offset</code>: The number of the offset tuple within the window
frame, counting from 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Modifiers:</p>
<div class="ulist">
<ul>
<li>
<p><a href="3_query.html#Nth_val_from">Nth Val From</a>: (Optional) Determines where the
function starts counting the offset.</p>
<div class="ulist">
<ul>
<li>
<p><code>FROM FIRST</code>: Counting starts at the first tuple in the window frame.
In this case, an offset of 1 is the first tuple in the window frame,
2 is the second tuple, and so on.</p>
</li>
<li>
<p><code>FROM LAST</code>: Counting starts at the last tuple in the window frame.
In this case, an offset of 1 is the last tuple in the window frame,
2 is the second-to-last tuple, and so on.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The order of the tuples is determined by the window order clause.
  If this modifier is omitted, the default is <code>FROM FIRST</code>.</p>
</div>
</li>
<li>
<p><a href="3_query.html#Nulls_treatment">Nulls Treatment</a>: (Optional) Determines how
NULL or MISSING values are treated when finding the offset tuple in the
window frame.</p>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are ignored when finding the offset tuple.</p>
</li>
<li>
<p><code>RESPECT NULLS</code>: If the values for any tuples evaluate to NULL or
MISSING, those tuples are included when finding the offset tuple.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this modifier is omitted, the default is <code>RESPECT NULLS</code>.</p>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>The specified value from the offset tuple.</p>
</li>
<li>
<p>In the following cases, this function may return unpredictable results.</p>
<div class="ulist">
<ul>
<li>
<p>If the window order clause is omitted.</p>
</li>
<li>
<p>If the window frame is defined by <code>ROWS</code>, and there are tied tuples
in the window frame.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To make the function return deterministic results, add a window order
clause, or add further ordering terms to the window order clause so that
no tuples are tied.</p>
</li>
<li>
<p>If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, and there are
tied tuples in the window frame, the function returns the first value
of the input expression when counting <code>FROM FIRST</code>, or the last
value of the input expression when counting <code>FROM LAST</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example 1:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the
  length of the second shortest message from that author.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
NTH_VALUE(LENGTH(m.message), 2) FROM FIRST OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING -- 
) AS shortest_message_but_1
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 11 // 
  },
  {
    "message_length": 44,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 2
  },
  {
    "message_length": 51,
    "shortest_message_but_1": 39,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "shortest_message_but_1": 44,
    "authorId": 2,
    "messageId": 3
  },
  {
    "message_length": 44,
    "shortest_message_but_1": 44,
    "authorId": 2,
    "messageId": 6 // 
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p> This clause specifies that the window frame should extend to the
  end of the window partition.
  Without this clause, the end point of the window frame would always be the
  current tuple.
  This would mean that for the shortest message, the function
  would be unable to find the route with the second shortest message.</p>
</div>
<div class="paragraph">
<p> The second shortest message from this author.</p>
</div>
</li>
<li>
<p>Example 2:</p>
<div class="paragraph">
<p>For each author, show the length of each message, including the
  length of the second longest message from that author.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId,
LENGTH(m.message) AS message_length,
NTH_VALUE(LENGTH(m.message), 2) FROM LAST OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING -- 
) AS longest_message_but_1
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "message_length": 31,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 8
  },
  {
    "message_length": 39,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 11
  },
  {
    "message_length": 44,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 4
  },
  {
    "message_length": 45,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 2 // 
  },
  {
    "message_length": 51,
    "longest_message_but_1": 45,
    "authorId": 1,
    "messageId": 10
  },
  {
    "message_length": 35,
    "longest_message_but_1": 35,
    "authorId": 2,
    "messageId": 3 // 
  },
  {
    "message_length": 44,
    "longest_message_but_1": 35,
    "authorId": 2,
    "messageId": 6
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p> This clause specifies that the window frame should extend to the
  end of the window partition.
  Without this clause, the end point of the window frame would always be the
  current tuple.
  This would mean the function would be unable to find the second longest
  message for shorter messages.</p>
</div>
<div class="paragraph">
<p> The second longest message from this author.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ntile"><a class="anchor" href="#ntile"></a>ntile</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>NTILE(num_tiles) OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Divides the window partition into the specified number of tiles, and
allocates each tuple in the window partition to a tile, so that as far as
possible each tile has an equal number of tuples.
When the set of tuples is not equally divisible by the number of tiles, the
function puts more tuples into the lower-numbered tiles.
For each tuple, the function returns the number of the tile into which that
tuple was placed.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples.
  If the window order clause is omitted then the tuples are processed in
  an undefined order.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>num_tiles</code>: The number of tiles into which you want to divide
the window partition.
This argument can be an expression and must evaluate to a number.
If the number is not an integer, it will be truncated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An value greater than or equal to 1 and less than or equal to the number
of tiles.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>Allocate each message to one of three tiles by length and message ID.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.messageId, LENGTH(m.message) AS `length`,
NTILE(3) OVER (
  ORDER BY LENGTH(m.message), m.messageId
) AS `ntile`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "length": 31,
    "ntile": 1,
    "messageId": 8
  },
  {
    "length": 35,
    "ntile": 1,
    "messageId": 3
  },
  {
    "length": 39,
    "ntile": 1,
    "messageId": 11
  },
  {
    "length": 44,
    "ntile": 2,
    "messageId": 4
  },
  {
    "length": 44,
    "ntile": 2,
    "messageId": 6
  },
  {
    "length": 45,
    "ntile": 3,
    "messageId": 2
  },
  {
    "length": 51,
    "ntile": 3,
    "messageId": 10
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="percent_rank"><a class="anchor" href="#percent_rank"></a>percent_rank</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>PERCENT_RANK() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the percentile rank of the current tuple&#8201;&#8212;&#8201;that is, the rank of the
tuples minus one, divided by the total number of tuples in the window
partition minus one.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples.
  If the window order clause is omitted, the function returns the same
  result (0) for each tuple.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A number between 0 and 1.
The higher the value, the higher the ranking.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the percentile rank of all messages in order
  of message ID.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId, PERCENT_RANK() OVER (
  PARTITION BY m.authorId
  ORDER BY m.messageId
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "rank": 0,
    "messageId": 2,
    "authorId": 1
  },
  {
    "rank": 0.25,
    "messageId": 4,
    "authorId": 1
  },
  {
    "rank": 0.5,
    "messageId": 8,
    "authorId": 1
  },
  {
    "rank": 0.75,
    "messageId": 10,
    "authorId": 1
  },
  {
    "rank": 1,
    "messageId": 11,
    "authorId": 1
  },
  {
    "rank": 0,
    "messageId": 3,
    "authorId": 2
  },
  {
    "rank": 1,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rank"><a class="anchor" href="#rank"></a>rank</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>RANK() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns the rank of the current tuple&#8201;&#8212;&#8201;that is, the number of distinct
tuples preceding this tuple in the current window partition, plus one.</p>
<div class="paragraph">
<p>The tuples are ordered by the window order clause.
  If any tuples are tied, they will have the same rank.
  If the window order clause is omitted, the function returns the same
  result (1) for each tuple.</p>
</div>
<div class="paragraph">
<p>When any tuples have the same rank, the rank of the next tuple will include
  all preceding tuples, so there may be a gap in the sequence of returned
  values.
  For example, if there are three tuples ranked 2, the next rank is 5.</p>
</div>
<div class="paragraph">
<p>To avoid gaps in the returned values, use the DENSE_RANK() function instead.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, greater than or equal to 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, find the rank of all messages in order of location.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.authorId, m.messageId, m.senderLocation[1] as longitude,
RANK() OVER (
  PARTITION BY m.authorId
  ORDER BY m.senderLocation[1]
) AS `rank`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "rank": 1,
    "authorId": 1,
    "messageId": 10,
    "longitude": 70.01
  },
  {
    "rank": 2,
    "authorId": 1,
    "messageId": 11,
    "longitude": 77.49
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 2,
    "longitude": 80.87
  },
  {
    "rank": 3,
    "authorId": 1,
    "messageId": 8,
    "longitude": 80.87
  },
  {
    "rank": 5,
    "authorId": 1,
    "messageId": 4,
    "longitude": 97.04
  },
  {
    "rank": 1,
    "authorId": 2,
    "messageId": 6,
    "longitude": 75.56
  },
  {
    "rank": 2,
    "authorId": 2,
    "messageId": 3,
    "longitude": 81.01
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ratio_to_report"><a class="anchor" href="#ratio_to_report"></a>ratio_to_report</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>RATIO_TO_REPORT(expr) OVER (window-definition)</pre>
</div>
</div>
</li>
<li>
<p>Returns the fractional ratio of the specified value for each tuple to the
sum of values for all tuples in the window frame.</p>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p><code>expr</code>: The value for which you want to calculate the
fractional ratio. <sup>[<a href="#fn_1">1</a>]</sup></p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_frame_clause">Window Frame Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>A number between 0 and 1, representing the fractional ratio of the value
for the current tuple to the sum of values for all tuples in the
current window frame.
The sum of returned values for all tuples in the current window frame is 1.</p>
</li>
<li>
<p>If the input expression does not evaluate to a number, or the sum of
values for all tuples is zero, it returns NULL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, calculate the length of each message as a
  fraction of the total length of all messages.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId,
RATIO_TO_REPORT(LENGTH(m.message)) OVER (
  PARTITION BY m.authorId
) AS length_ratio
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "length_ratio": 0.21428571428571427,
    "messageId": 2,
    "authorId": 1
  },
  {
    "length_ratio": 0.20952380952380953,
    "messageId": 4,
    "authorId": 1
  },
  {
    "length_ratio": 0.14761904761904762,
    "messageId": 8,
    "authorId": 1
  },
  {
    "length_ratio": 0.24285714285714285,
    "messageId": 10,
    "authorId": 1
  },
  {
    "length_ratio": 0.18571428571428572,
    "messageId": 11,
    "authorId": 1
  },
  {
    "length_ratio": 0.4430379746835443,
    "messageId": 3,
    "authorId": 2
  },
  {
    "length_ratio": 0.5569620253164557,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="row_number"><a class="anchor" href="#row_number"></a>row_number</h3>
<div class="ulist">
<ul>
<li>
<p>Syntax:</p>
<div class="literalblock">
<div class="content">
<pre>ROW_NUMBER() OVER ([window-partition-clause] [window-order-clause])</pre>
</div>
</div>
</li>
<li>
<p>Returns a unique row number for every tuple in every window partition.
In each window partition, the row numbering starts at 1.</p>
<div class="paragraph">
<p>The window order clause determines the sort order of the tuples.
  If the window order clause is omitted, the return values may be
  unpredictable.</p>
</div>
</li>
<li>
<p>Arguments:</p>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clauses:</p>
<div class="ulist">
<ul>
<li>
<p>(Optional) <a href="3_query.html#Window_partition_clause">Window Partition Clause</a>.</p>
</li>
<li>
<p>(Optional) <a href="3_query.html#Window_order_clause">Window Order Clause</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Return Value:</p>
<div class="ulist">
<ul>
<li>
<p>An integer, greater than or equal to 1.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Example:</p>
<div class="paragraph">
<p>For each author, number all messages in order of length.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SELECT m.messageId, m.authorId,
ROW_NUMBER() OVER (
  PARTITION BY m.authorId
  ORDER BY LENGTH(m.message)
) AS `row`
FROM GleambookMessages AS m;</pre>
</div>
</div>
</li>
<li>
<p>The expected result is:</p>
<div class="literalblock">
<div class="content">
<pre>[
  {
    "row": 1,
    "messageId": 8,
    "authorId": 1
  },
  {
    "row": 2,
    "messageId": 11,
    "authorId": 1
  },
  {
    "row": 3,
    "messageId": 4,
    "authorId": 1
  },
  {
    "row": 4,
    "messageId": 2,
    "authorId": 1
  },
  {
    "row": 5,
    "messageId": 10,
    "authorId": 1
  },
  {
    "row": 1,
    "messageId": 3,
    "authorId": 2
  },
  {
    "row": 2,
    "messageId": 6,
    "authorId": 2
  }
]</pre>
</div>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><a id="fn_1">1</a>.
If the query contains the GROUP BY clause or any
<a href="#AggregateFunctions">aggregate functions</a>, this expression must only
depend on GROUP BY expressions or aggregate functions.</p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
