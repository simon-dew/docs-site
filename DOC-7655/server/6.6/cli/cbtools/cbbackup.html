<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>cbbackup | Couchbase Docs (Staging)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-7655/server/6.6/cli/cbtools/cbbackup.html">
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Backs up an entire running cluster, a bucket or a single node">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="6.6">
<meta name="generator" content="Antora 3.0.0-alpha.5">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-7655/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
</nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/couchbase/couchbase-cli/docs/modules/cli/pages/cbtools/cbbackup.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../index.html">server</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">cbbackup</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Backs up an entire running cluster, a bucket or a single node</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis"><a class="anchor" href="#synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>cbbackup</em> [--username &lt;user&gt;] [--password &lt;password&gt;] [--ssl]
           [--no-ssl-verify] [--cacert &lt;path&gt;] [--bucket-source &lt;name&gt;]
           [--single-node] [--id &lt;vbid&gt;] [--key &lt;regexp&gt;]
           [--mode &lt;full|diff|accu&gt;] [--dry-run] [--verbose] [--silent]
           [--extra &lt;options&gt;] [--help] source backup_dir</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description"><a class="anchor" href="#description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This backup tools creates a copy of the <code>source</code> data onto disk in the
specified <code>backup_dir</code>, if the directory does not exist it will be created.
The directory should only be used by <code>cbbackup</code> and <code>cbrestore</code> as any
alterations to the data by any other process can corrupt the backup data.</p>
</div>
<div class="paragraph">
<p>The tool can be found in the following directories:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating system</th>
<th class="tableblock halign-left valign-top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/opt/couchbase/bin/cbbackup</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Program Files\Couchbase\Server\bin\cbbackup</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mac OS X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/Applications/Couchbase Server.app/Contents/Resources/couchbase-core/bin/cbbackup</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The data is stored in a unique format that will then allow
a fast restore using <code>cbrestore</code>. This tool will not only backup the documents
but it can backup metadata for full text indexes and aliases, design documents
and global secondary indexes, thus on a restore there is no need to redefine them.
Although the metadata for this other services is also backed up and restore the
indexes will still have to be rebuilt after a restore.</p>
</div>
<div class="paragraph">
<p>The first backup made is always a full backup regardless of the mode given.
The backup directory will looks as follows after a successful first backup:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>└── 2019-06-25T124727Z
 └── 2019-06-25T124727Z-full
     ├── bucket-beer-sample
     │   ├── design.json
     │   ├── fts_index.json
     │   ├── index.json
     │   └── node-127.0.0.1%3A8091
     │       ├── data-0000.cbb
     │       ├── failover.json
     │       ├── meta.json
     │       ├── seqno.json
     │       └── snapshot_markers.json
     └── fts_alias.json</pre>
</div>
</div>
<div class="paragraph">
<p>The backup directory will have as a name the timestamp of the first backup.
Inside it there will be one or more backup folders each named with a timestamp
of when they occurred and suffixed with the mode in this case
<code>2019-06-25T124727Z-full</code>. Inside each backup folder we have a folder for each
bucket that was backed up, in this case only the "beer-sample" was backed up.
At this level we also have a JSON file that contains the full text aliases.
Inside each bucket folder we can find the design documents, full text indexes
and global secondary indexes definitions. There is also a folder per node in
the cluster, which contains the documents for that bucket and cluster. In this
case there is only one node in the cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="options"><a class="anchor" href="#options"></a>Options</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">-u,--username &lt;user&gt;</dt>
<dd>
<p>Specifies the username of the user executing the command. If you do not have
a user account with permission to execute the command then it will fail with
an unauthorized error.</p>
</dd>
<dt class="hdlist1">-p,--password &lt;password&gt;</dt>
<dd>
<p>Specifies the password of the user executing the command. If you do not have
a user account with permission to execute the command then it will fail with
an unauthorized error.</p>
</dd>
<dt class="hdlist1">-s,--ssl</dt>
<dd>
<p>(Deprecated) Specifies that the connection should use SSL verification. If
this flag is used then SSL will be used but the cluster certificate will not
be verified by the Certificate Authority. This flag is deprecated and not
recommended. If you wish to use SSL encryption it is recommended that you
specify the cluster host name using either <em>couchbases://</em> or <em>https://</em>.
Each of these connection schemes will ensure that the connection is
encrypted with SSL. You may then use either --no-ssl-verify or --cacert in
order to customize how your SSL connection is set up.</p>
</dd>
<dt class="hdlist1">--no-ssl-verify</dt>
<dd>
<p>Specifies that SSL verification should be used but that verifying that the
cluster certificate is valid should be skipped. Use of this flag is not
recommended for production environments because it does not protect the user
from a man-in-the-middle attack.</p>
</dd>
<dt class="hdlist1">--cacert &lt;path&gt;</dt>
<dd>
<p>Specifies that the SSL connection should use the cacert provided when
connecting to the cluster. This argument takes the path the certificate
file as its value. This is the most secure way to connect to your cluster.</p>
</dd>
<dt class="hdlist1">-b,--bucket-source &lt;bucket&gt;</dt>
<dd>
<p>Single named bucket from source cluster to transfer. If the backup directory
only contains a single bucket, then that bucket is automatically used.</p>
</dd>
<dt class="hdlist1">--single-node</dt>
<dd>
<p>Transfer data only from the source data node.</p>
</dd>
<dt class="hdlist1">-i,--id &lt;vbid&gt;</dt>
<dd>
<p>Transfer only items that match a vBucket ID.</p>
</dd>
<dt class="hdlist1">-k,--key &lt;regexp&gt;</dt>
<dd>
<p>Transfer only items with keys that match the given regular expression.</p>
</dd>
<dt class="hdlist1">-m,--mode &lt;full|diff|accu&gt;</dt>
<dd>
<p>Select the backup mode, the available options are: <code>full</code>, <code>diff</code>, <code>accu</code>.
If an option is not provided it defaults to <code>diff</code>. The <code>full</code> mode will
perform a full backup. The <code>diff</code> mode will perform a differential
incremental backup which backups only the changes since the last full or
incremental backup. The <code>accu</code> mode performs a cumulative incremental backup,
which backs up all changes since the last full backup.</p>
</dd>
<dt class="hdlist1">-n,--dry-run</dt>
<dd>
<p>When specified the tool will not transfer data but only validate
parameters, files, connectivity and configuration.</p>
</dd>
<dt class="hdlist1">-v,--verbose</dt>
<dd>
<p>Verbose logging; more -v&#8217;s provide more verbosity. Max is -vvv</p>
</dd>
<dt class="hdlist1">--silent</dt>
<dd>
<p>Reduces the logging verbosity to only include errors.</p>
</dd>
<dt class="hdlist1">-x,--extra &lt;options&gt;</dt>
<dd>
<p>Provide extra, uncommon configuration parameters. Comma-separated
key=val pairs</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extras"><a class="anchor" href="#extras"></a>EXTRAS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are extra, specialized command options with the <code>cbbackup -x</code> parameter.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. cbbackup -x options</caption>
<colgroup>
<col style="width: 30.9597%;">
<col style="width: 69.0403%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">-x options</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backoff_cap=10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum backoff time during the rebalance period.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>batch_max_bytes=400000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer this # of bytes per batch.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>batch_max_size=1000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer this # of documents per batch.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cbb_max_mb=100000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Split backup file on destination cluster if it exceeds the MB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conflict_resolve=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default, disable conflict resolution.</p>
<p class="tableblock">This option doesn&#8217;t work in Couchbase Server versions 4.0 and 4.1 but will be
re-implemented in version 4.1.1 and in subsequent versions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data_only=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, transfer only data from a backup file or cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>design_doc_only=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, transfer only design documents from a backup file or cluster.
Default: 0.</p>
<p class="tableblock">Back up only design documents which include view and secondary index
definitions from a cluster or bucket with the option <code>design_doc_only=1</code>.
Restore only design documents with <code>cbrestore -x design_doc_only=1</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_retry=10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max number of sequential retries if the transfer fails.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mcd_compatible=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 0, display extended fields for stdout output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nmv_retry=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or 1, where 1 retries transfer after a NOT_MY_VBUCKET message.
Default: 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>recv_min_bytes=4096</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of bytes for every TCP/IP batch transferred.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rehash=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, rehash the partition id&#8217;s of each item.
This is required when transferring data between clusters with different number
of partitions, such as when transferring data from an Mac OS X server to a
non-Mac OS X cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>report=5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number batches transferred before updating progress bar in console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>report_full=2000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number batches transferred before emitting progress information in console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>seqno=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default, start seqno from beginning.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>try_xwm=1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer documents with metadata.
Default: 1.
Value of 0 is only used when transferring from 1.8.x to 1.8.x.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uncompress=0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For value 1, restore data in uncompressed mode.</p>
<p class="tableblock">This option is unsupported.
To create backups with compression, use <code>cbbackupmgr</code>, which is available for
Couchbase Server Enterprise Edition only.
See <a href="#backup-restore:enterprise-backup-restore.adoc" class="page unresolved">Backup</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>EXAMPLES</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Basic operations</strong></p>
</div>
<div class="paragraph">
<p>The most basic operation is to backup an entire cluster, this can be done using
the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password</pre>
</div>
</div>
<div class="paragraph">
<p>This command will create the following directory structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> └── backups
     └── 2019-06-25T124727Z
         └── 2019-06-25T124727Z-full
             ├── bucket-beer-sample
             │   ├── design.json
             │   ├── fts_index.json
             │   ├── index.json
             │   ├── node-10.112.193.101%3A8091
             │   ├── node-10.112.193.102%3A8091
             │   ├── node-10.112.193.103%3A8091
             ├── bucket-gamesim-sample
             │   ├── design.json
             │   ├── node-10.112.193.101%3A8091
             │   ├── node-10.112.193.102%3A8091
             │   └── node-10.112.193.103%3A8091
             └── fts_alias.json</pre>
</div>
</div>
<div class="paragraph">
<p>Inside our requested backup directory <code>cbbackup</code> has created another folder
named after the time when the command was run. Inside there is only one backup,
<code>2019-06-25T124727Z-full</code> we can see by the prefix that is a full backup.
This is expected as there where no other backups in the <code>~/backups</code> directory
Inside out backup we can find the full text aliases in the <code>fts_alias.json</code> as
well as another two folders. one for each bucket in the cluster. This cluster
had buckets beer-sample and gamesim-sample. Inside the folder for each bucket
we find the design documents, full text index and general secondary index
definitions. We can see that the gamesim-bucket does not have either a
<code>fts_index.json</code> or an <code>index.json</code> this s because this bucket had no
indexes. Inside the bucket folders we have a folder for each node in the
cluster, this folder contains the documents stored in each node for the
corresponding bucket.</p>
</div>
<div class="paragraph">
<p>After some time data in the buckets will change and a new backup should be
made, but instead of backing up all the data again <code>cbbackup</code> can make
incremental backups that only contain the data that has changed since the last
backup. The command below would create a new differential incremental backup.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password \
  -m diff</pre>
</div>
</div>
<div class="paragraph">
<p>After this the backup directory would look as follows (only showing beer-sample for clarity):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>2019-06-25T141453Z
├── 2019-06-25T141453Z-full
│   └── bucket-beer-sample
│       ├── design.json
│       ├── node-10.112.193.101%3A8091
│       ├── node-10.112.193.102%3A8091
│       └── node-10.112.193.103%3A8091
└── 2019-06-25T141553Z-diff
    └── bucket-beer-sample
        ├── design.json
        ├── node-10.112.193.101%3A8091
        ├── node-10.112.193.102%3A8091
        └── node-10.112.193.103%3A8091</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Filtering</strong></p>
</div>
<div class="paragraph">
<p><code>cbbackup</code> allows the user control of what data is backed up. To backup only a
the bucket <code>beer-sample</code> use the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password \
  -b beer-sample</pre>
</div>
</div>
<div class="paragraph">
<p>This command will backup only the data relevant to bucket <code>beer-sample</code> from
every node in the cluster. The user can also want only data from one node in the
cluster this can be done as follows.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password \
  --single-node</pre>
</div>
</div>
<div class="paragraph">
<p>The command above will only backup the data stored in node
<code>10.112.193.101:8091</code>. To backup only the data of one bucket in one node the
options can be combined as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password \
  --single-node -b beer-sample</pre>
</div>
</div>
<div class="paragraph">
<p>The data that is backed up can also be filtered y key using the <code>-k</code> flag. To
only backup the documents which keys start with "KEY:" we can use the command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password \
  -k '^KEY:.*'</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>-k</code> option will take any regular expression.</p>
</div>
<div class="paragraph">
<p>The user can also chose to only backup certain services for example to only
backup the documents of the data service we can pass the <code>data_only=1</code>
extra option as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cbbackup http://10.112.193.101:8091 ~/backups -u Administrator -p password \
  -x data_only=1</pre>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
