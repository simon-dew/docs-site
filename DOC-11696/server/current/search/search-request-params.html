<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>Search Request JSON Properties | Couchbase Docs (Preview)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-11696/server/current/search/search-request-params.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="You can add additional properties to a Search request to control how the Search Service returns results.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/search/search-request-params.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.4">
<link rel="icon" href="../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://simon-dew.github.io/docs-site/DOC-11696/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-11696/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="server">
        <option value="7.2" data-url="search-request-params.html" selected>7.2</option>
        <option value="7.0" data-url="../../7.0/introduction/intro.html">7.0</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="3">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/pages/search-request-params.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">server</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Search Request JSON Properties</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
You can add additional properties to a Search request to control how the Search Service returns results.
</blockquote>
</div>
<div class="paragraph">
<p>The following is an example Search request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L2-L151">{
    "query": {
        "must": {
            "conjuncts":[
                {
                    "field": "free_breakfast",
                    "bool": false
                },
                {
                    "field": "ratings.Cleanliness",
                    "inclusive_min": 1,
                    "inclusive_max": 3
                }
            ]
        },
        "must_not": {
            "disjuncts": [
                {
                    "field": "geojson",
                    "geometry": {
                        "shape": {
                            "coordinates": [-2.2450285424707204, 53.48503270828377],
                            "type": "circle",
                            "radius": "100mi"
                        },
                        "relation": "within"
                    }
                }
            ],
            "min": 1
        },
        "should": {
            "disjuncts": [
                {
                    "match_phrase": "very nice",
                    "field": "reviews.content"
                }
            ]
        }
    },
    "ctl": {
        "timeout": 10000,
        "consistency": {
            "vectors": {
                "searchIndexName": {
                    "607/205096593892159": 2,
                    "640/298739127912798": 4  
                }
            },
            "level": "at_plus",
            "results": "complete"
        }
    },
    "size": 10,
    "from": 0,
    "highlight": {

        "style": "html",
        "fields": ["textField"]

    },
    "fields": ["textField"],
    "facets": {

        "field1": {
            "size": 5,
            "field": "field1"
        },

        "field2": {
            "size": 5,
            "field": "field2",
            "numeric_ranges": [
                {

                    "name": "high",
                    "min": 7,
                    "max": 10

                },
                {

                    "name": "low",
                    "min": 0,
                    "max": 7

                }
             ]
        },

        "field3": {
            "size": 10,
            "field": "dateField",
            "date_ranges": [
                {
                    "name": "old",
                    "start": "2020-12-31",
                    "end": "2023-12-31"
                },
                {
                    "name": "new",
                    "start": "2023-12-31",
                    "end": "2024-12-31"
                }  
            ]
        }

    },
    "explain": true,
    "sort": [

        "field1",
            {
                "by": "field",
                "field": "field2",
                "desc": false,
                "mode": "max",
                "missing": "last",
                "type": "number"
            },
            "-_score",
            "-_id"
            
    ],
    "includeLocations": false,
    "score": "none",
    "search_after": ["field1Value", "5", "10.033205341869529", "1234"],
    "search_before": ["field1Value", "5", "10.033205341869529", "1234"],
    "limit": 10,
    "offset": 0,
    "collections": ["collection1", "collection2"]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A Search request can contain the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="query"></a>query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An object that contains the properties for one of the supported query types.</p>
</div>
<div class="paragraph">
<p>For more information about how to configure the <code>query</code> object, see <a href="#query-object">Query Object</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An object that contains properties for query consistency.</p>
</div>
<div class="paragraph">
<p>For more information about how to configure Search query consistency inside the <code>ctl</code> object, see <a href="#ctl">Ctl Object</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">size/limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the total number of results to return for a single page of search results.</p>
</div>
<div class="paragraph">
<p>If you provide both the <code>size</code> and <code>limit</code> properties, the Search Service uses the <code>size</code> value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from/offset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set an offset value to change where pagination starts for search results, based on the Search query&#8217;s <a href="#sort">Sort Object</a>.</p>
</div>
<div class="paragraph">
<p>For example, if you set a <code>size</code> value of <code>5</code> and a <code>from</code> value of <code>10</code>, the Search query returns results 11 through 15 on a page.</p>
</div>
<div class="paragraph">
<p>If you provide both the <code>from</code> and <code>offset</code> properties, the Search Service uses the <code>from</code> value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">highlight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains properties to control search result highlighting.</p>
</div>
<div class="paragraph">
<p>For more information about how to configure highlighting in Search results, see <a href="#highlight">Highlight Object</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of strings to specify each indexed field you want to return in search results.</p>
</div>
<div class="paragraph">
<p>You must add a field and its contents to a Search index to view it in search results or add it to the <code>fields</code> array.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="facets"></a>facets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains <code>{facet-name}</code> objects to define each facet you want to return with search results.</p>
</div>
<div class="paragraph">
<p>The Search Service supports the following facet types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Term Facet</strong>: Counts the documents that have the same value for a specified field.</p>
</li>
<li>
<p><strong>Numeric Range Facet</strong>: Counts the documents with numeric field values that are greater than or less than a specified range or ranges.</p>
</li>
<li>
<p><strong>Date Range Facet</strong>: Counts the documents with date field values that are earlier or later than a specified range or ranges.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, about how to configure the different facet types inside the <code>facets</code> object, see <a href="#facet-name">{facet-name} Object</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">explain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To create an explanation for a search result&#8217;s score in search results, set <code>explain</code> to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>To turn off explanations for search result scoring, set <code>explain</code> to <code>false</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains an array of strings or JSON objects to set how to sort search results.</p>
</div>
<div class="paragraph">
<p>The strings can be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{field_name}</code>: Specify the name of a field to use to sort the search results.</p>
</li>
<li>
<p><code>_id</code>: Use the document&#8217;s identifier to sort the search results.</p>
</li>
<li>
<p><code>_score</code>: Use the document&#8217;s score from the Search query to sort the search results.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about the properties for a <code>sort</code> JSON object, see <a href="#sort">Sort Object</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="includelocations"></a>includeLocations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To return the position of each occurrence of a search term inside a document, set <code>includeLocations</code> to <code>true</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must have <strong>Include Term Vectors</strong> enabled or the <code>include_term_vectors</code> property set to <code>true</code> on a field to use <code>includeLocations</code>.
For more information about how to enable term vectors, see <a href="create-child-field.html#term-vectors" class="xref page">Create a Child Field</a> or <a href="search-index-params.html#term-vectors" class="xref page">Search Index JSON Properties</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To turn off term locations, set <code>includeLocations</code> to <code>false</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">score</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To turn off document relevancy scoring in search results, set <code>score</code> to <code>none</code>.</p>
</div>
<div class="paragraph">
<p>To turn on document relevancy scoring in search results, remove the <code>score</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">search_after</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you use <code>search_after</code> in a search request, you can&#8217;t use <code>search_before</code>. Both properties are included in the example code to show the correct syntax.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use <code>search_after</code> with <code>from/offset</code> and <code>sort</code> to control pagination in search results.</p>
</div>
<div class="paragraph">
<p>Give a value for each string or JSON object in the <code>sort</code> array to the <code>search_after</code> array.
The Search Service starts search result pagination after the document with those values.</p>
</div>
<div class="paragraph">
<p>You must provide the values in the same order that they appear in the <code>sort</code> array.</p>
</div>
<div class="paragraph">
<p>For example, if you had a set of 10 documents to sort based on <code>_id</code> values of 1-10, with <code>from</code> set to <code>2</code> and <code>search_after</code> set to <code>8</code>, documents 9-10 appear on the same page.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">search_before</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you use <code>search_before</code> in a search request, you can&#8217;t use <code>search_after</code>. Both properties are included in the example code to show the correct syntax.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use <code>search_before</code> with <code>from/offset</code> and <code>sort</code> to control pagination in search results.</p>
</div>
<div class="paragraph">
<p>Give a value for each string or JSON object in the <code>sort</code> array to the <code>search_before</code> array.
The Search Service starts search result pagination before the document with those values.</p>
</div>
<div class="paragraph">
<p>You must provide the values in the same order that they appear in the <code>sort</code> array.</p>
</div>
<div class="paragraph">
<p>For example, if you had a set of 10 documents to sort based on <code>_id</code> values of 1-10, with <code>from</code> set to <code>2</code> and <code>search_before</code> set to <code>8</code>, documents 2-6 appear on the same page.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="collections"></a>collections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains an array of strings that specify the collections where you want to run the query.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="query-object"><a class="anchor" href="#query-object"></a>Query Object</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the <code>query</code> object to set the specific details of your Search query.</p>
</div>
<div class="paragraph">
<p>Use the properties in the <code>query</code> object to control search result rankings, add multiple subqueries, and more.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L3-L42">{
    "query": {
        "must": {
            "conjuncts":[
                {
                    "field": "free_breakfast",
                    "bool": false
                },
                {
                    "field": "ratings.Cleanliness",
                    "inclusive_min": 1,
                    "inclusive_max": 3
                }
            ]
        },
        "must_not": {
            "disjuncts": [
                {
                    "field": "geojson",
                    "geometry": {
                        "shape": {
                            "coordinates": [-2.2450285424707204, 53.48503270828377],
                            "type": "circle",
                            "radius": "100mi"
                        },
                        "relation": "within"
                    }
                }
            ],
            "min": 1
        },
        "should": {
            "disjuncts": [
                {
                    "match_phrase": "very nice",
                    "field": "reviews.content"
                }
            ]
        }
    },</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="boolean-queries"><a class="anchor" href="#boolean-queries"></a>Boolean Queries</h3>
<div class="paragraph">
<p>Use any of the following properties to run a boolean query.
A boolean query searches for a combination of queries that a document must match to be included in search results.</p>
</div>
<div class="paragraph">
<p>Boolean queries use a <a href="#compound-queries">compound query array</a> inside the <a href="#must">must</a>, <a href="#must_not">must_not</a> and <a href="#should">should</a> objects to set the queries a document must match.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="must"></a>must</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use a <code>must</code> object to create a boolean query.</p>
</div>
<div class="paragraph">
<p>A <code>must</code> object must contain a <a href="#conjuncts">conjuncts array</a>.
The array lists all the queries that must have a match in a document to include the document in search results.</p>
</div>
<div class="paragraph">
<p>For example, a query could have a <code>must</code> object with 2 queries in a <code>conjuncts</code> array.
The Search Service must find a match for both those queries in a document to include it in search results.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">reviews.content field must contain "location" and the phrase "nice view"</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-boolean.jsonc#L55-L70">{
    "query":{
        "must":{
            "conjuncts":[
                {
                    "field": "reviews.content", 
                    "match": "location"
                },
                {
                    "field":"reviews.content",
                    "match_phrase": "nice view"
                }
            ]
        }
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="must_not"></a>must_not</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use a <code>must_not</code> object to create a boolean query.</p>
</div>
<div class="paragraph">
<p>A <code>must_not</code> object must contain a <a href="#disjuncts">disjuncts array</a>.
The array lists all the queries that must have a match in a document to include the document in search results.</p>
</div>
<div class="paragraph">
<p>For example, a query could have a <code>must_not</code> object with 3 queries in a <code>disjuncts</code> array.
The Search Service must not find a match for any of the 3 queries in a document to include it in search results.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">free_breakfast field must not be false and reviews.Cleanliness field must not be between 1 and 3</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-boolean.jsonc#L73-L89">{
    "query":{
        "must_not":{
            "disjuncts":[
                {
                    "field": "free_breakfast",
                    "bool": false
                },
                {
                    "field": "ratings.Cleanliness",
                    "inclusive_min": 1,
                    "inclusive_max": 3
                }
            ]
        }
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="should"></a>should</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use a <code>should</code> object to create a boolean query.</p>
</div>
<div class="paragraph">
<p>A <code>should</code> object must contain a <a href="#disjuncts">disjuncts array</a>.
The array lists all the queries that must have a match in a document to score the document higher in search results.</p>
</div>
<div class="paragraph">
<p>A document can be included in search results if it does not match the query or queries in a <code>should</code> object.
The document scores higher in search results if it does match the query.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">free_parking and free_internet fields should be true</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-boolean.jsonc#L92-L108">{
    "query":{
        "should":{
            "disjuncts":[
                {
                    "field": "free_parking",
                    "bool": true
                },
                {
                    "field": "free_internet",
                    "bool": true
                }
            ],
            "min": 1
        }
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="compound-queries"><a class="anchor" href="#compound-queries"></a>Compound Queries (AND and OR)</h3>
<div class="paragraph">
<p>Use a compound query array to specify multiple child queries that must have a match in a document for that document to be included in search results.</p>
</div>
<div class="paragraph">
<p>You must use compound query arrays to run a <a href="#boolean-queries">boolean query</a>, but you can use a compound query array outside of a boolean query.</p>
</div>
<div class="paragraph">
<p>You can use 2 different types of compound queries:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="conjuncts"></a>conjuncts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>conjuncts</code> array to specify multiple child queries in a single <code>query</code> object.</p>
</div>
<div class="paragraph">
<p>You can use the <code>conjuncts</code> array inside a <a href="#must">must object</a> or directly inside a <code>query</code> object.</p>
</div>
<div class="paragraph">
<p>If you use the <code>conjuncts</code> array, every query object in the array must have a match in a document to include the document in search results.</p>
</div>
<div class="paragraph">
<p>You can create objects in a <code>conjuncts</code> array to describe any of the available query types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#analytic-queries">Analytic Queries</a></p>
</li>
<li>
<p><a href="#non-analytic-queries">Non-Analytic Queries</a></p>
</li>
<li>
<p><a href="#numeric-range-queries">Numeric Range Queries</a></p>
</li>
<li>
<p><a href="#date-range-queries">Date Range Queries</a></p>
</li>
<li>
<p><a href="#term-range-queries">Term Range Queries</a></p>
</li>
<li>
<p><a href="#geopoint-queries-distance">Distance/Radius-Based Geopoint Queries</a></p>
</li>
<li>
<p><a href="#geopoint-queries-rectangle">Rectangle-Based Geopoint Queries</a></p>
</li>
<li>
<p><a href="#geopoint-queries-polygon">Polygon-Based Geopoint Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-point">Point GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-linestring">LineString GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-polygon">Polygon GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipoint">MultiPoint GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-multilinestring">MultiLineString GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipolygon">MultiPolygon GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-geometrycollection">GeometryCollection GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-circle">Circle GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-envelope">Envelope GeoJSON Queries</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">reviews.date field must be between 2001-10-09 and 2016-10-31 and description field must contain "pool"</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-compound.jsonc#L2-L18">{
    "query":{
        "conjuncts":[
            {
                "field": "reviews.date",
                "start": "2001-10-09",
                "end": "2016-10-31",
                "inclusive_start": false,
                "inclusive_end": false
            },
            {
                "field": "description",
                "match": "pool"
            }
        ]
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="disjuncts"></a>disjuncts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>disjuncts</code> array to specify multiple child queries in a single <code>query</code> object.</p>
</div>
<div class="paragraph">
<p>You can use the <code>disjuncts</code> array inside a <a href="#must_not">must_not object</a>, <a href="#should">should object</a>, or directly inside a <code>query</code> object.</p>
</div>
<div class="paragraph">
<p>Use a <code>min</code> property to set the number of query objects from the <code>disjuncts</code> array that must have a match in a document.
If a document does not match the <code>min</code> number of query objects, the Search Service does not include the document in search results.</p>
</div>
<div class="paragraph">
<p>You can create objects in a <code>disjuncts</code> array to describe any of the available query types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#analytic-queries">Analytic Queries</a></p>
</li>
<li>
<p><a href="#non-analytic-queries">Non-Analytic Queries</a></p>
</li>
<li>
<p><a href="#numeric-range-queries">Numeric Range Queries</a></p>
</li>
<li>
<p><a href="#date-range-queries">Date Range Queries</a></p>
</li>
<li>
<p><a href="#term-range-queries">Term Range Queries</a></p>
</li>
<li>
<p><a href="#geopoint-queries-distance">Distance/Radius-Based Geopoint Queries</a></p>
</li>
<li>
<p><a href="#geopoint-queries-rectangle">Rectangle-Based Geopoint Queries</a></p>
</li>
<li>
<p><a href="#geopoint-queries-polygon">Polygon-Based Geopoint Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-point">Point GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-linestring">LineString GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-polygon">Polygon GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipoint">MultiPoint GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-multilinestring">MultiLineString GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipolygon">MultiPolygon GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-geometrycollection">GeometryCollection GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-circle">Circle GeoJSON Queries</a></p>
</li>
<li>
<p><a href="#geojson-queries-envelope">Envelope GeoJSON Queries</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">free_parking field must be true or checkin field must be "1PM"</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-compound.jsonc#L22-L36">{
    "query":{
        "disjuncts":[
            {
                "field": "free_parking",
                "bool": true
            },
            {
                "field": "checkin",
                "match": "1PM"
            }
        ],
        "min": 1
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="query-string-query-syntax"><a class="anchor" href="#query-string-query-syntax"></a>Query String Query Syntax</h3>
<div class="paragraph">
<p>Use the following properties and syntax to run a Query String query.</p>
</div>
<div class="paragraph">
<p>Query String queries let you express more complex queries with a special syntax.
You can reduce the properties you need to specify for a Search query with Query String syntax.</p>
</div>
<div class="paragraph">
<p>If you do not add any additional Query String syntax to a query, the Search Service interprets the query as a match query.
It searches for an exact match to the provided term in any fields that have been added to the <code>default</code> field.
For more information about how to configure the default field for your Search index, see <a href="set-advanced-settings.html#all-field" class="xref page">Set Search Index General Settings</a> or the <a href="search-index-params.html#all-field" class="xref page">default_field property</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Query String syntax is not recommended for use in production environments.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#boost">boost</a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If you use multiple clauses in a query, you can use the <code>^</code> operator to assign the relative importance to a clause.</p>
</div>
<div class="paragraph">
<p>Clauses with a larger number after the <code>^</code> operator score higher and appear earlier in search results.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Query String query with a boost on the name field containing pool</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-boost.jsonc#L2-L6">{
    "query": {
        "query": "description:pool name:pool^5"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="range-query-string"></a><code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, and <code>&#8656;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#date-range-queries">Date Range Queries</a> or <a href="#numeric-range-queries">Numeric Range Queries</a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>You can run two types of range queries with the the later than (<code>&gt;</code>), later than or equal to (<code>&gt;=</code>), earlier than (<code>&lt;</code>), and earlier than or equal to (<code>&#8656;</code>) operators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the operators with a date value to run a <strong>date range query</strong>.
The Search Service searches for a date value in the specified field that matches the specified operator.</p>
</li>
<li>
<p>Use operators with a numeric value to run a <strong>numeric range query</strong>.
The Search Service searches for a numeric value in the specified field that matches the specified operator.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Query String query for a date in the created field after September 21, 2016</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-date-range.jsonc#L2-L6">{
    "query": {
        "query": "reviews.date:&gt;\"2012-09-21\""
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query String query for a rating in the reviews.ratings.Cleanliness field greater than 4</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-numeric-range.jsonc#L2-L6">{
    "query": {
        "query": "reviews.ratings.Cleanliness:&gt;4"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use a backslash character (<code>\</code>) to escape characters in a Query String query.</p>
</div>
<div class="paragraph">
<p>You must escape the following characters to search for them literally in a Query String query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Quotes (<code>"</code>)</p>
</li>
<li>
<p>Plus sign (<code>+</code>)</p>
</li>
<li>
<p>Dash (<code>-</code>)</p>
</li>
<li>
<p>Equals sign (<code>=</code>)</p>
</li>
<li>
<p>Ampersand (<code>&amp;</code>)</p>
</li>
<li>
<p>Caret (<code>^</code>)</p>
</li>
<li>
<p>Asterix (<code>*</code>)</p>
</li>
<li>
<p>Pipe (<code>|</code>)</p>
</li>
<li>
<p>Greater than and less than symbol (<code>&gt;</code> and <code>&lt;</code>)</p>
</li>
<li>
<p>Exclamation mark (<code>!</code>)</p>
</li>
<li>
<p>Question mark (<code>?</code>)</p>
</li>
<li>
<p>Parentheses (<code>( )</code>)</p>
</li>
<li>
<p>Curly braces (<code>{ }</code>)</p>
</li>
<li>
<p>Square brackets (<code>[ ]</code>)</p>
</li>
<li>
<p>Single or double backslash (<code>\</code>)</p>
</li>
<li>
<p>Forward slash (<code>/</code>)</p>
</li>
<li>
<p>Tilde (<code>~</code>)</p>
</li>
<li>
<p>Colon (<code>:</code>)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Query String match query with escaped exclamation mark (!)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-escape-characters.jsonc#L2-L6">{
    "query": {
        "query": "\!"
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query String match phrase query with escaped quotation mark (")</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-escape-characters.jsonc#L10-L14">{ 
    "query": {
        "query": "\" a phrase in quotes \""
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="field-name"></a><code>{field-name}:</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#field">field</a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the field in a document where the Search Service should search for your query by adding a field name and a colon to the start of a search term.</p>
</div>
<div class="paragraph">
<p>Use dot notation for the field name.
For example, <code>parentField.childField</code>.</p>
</div>
<div class="paragraph">
<p>The Query String syntax does not support SQL++ field syntax.
For example, you cannot use <code>[*]</code> or <code>[3]</code> as array locations in a field name path.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Query String query for "pool" in the description field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-field-name.jsonc#L2-L6">{ 
    "query": {
        "query": "description:pool"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code> and <code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See the <a href="#must">must property</a>, <a href="#must_not">must_not property</a>, and <a href="#should">should property</a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>+</code> and <code>-</code> operators before a clause in a Query String query to run a <a href="#boolean-queries">boolean query</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>+</code> operator adds the clause to the <code>MUST</code> list of a boolean query.</p>
</li>
<li>
<p>The <code>-</code> operator adds the clause to the <code>MUST_NOT</code> list of a boolean query.</p>
</li>
<li>
<p>The Search Service adds any additional query clauses not marked with a <code>+</code> or a <code>-</code> operator to the <code>SHOULD</code> list of a boolean query.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Documents that match the <code>SHOULD</code> list of queries score higher than those that do not return a match.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Query String query with boolean syntax</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-boolean.jsonc#L2-L6">{
    "query": {
        "query": "+description:pool -continental breakfast"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Query String syntax specifies that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The document must have <code>pool</code> in the <code>description</code> field.</p>
</li>
<li>
<p>The document must not have <code>continental</code> in the <code>default</code> field.</p>
</li>
<li>
<p>The document should have <code>breakfast</code> in the <code>default</code> field.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>""</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#match_phrase">match_phrase property</a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Surround a search term in quotation marks (<code>" "</code>) to run a match phrase query.</p>
</div>
<div class="paragraph">
<p>To use a match phrase query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must specify a field to search with the <a href="#field">field property</a> or the <a href="#field-name">{field-name}</a> syntax in your search query.</p>
</li>
<li>
<p>You must have <strong>Include Term Vectors</strong> enabled or the <code>include_term_vectors</code> property set to <code>true</code> on the field you want to search.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about how to enable term vectors, see <a href="create-child-field.html#term-vectors" class="xref page">Create a Child Field</a> or <a href="search-index-params.html#term-vectors" class="xref page">Search Index JSON Properties</a>.</p>
</div>
<div class="paragraph">
<p>The Search Service searches for exact matches to the phrase you specify.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Query String match phrase query for "continental breakfast"</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-analytic.jsonc#L48-L52">{ 
    "query": {
        "query": "continental breakfast"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="analytic-queries"><a class="anchor" href="#analytic-queries"></a>Analytic Queries</h3>
<div class="paragraph">
<p>Analytic queries use an analyzer to analyze the contents of your Search query, and find a match in the documents inside your Search index.</p>
</div>
<div class="paragraph">
<p>For more information about analyzers, see <a href="customize-index.html#analyzers" class="xref page">Customize a Search Index with the Web Console</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="match"></a>match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>match</code> property to run a match query.
The Search Service searches for an exact match to the specified term inside the Search index&#8217;s default field.</p>
</div>
<div class="paragraph">
<p>You can set a specific field to search with the <a href="#field">field property</a>.</p>
</div>
<div class="paragraph">
<p>You can change the matching behavior by using the <a href="#fuzziness">fuzziness property</a>.</p>
</div>
<div class="paragraph">
<p>You cannot include spaces inside the string you provide to the <code>match</code> property without specifying the <a href="#operator">operator property</a>, which tells the Search Service how to interpret the string.</p>
</div>
<div class="paragraph">
<p>For more information about the properties you can specify with a match query, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Match query for "best" or "great" in reviews.content with the "standard" analyzer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-analytic.jsonc#L2-L9">{
    "query": {
        "match": "best great",
        "field": "reviews.content",
        "analyzer": "standard",
        "operator": "or"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match_phrase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>match_phrase</code> property to run a match phrase query.
The Search Service searches for exact matches to the phrase you specify.</p>
</div>
<div class="paragraph">
<p>Unlike a <code>match</code> query string, a match_phrase query string can contain spaces without using the <a href="#operator">operator property</a>.</p>
</div>
<div class="paragraph">
<p>To use a match phrase query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must specify a field to search with the <a href="#field">field property</a> or the <a href="#field-name">{field-name}</a> syntax in your search query.</p>
</li>
<li>
<p>You must have <strong>Include Term Vectors</strong> enabled or the <code>include_term_vectors</code> property set to <code>true</code> on the field you want to search.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about how to enable term vectors, see <a href="create-child-field.html#term-vectors" class="xref page">Create a Child Field</a> or <a href="search-index-params.html#term-vectors" class="xref page">Search Index JSON Properties</a>.</p>
</div>
<div class="paragraph">
<p>For more information about the additional properties you can specify with a match phrase query, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Match phrase query for "very nice" in reviews.content</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-analytic.jsonc#L39-L44">{
    "query": {
        "match_phrase": "very nice",
        "field": "reviews.content"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="non-analytic-queries"><a class="anchor" href="#non-analytic-queries"></a>Non-Analytic Queries</h3>
<div class="paragraph">
<p>Use Non-Analytic queries to run a search query without using an analyzer on the contents of your Search query.</p>
</div>
<div class="paragraph">
<p>For more information about analyzers, see <a href="customize-index.html#analyzers" class="xref page">Customize a Search Index with the Web Console</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="bool"></a>bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>bool</code> property to query a field that contains a boolean value.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#field">field property</a> and set the <code>bool</code> property to <code>true</code> or <code>false</code> to run a search.</p>
</div>
<div class="paragraph">
<p>The Search Service does not use any analyzers on the contents of your query.</p>
</div>
<div class="paragraph">
<p>For more information about the additional properties you can specify with a bool query, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for documents where the pets_ok field is true</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L2-L7">{ 
    "query": {
        "field": "pets_ok",
        "bool": true
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="prefix"></a>prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>prefix</code> property to run a prefix query.</p>
</div>
<div class="paragraph">
<p>Set the property to a string to return matches for any term that starts with that string in search results.</p>
</div>
<div class="paragraph">
<p>For example, you could set the <code>prefix</code> property to <code>inter</code> to return matches for <code>interview</code>, <code>internal</code>, <code>interesting</code>, and so on.</p>
</div>
<div class="paragraph">
<p>If you use the <code>prefix</code> property, the Search Service does not use any analyzers on the contents of your query text.</p>
</div>
<div class="paragraph">
<p>For more information about the additional properties you can specify with a prefix query, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for terms that start with "inter" inside the reviews.content field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L11-L16">{
    "query": {
        "prefix": "inter",
        "field": "reviews.content"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="regexp"></a>regexp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>regexp</code> property to run a regular expression query.</p>
</div>
<div class="paragraph">
<p>Set the property to a regular expression to return matches for that regular expression in search results.</p>
</div>
<div class="paragraph">
<p>If you use the <code>regexp</code> property, the Search Service does not use any analyzers on the contents of your query text.</p>
</div>
<div class="paragraph">
<p>For more information about the additional properties you can specify with a regexp query, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for terms that match the regular expression "plan.+" inside the reviews.content field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L20-L25">{ 
    "query": {
        "regexp": "plan.+",
        "field": "reviews.content"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="term"></a>term</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>term</code> property to run a term query.</p>
</div>
<div class="paragraph">
<p>The Search Service searches for an exact match for the text you provide in the <code>term</code> property.</p>
</div>
<div class="paragraph">
<p>You can change the matching behavior by using the <a href="#fuzziness">fuzziness property</a>.</p>
</div>
<div class="paragraph">
<p>If you use the <code>term</code> property, the Search Service does not use any analyzers on the contents of your query text.</p>
</div>
<div class="paragraph">
<p>For more information about the additional properties you can specify with a term query, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for terms that match the term "interest" inside the reviews.content field with a fuzziness of 2</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L29-L35">{ 
    "query": {
        "term": "interest",
        "field": "reviews.content",
        "fuzziness": 2
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="terms"></a>terms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>terms</code> array to run a phrase query.
The Search Service searches for the strings you provide in the <code>terms</code> array in the specified order.</p>
</div>
<div class="paragraph">
<p>Unlike the <a href="#match_phrase">match_phrase property</a>, the <code>terms</code> array does not use any analyzers on the contents of your query text.</p>
</div>
<div class="paragraph">
<p>For example, set the <code>terms</code> array to <code>["nice", "view"]</code>.
The Search Service looks for any occurrences of <code>nice</code> in a document that are followed by an occurrence of <code>view</code>.</p>
</div>
<div class="paragraph">
<p>To use a phrase query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must set the <a href="#field">field property</a> in your search query.</p>
</li>
<li>
<p>You must have <strong>Include Term Vectors</strong> enabled or the <code>include_term_vectors</code> property set to <code>true</code> on the field you want to search.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about how to enable term vectors, see <a href="create-child-field.html#term-vectors" class="xref page">Create a Child Field</a> or <a href="search-index-params.html#term-vectors" class="xref page">Search Index JSON Properties</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for the phrase "nice view" in the reviews.content field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L39-L44">{ 
    "query": {
        "terms": ["nice", "view"],
        "field": "reviews.content"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="wildcard"></a>wildcard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>wildcard</code> property to run a wildcard query.</p>
</div>
<div class="paragraph">
<p>Set the property to a regular expression that includes a wildcard character in the middle or end of a search term:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>?</code> to allow a match to any single character.</p>
</li>
<li>
<p>Use <code>*</code> to allow a match to zero or many characters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, you could set the <code>wildcard</code> property to <code>inter*</code> to return matches for <code>interview</code>, <code>interject</code>, <code>internal</code>, and so on.</p>
</div>
<div class="paragraph">
<p>You cannot place the wildcard character at the start of the search term.</p>
</div>
<div class="paragraph">
<p>If you use the <code>wildcard</code> property, the Search Service does not use any analyzers on the contents of your query text.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for any terms that start with "inter" followed by zero or more characters in the reviews.content field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L48-L53">{ 
    "query": {
        "wildcard": "inter*",
        "field": "reviews.content"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="numeric-range-queries"><a class="anchor" href="#numeric-range-queries"></a>Numeric Range Queries</h3>
<div class="paragraph">
<p>Use a numeric range query to search for a range of numbers inside documents in your Search index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-numeric-range.jsonc#L10-L18">{ 
    "query": {
        "min": 3,
        "max": 5,
        "inclusive_min": false,
        "inclusive_max": true,
        "field": "reviews.ratings.Cleanliness"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>field</code> value is an optional property. For more information about the <code>field</code> property, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the minimum value of the numeric range that you want to search for.</p>
</div>
<div class="paragraph">
<p>You can specify only a <code>min</code> value or only a <code>max</code> value on your numeric range.</p>
</div>
<div class="paragraph">
<p>By default, <code>min</code> is inclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the maximum value of the numeric range that you want to search for.</p>
</div>
<div class="paragraph">
<p>You can specify only a <code>max</code> value or only a <code>min</code> value on your numeric range.</p>
</div>
<div class="paragraph">
<p>By default, <code>max</code> is exclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inclusive_min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set whether the Search Service should return documents that contain the exact <code>min</code> value.</p>
</div>
<div class="paragraph">
<p>If you set <code>inclusive_min</code> to <code>false</code>, only values greater than <code>min</code> count as a match to your Search query.</p>
</div>
<div class="paragraph">
<p>If you do not set the <code>inclusive_min</code> value, by default, <code>min</code> is inclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inclusive_max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set whether the Search Service should return documents that contain the exact <code>max</code> value.</p>
</div>
<div class="paragraph">
<p>If you set <code>inclusive_max</code> to <code>false</code>, only values less than <code>max</code> count as a match to your Search query.</p>
</div>
<div class="paragraph">
<p>If you do not set the <code>inclusive_max</code> value, by default, <code>max</code> is exclusive to the range.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="date-range-queries"><a class="anchor" href="#date-range-queries"></a>Date Range Queries</h3>
<div class="paragraph">
<p>Use a date range query to search for a range of date values inside documents in your Search index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-date-range.jsonc#L10-L18">{
    "query": {
        "start": "2001-10-09T10:20:30-08:00",
        "end": "2016-10-31",
        "inclusive_start": false,
        "inclusive_end": false,
        "field": "reviews.date"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>field</code> value is an optional property. For more information about the <code>field</code> property, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the start date of the date range that you want to search for.</p>
</div>
<div class="paragraph">
<p>You can specify only a <code>start</code> value or only a <code>end</code> value on your date range.</p>
</div>
<div class="paragraph">
<p>By default, <code>start</code> is inclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the end date of the date range that you want to search for.</p>
</div>
<div class="paragraph">
<p>You can specify only a <code>end</code> value or only a <code>start</code> value on your date range.</p>
</div>
<div class="paragraph">
<p>By default, <code>end</code> is exclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inclusive_start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set whether the Search Service should return documents that contain the exact <code>start</code> value.</p>
</div>
<div class="paragraph">
<p>If you set <code>inclusive_start</code> to <code>false</code>, only dates later than <code>start</code> count as a match to your Search query.</p>
</div>
<div class="paragraph">
<p>If you do not set the <code>inclusive_start</code> value, by default, <code>start</code> is inclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inclusive_end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set whether the Search Service should return documents that contain the exact <code>end</code> value.</p>
</div>
<div class="paragraph">
<p>If you set <code>inclusive_end</code> to <code>false</code>, only dates earlier than <code>end</code> count as a match to your Search query.</p>
</div>
<div class="paragraph">
<p>If you do not set the <code>inclusive_end</code> value, by default, <code>end</code> is exclusive to the range.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="term-range-queries"><a class="anchor" href="#term-range-queries"></a>Term Range Queries</h3>
<div class="paragraph">
<p>Use a term range query to search for a range of terms inside documents in your Search index.</p>
</div>
<div class="paragraph">
<p>For example, the following query searches for any terms that occur in alphabetical order between <code>be</code> and <code>beautiful</code> from the <code>reviews.content</code> field in a Search index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-term-range.jsonc">{ 
    "query": {  
        "min": "be", 
        "max": "beautiful",  
        "inclusive_min": true,  
        "inclusive_max": true,  
        "field": "reviews.content" 
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The query returns results such as <code>beach</code>, <code>beaches</code>, <code>beans</code>, and <code>beast</code>.</p>
</div>
<div class="paragraph">
<p>The <code>field</code> value is an optional property. For more information about the <code>field</code> property, see <a href="#additional-query-properties">Additional Query Object Properties</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the minimum term of the term range that you want to search for.</p>
</div>
<div class="paragraph">
<p>You can specify only a <code>min</code> value or only a <code>max</code> value on your term range.</p>
</div>
<div class="paragraph">
<p>By default, <code>min</code> is inclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the minimum term of the term range that you want to search for.</p>
</div>
<div class="paragraph">
<p>You can specify only a <code>max</code> value or only a <code>min</code> value on your term range.</p>
</div>
<div class="paragraph">
<p>By default, <code>max</code> is exclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inclusive_min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set whether the Search Service should return documents that contain the exact <code>min</code> value.</p>
</div>
<div class="paragraph">
<p>If you set <code>inclusive_min</code> to <code>false</code>, only terms that would occur after <code>min</code> in the dictionary count as a match to your Search query.</p>
</div>
<div class="paragraph">
<p>If you do not set the <code>inclusive_min</code> value, by default, <code>min</code> is inclusive to the range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inclusive_max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set whether the Search Service should return documents that contain the exact <code>max</code> value.</p>
</div>
<div class="paragraph">
<p>If you set <code>inclusive_max</code> to <code>false</code>, only terms that would occur before <code>max</code> in the dictionary count as a match to your Search query.</p>
</div>
<div class="paragraph">
<p>If you do not set the <code>inclusive_max</code> value, by default, <code>max</code> is exclusive to the range.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ip-address-range-queries"><a class="anchor" href="#ip-address-range-queries"></a>IP Address Range Queries</h3>
<div class="paragraph">
<p>Use an IP Address Range query to search for IP address data in your Search index.</p>
</div>
<div class="paragraph">
<p>You can use IPv4 or IPv6 CIDR syntax in your query.</p>
</div>
<div class="paragraph">
<p>For example, the following query searches for any IP addresses in the range <code>2.7.13.141/32</code> and <code>2001:4860:4860::8888/24</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-ip-range.jsonc">{
    "query": {
        "conjuncts": [
            {
                "cidr": "2.7.13.0/24",
                "field": "ipv4"
            },
            {
                "cidr": "2001:db8:1234:5678::/119",
                "field": "ipv6"
            }
        ]
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If your IP range includes over 1024 IP addresses, you must update the <code>bleveMaxResultWindow</code> setting to accommodate your results.
For more information about how to change this setting, see <a href="#server:fts:fts-advanced-settings-bleveMaxResultWindow.adoc" class="xref unresolved">server:fts:fts-advanced-settings-bleveMaxResultWindow.adoc</a>.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cidr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String Containing An IPv4 or IPv6 IP Address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enter an IP address range or single IP address, in IPv4 or IPv6 CIDR notation.</p>
</div>
<div class="paragraph">
<p>The Search Service returns documents with IP addresses that fall inside the specified range or match the specified IP address.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geopoint-queries-distance"><a class="anchor" href="#geopoint-queries-distance"></a>Distance/Radius-Based Geopoint Queries</h3>
<div class="paragraph">
<p>Use a Geopoint distance/radius-based query to search for geo location values in a set radius around a specified latitude and longitude:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geopoint.jsonc#L2-L11">{
  "query": {
      "location": {
        "lon": -2.235143,
        "lat": 53.482358
      },
        "distance": "100mi",
        "field": "geo"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a Geopoint query, you must have a child field in your Search index with the <code>geopoint</code> type.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object or Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the geo location value to use as the center of the search radius for your query.</p>
</div>
<div class="paragraph">
<p>If you use <code>location</code> as an object, you must set two values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>lon</code>: The longitude of the geo location to use as the center of the search radius.</p>
</li>
<li>
<p><code>lat</code>: The latitude of the geo location to use as the center of the search radius.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you use <code>location</code> as an array, your array must contain a longitude value followed by a latitude value.
For example, <code>[-2.235143, 53.482358]</code>, where <code>-2.235143</code> is the longitude.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">distance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The radius where the Search Service should search for matching geo location values.</p>
</div>
<div class="paragraph">
<p>Enter the radius as a single string, with a numeric value and a unit value.
For example, <code>100.5mi</code>.</p>
</div>
<div class="paragraph">
<p>You can use the following distance units:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mm</code>: Millimeters</p>
</li>
<li>
<p><code>cm</code>: Centimeters</p>
</li>
<li>
<p><code>in</code>: Inches</p>
</li>
<li>
<p><code>yd</code>: Yards</p>
</li>
<li>
<p><code>ft</code>: Feet</p>
</li>
<li>
<p><code>m</code>: Meters</p>
</li>
<li>
<p><code>km</code>: Kilometers</p>
</li>
<li>
<p><code>mi</code>: Miles</p>
</li>
<li>
<p><code>nm</code>: Nautical miles</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geopoint-queries-rectangle"><a class="anchor" href="#geopoint-queries-rectangle"></a>Rectangle-Based Geopoint Queries</h3>
<div class="paragraph">
<p>Use a Geopoint rectangle-based query to search for geo location values in a defined rectangle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geopoint.jsonc#L14-L23">{ 
  "query": {
      "top_left": [-2.235143, 53.482358],
      "bottom_right": {
        "lon": 28.955043,
        "lat": 40.991862
      },
      "field": "geo"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Search Service takes a value for the top-left and bottom-right corners of a rectangle, and draws a bounding box that connects those points.
The resulting rectangle is used as the search area for geo location values.</p>
</div>
<div class="paragraph">
<p>To use a Geopoint query, you must have a child field in your Search index with the <code>geopoint</code> type.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">top_left</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object or Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the geo location value to use as the top-left corner point of the rectangle search area.</p>
</div>
<div class="paragraph">
<p>If you use <code>top_left</code> as an object, you must set two values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>lon</code>: The longitude of the geo location to use as the top-left corner of the rectangle.</p>
</li>
<li>
<p><code>lat</code>: The latitude of the geo location to use as the top-left corner of the rectangle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you use <code>top_left</code> as an array, your array must contain a longitude floating point value followed by a latitude floating point value.
For example, <code>[-2.235143, 53.482358]</code>, where <code>-2.235143</code> is the longitude.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bottom_right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object or Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the geo location value to use as the bottom-right corner point of the rectangle search area.</p>
</div>
<div class="paragraph">
<p>If you use <code>bottom_right</code> as an object, you must set two values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>lon</code>: The longitude of the geo location to use as the bottom-right corner of the rectangle.</p>
</li>
<li>
<p><code>lat</code>: The latitude of the geo location to use as the bottom-right corner of the rectangle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you use <code>bottom_right</code> as an array, your array must contain a longitude floating point value followed by a latitude floating point value.
For example, <code>[-2.235143, 53.482358]</code>, where <code>-2.235143</code> is the longitude.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geopoint-queries-polygon"><a class="anchor" href="#geopoint-queries-polygon"></a>Polygon-Based Geopoint Queries</h3>
<div class="paragraph">
<p>Use a Geopoint polygon-based query to search for geo location values in a defined polygon:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geopoint.jsonc#L26-L38">{
  "query": {
      "field": "geo",
      "polygon_points": [
        "37.79393211306212,-122.44234633404847",
        "37.77995881733997,-122.43977141339417",
        "37.788031092020155,-122.42925715405579",
        "37.79026946582319,-122.41149020154114",
        "37.79571192027403,-122.40735054016113",
        "37.79393211306212,-122.44234633404847"
      ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Search Service takes an array of latitude and longitude values and connects them in the specified order to form a polygon.
The resulting polygon is used as the search area for geo location values.</p>
</div>
<div class="paragraph">
<p>To use a Geopoint query, you must have a child field in your Search index with the <code>geopoint</code> type.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">polygon_points</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set an array of latitude and longitude string values to use as the points in your polygon search area.</p>
</div>
<div class="paragraph">
<p>For example, an array of <code>[ "37.79393211306212,-122.44234633404847", "37.77995881733997,-122.43977141339417", "37.788031092020155,-122.42925715405579"]</code> is interpreted as 3 separate polygon points and creates a 3-sided polygon.</p>
</div>
<div class="paragraph">
<p>For <code>polygon_points</code>, the first value in the string is the latitude, and the second is the longitude.</p>
</div>
<div class="paragraph">
<p>You can set the last value in the array to the same value as the first latitude and longitude to explicitly close your polygon.
Otherwise, the Search Service infers the polygon&#8217;s closure.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-point"><a class="anchor" href="#geojson-queries-point"></a>Point GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON Point query to search for a single latitude and longitude coordinate that intersects or is contained inside a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L2-L13">{
    "query": {        
        "field": "geojson",     
        "geometry": {                
            "shape": {                      
                "type": "point",                      
                "coordinates": [0.47482593026924746, 51.31232878073189]               
            },                
            "relation": "intersects"          
        }    
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#point-shape">shape property</a> and <a href="#point-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="point-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#point-type">type property</a> and <a href="#point-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="point-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>point</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="point-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of coordinate floating point values that define the GeoJSON shape.</p>
</div>
<div class="paragraph">
<p>For a <code>point</code> query, set the <code>coordinates</code> array to a single array with a longitude and latitude value.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in the <code>coordinates</code> array as the longitude value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="point-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON Point search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: The defined query Point overlaps a defined Point or LineString, or exists within the defined area for a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, the query point must only overlap with one Point, LineString, or Polygon.</p>
</div>
</li>
<li>
<p><code>contains</code>: The defined query Point overlaps a defined Point or LineString, or exists within the defined area for a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, the query point must only overlap with one Point, LineString, or Polygon.</p>
</div>
</li>
<li>
<p><code>within</code>: Not supported for Point queries.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-linestring"><a class="anchor" href="#geojson-queries-linestring"></a>LineString GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON LineString query to search for a line of coordinates that intersects or is contained inside a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L16-L30">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
            "type": "linestring",
            "coordinates": [
                    [-2.753735609842721, 53.94860827535115],
                    [-2.599898256093695,53.65007434185782]
                ]
            },
            "relation": "intersects"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#linestring-shape">shape property</a> and <a href="#linestring-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="linestring-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#linestring-type">type property</a> and <a href="#linestring-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="linestring-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>linestring</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="linestring-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array that contains arrays of 2 coordinate floating point values that define the GeoJSON LineString shape.</p>
</div>
<div class="paragraph">
<p>For a <code>linestring</code> query, the <code>coordinates</code> array can contain multiple coordinate point arrays.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in any nested <code>coordinates</code> array as the longitude value for the coordinate.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="linestring-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON LineString search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: The defined query LineString overlaps a defined Point or LineString, or intersects with the defined edges of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, the defined LineString must only overlap one Point, or intersect one LineString or Polygon.</p>
</div>
</li>
<li>
<p><code>contains</code>: The start and end points of the LineString are within the defined area of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
For MultiPolygon or GeometryCollection shapes, only one Polygon must contain both the start and end points of the LineString.</p>
</div>
</li>
<li>
<p><code>within</code>: Not supported for LineString queries.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-polygon"><a class="anchor" href="#geojson-queries-polygon"></a>Polygon GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON Polygon query to search for a defined area that intersects, is contained inside, or surrounds a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L33-L67">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "type": "Polygon",
                "coordinates": [
                    [
                    [
                        0.47482593026924746,
                        51.31232878073189
                    ],
                    [
                        0.6143265647863245,
                        51.31232878073189
                    ],
                    [
                        0.6143265647863245,
                        51.384000374770466
                    ],
                    [
                        0.47482593026924746,
                        51.384000374770466
                    ],
                    [
                        0.47482593026924746,
                        51.31232878073189
                    ]
                    ]
                ]
            },
            "relation": "within"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#polygon-shape">shape property</a> and <a href="#polygon-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="polygon-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#polygon-type">type property</a> and <a href="#polygon-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="polygon-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>polygon</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="polygon-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array that contains an outer array, and arrays of 2 coordinate floating point values that define the GeoJSON Polygon shape.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in any nested <code>coordinates</code> array as the longitude value for the coordinate.</p>
</div>
<div class="paragraph">
<p>The Search Service also follows strict GeoJSON syntax, and expects exterior coordinates in a polygon to be in counterclockwise order.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="polygon-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON Polygon search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: The defined query Polygon contains a Point, or one of its edges intersects a LineString, Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, only one Point must be contained, or only one LineString or Polygon must intersect.</p>
</div>
</li>
<li>
<p><code>contains</code>: The entire defined area of the query Polygon exists inside a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
For multi-shape geometries, one shape must contain the entirety of the defined query Polygon.</p>
</div>
</li>
<li>
<p><code>within</code>: The query Polygon contains a Point, the endpoints of a LineString, or the entirety of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, the query Polygon must contain the entirety of each defined Point, LineString, or Polygon.</p>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-multipoint"><a class="anchor" href="#geojson-queries-multipoint"></a>MultiPoint GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON MultiPoint query to search for multiple coordinate points that intersect or are contained inside a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L70-L84">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "type": "MultiPoint",
                "coordinates": [
                    [1.954764, 50.962097],
                    [3.029578, 49.868547]
                ]
            },
            "relation": "intersects"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#multipoint-shape">shape property</a> and <a href="#multipoint-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipoint-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#multipoint-type">type property</a> and <a href="#multipoint-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipoint-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>multipoint</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipoint-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array that contains arrays of 2 coordinate floating point values that define the GeoJSON MultiPoint shape.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in any nested <code>coordinates</code> array as the longitude value for the coordinate.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipoint-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON MultiPoint search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: One of the points in the MultiPoint overlaps a Point or a LineString endpoint, or exists inside the area of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, only one Point must inside the shape or overlap a Point or endpoint.</p>
</div>
</li>
<li>
<p><code>contains</code>: All points in the MultiPoint exist inside a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
A MultiPoint shape can return a match if all points in the query overlap with the MultiPoint in the document.</p>
</div>
<div class="paragraph">
<p>A MultiPolygon or GeometryCollection returns a match if all query points exist within any of the defined Polygons or MultiPoints.</p>
</div>
</li>
<li>
<p><code>within</code>: Any of the points in the query MultiPoint overlap with a defined Point.</p>
<div class="paragraph">
<p>A MultiPoint shape returns a match if all points in the query overlap with the MultiPoint in the document.</p>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-multilinestring"><a class="anchor" href="#geojson-queries-multilinestring"></a>MultiLineString GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON MultiLineString query to search for multiple <a href="#geojson-queries-linestring">LineStrings</a> that intersect or are contained inside a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L87-L101">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "type": "MultiLineString",
                "coordinates": [
                        [ [1.954764, 50.962097], [3.029578, 49.868547] ],
                        [ [3.029578, 49.868547], [-0.387444, 48.545836] ]
                    ]
            },
            "relation": "intersects"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#multilinestring-shape">shape property</a> and <a href="#multilinestring-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multilinestring-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#multilinestring-type">type property</a> and <a href="#multilinestring-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multilinestring-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>multilinestring</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multilinestring-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array that contains nested arrays, each with their own nested arrays of 2 coordinate floating point values.</p>
</div>
<div class="paragraph">
<p>For example, the following <code>coordinates</code> array defines 2 LineStrings with start and end points:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"coordinates": [
    [
        [1.954764, 50.962097], [3.029578, 49.868547]
    ],

    [
        [3.029578, 49.868547], [-0.387444, 48.545836]
    ]
]</pre>
</div>
</div>
<div class="paragraph">
<p>The innermost arrays define the individual points for a LineString in the MultiLineString shape.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in the nested <code>coordinates</code> arrays as the longitude value for a coordinate.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multilinestring-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON MultiLineString search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: Any LineString inside the defined query MultiLineString overlaps a defined Point or LineString, or intersects with the defined edges of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, any defined LineString must only overlap one Point, or intersect one LineString or Polygon.</p>
</div>
</li>
<li>
<p><code>contains</code>: The start and end points of every LineString inside the defined query MultiLineString are within the defined area of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
For MultiPolygon or GeometryCollection shapes, only one Polygon must contain both the start and end points of every LineString.</p>
</div>
</li>
<li>
<p><code>within</code>: Not supported for MultiLineString queries.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-multipolygon"><a class="anchor" href="#geojson-queries-multipolygon"></a>MultiPolygon GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON MultiPolygon query to search for a group of defined <a href="#geojson-queries-polygon">Polygons</a> that intersect, are contained inside, or surround a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L104-L133">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "type": "MultiPolygon",
                "coordinates": [
                    [
                        [[-1.8167959002718135, 53.8626654046235],
                        [-1.8728039536828476, 53.6335890387158],
                        [-1.4029586167332582, 53.57727933778668],
                        [-1.0031233465474827, 53.664942195474936],
                        [-1.1742590653039997, 53.84522968338081],
                        [-1.5523134258297944, 53.89384804206853],
                        [-1.8167959002718135, 53.8626654046235]]
                    ],
                    [
                        [[-2.4935598789906805, 53.64373525825596],
                        [-2.664695597747226, 53.33735696804186],
                        [-2.0143798664721544, 53.28065279675474],
                        [-1.8572461610683888, 53.550482816448266],
                        [-2.309977926141812, 53.604982015453714],
                        [-2.4935598789906805, 53.64373525825596]]
                    ]
                ]
            },
            "relation": "within"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#multipolygon-shape">shape property</a> and <a href="#multipolygon-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipolygon-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#multipolygon-type">type property</a> and <a href="#multipolygon-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipolygon-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>multipolygon</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipolygon-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array that contains arrays that describe a GeoJSON Polygon shape.</p>
</div>
<div class="paragraph">
<p>Each inner array that describes a Polygon can contain multiple arrays with 2 coordinate floating point values.
These innermost arrays describe the coordinates of the Polygon.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in any nested <code>coordinates</code> array as the longitude value for the coordinate.</p>
</div>
<div class="paragraph">
<p>The Search Service also follows strict GeoJSON syntax, and expects exterior coordinates in a polygon to be in counterclockwise order.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multipolygon-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON MultiPolygon search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: Any of the Polygons defined in the query MultiPolygon contain a Point, or one of their edges intersects a LineString, Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, only one Point must be contained in a query Polygon, or only one LineString or Polygon must intersect.</p>
</div>
</li>
<li>
<p><code>contains</code>: Every Polygon defined in the query MultiPolygon exists inside a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
For multi-shape geometries, one shape must contain the entirety of the defined query Polygons.</p>
</div>
</li>
<li>
<p><code>within</code>: Any of the Polygons defined in the query MultiPolygon contain a Point, the endpoints of a LineString, or the entirety of a Polygon, Circle, or Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, any of the query Polygons must collectively contain the entirety of each defined Point, LineString, or Polygon.</p>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-geometrycollection"><a class="anchor" href="#geojson-queries-geometrycollection"></a>GeometryCollection GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON GeometryCollection query to search for a group of defined <a href="#geojson-queries-point">Points</a>, <a href="#geojson-queries-linestring">LineStrings</a>, or <a href="#geojson-queries-polygon">Polygons</a> that intersect, are contained inside, or surround a GeoJSON shape in your documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L136-L177">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "type": "geometrycollection",
                "geometries": [
                    {
                        "type": "linestring",
                        "coordinates": [
                            [-2.753735609842721, 53.94860827535115],
                            [-2.599898256093695, 53.65007434185782]
                        ]
                    }, 
                    {
                        "type": "multipolygon",
                        "coordinates": [
                            [[
                                [-1.8167959002718135, 53.8626654046235],
                                [-1.8728039536828476, 53.6335890387158],
                                [-1.4029586167332582, 53.57727933778668],
                                [-1.0031233465474827, 53.664942195474936],
                                [-1.1742590653039997, 53.84522968338081],
                                [-1.5523134258297944, 53.89384804206853],
                                [-1.8167959002718135, 53.8626654046235]
                            ]],
                            [[
                                [-2.4935598789906805, 53.64373525825596],
                                [-2.664695597747226, 53.33735696804186],
                                [-2.0143798664721544, 53.28065279675474],
                                [-1.8572461610683888, 53.550482816448266],
                                [-2.309977926141812, 53.604982015453714],
                                [-2.4935598789906805, 53.64373525825596]
                            ]]
                        ]
                    }
                ]
            },
            "relation": "contains"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#geometrycollection-shape">shape property</a> and <a href="#geometrycollection-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="geometrycollection-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#geometrycollection-type">type property</a> and <a href="#geometrycollection-geometries">geometries property</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="geometrycollection-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>geometrycollection</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="geometrycollection-geometries"></a>geometries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of Objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains objects to define each GeoJSON shape in the GeometryCollection.</p>
</div>
<div class="paragraph">
<p>Each object in the <code>geometries</code> array has a <code>type</code> property and a <a href="#geometrycollection-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Set the <code>type</code> property inside the object to the specific shape type you want to define:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geojson-queries-point">point</a></p>
</li>
<li>
<p><a href="#geojson-queries-linestring">linestring</a></p>
</li>
<li>
<p><a href="#geojson-queries-polygon">polygon</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipoint">multipoint</a></p>
</li>
<li>
<p><a href="#geojson-queries-multilinestring">multilinestring</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipolygon">multipolygon</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="geometrycollection-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array or Array of Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array or array of arrays that describes a GeoJSON shape.</p>
</div>
<div class="paragraph">
<p>The exact structure of the arrays depends on the shape:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geojson-queries-point">Point</a></p>
</li>
<li>
<p><a href="#geojson-queries-linestring">LineString</a></p>
</li>
<li>
<p><a href="#geojson-queries-polygon">Polygon</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipoint">MultiPoint</a></p>
</li>
<li>
<p><a href="#geojson-queries-multilinestring">MultiLineString</a></p>
</li>
<li>
<p><a href="#geojson-queries-multipolygon">MultiPolygon</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For any array that contains only floating point values, the Search Service uses the first value as the longitude.</p>
</div>
<div class="paragraph">
<p>The Search Service also follows strict GeoJSON syntax, and expects exterior coordinates in a polygon to be in counterclockwise order.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="geometrycollection-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON GeometryCollection search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: If any of the shapes in the query intersect with a shape in the document, the Search Service returns the document.</p>
</li>
<li>
<p><code>contains</code>: Every shape in the query must be contained, cumulatively, inside the shape or shapes defined in a document.</p>
</li>
<li>
<p><code>within</code>: Any of the shapes in a document must be contained within a shape in the query.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-circle"><a class="anchor" href="#geojson-queries-circle"></a>Circle GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON Circle query to search in a radius around a single latitude and longitude coordinate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L180-L192">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "coordinates": [-2.2450285424707204, 53.48503270828377],
                "type": "circle",
                "radius": "100mi"
            },
            "relation": "within"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#circle-shape">shape property</a> and <a href="#circle-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="circle-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#circle-type">type property</a>, <a href="#circle-coordinates">coordinates property</a>, and <a href="#circle-radius">radius property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="circle-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>circle</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="circle-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of coordinate floating point values that define the center point of the Circle.</p>
</div>
<div class="paragraph">
<p>Set the <code>coordinates</code> array to a single array with a longitude and latitude value.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in the <code>coordinates</code> array as the longitude value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="circle-radius"></a>radius</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the radius of the Circle.</p>
</div>
<div class="paragraph">
<p>Enter the radius as a single string, with a numeric value and a unit value. For example, <code>100.5mi</code>.</p>
</div>
<div class="paragraph">
<p>You can use the following distance units:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mm</code>: Millimeters</p>
</li>
<li>
<p><code>cm</code>: Centimeters</p>
</li>
<li>
<p><code>in</code>: Inches</p>
</li>
<li>
<p><code>yd</code>: Yards</p>
</li>
<li>
<p><code>ft</code>: Feet</p>
</li>
<li>
<p><code>m</code>: Meters</p>
</li>
<li>
<p><code>km</code>: Kilometers</p>
</li>
<li>
<p><code>mi</code>: Miles</p>
</li>
<li>
<p><code>nm</code>: Nautical miles</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="circle-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON Circle search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: A defined Point exists within the radius of the Circle, or a LineString, Polygon, Envelope or Circle intersects the Circle.</p>
<div class="paragraph">
<p>For multi-shape geometries, the Circle must only contain with one Point, or intersect one LineString or Polygon.</p>
</div>
</li>
<li>
<p><code>contains</code>: A defined Polygon, Envelope, or Circle contains the entire defined query Circle.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
For MultiPolygons or GeometryCollections containing only Polygons, the query Circle must be contained by one Polygon.</p>
</div>
</li>
<li>
<p><code>within</code>: All defined GeoJSON shapes in the document must exist inside the defined query Circle.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="geojson-queries-envelope"><a class="anchor" href="#geojson-queries-envelope"></a>Envelope GeoJSON Queries</h3>
<div class="paragraph">
<p>Use a GeoJSON Envelope query to search in a bounded rectangle, based on a pair of coordinates that define the minimum and maxium longitude and latitude:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-geojson.jsonc#L195-L209">{
    "query": {
        "field": "geojson",
        "geometry": {
            "shape": {
                "type": "Envelope",
                "coordinates": [
                    [-3.1720240079703785, 53.58545703217979],
                    [-1.8566251855731082, 53.282076725710596]
                ]
            },
            "relation": "intersects"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use a GeoJSON query, you must have a child field in your Search index with the <code>geoshape</code> type.
The <code>geoshape</code> field must contain a <code>type</code> property and a <code>coordinates</code> array.
For more information about how to create a child field, see <a href="create-child-field.html" class="xref page">Create a Child Field</a> or <a href="#child-fields">the {field-name} object</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#envelope-shape">shape property</a> and <a href="#envelope-relation">relation</a> property.</p>
</div>
<div class="paragraph">
<p>Defines the GeoJSON shape and how the Search Service should find a match in documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="envelope-shape"></a>shape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains the <a href="#envelope-type">type property</a> and <a href="#envelope-coordinates">coordinates property</a>.</p>
</div>
<div class="paragraph">
<p>Defines the specific GeoJSON shape to use in the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="envelope-type"></a>type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set <code>type</code> to <code>envelope</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="envelope-coordinates"></a>coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of 2 Arrays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of 2 different arrays that contain coordinate floating point values.</p>
</div>
<div class="paragraph">
<p>The first <code>coordinates</code> nested array contains the minimum longitude and maximum latitude, or the top-left corner of the rectangle.</p>
</div>
<div class="paragraph">
<p>The second nested array contains the maximum longitude and minimum latitude, or the bottom-right corner.</p>
</div>
<div class="paragraph">
<p>The Search Service uses the first value in the nested <code>coordinates</code> array as the longitude value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="envelope-relation"></a>relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service should return a match for a GeoJSON Envelope search.</p>
</div>
<div class="paragraph">
<p>Your selected <code>relation</code> type determines which shapes return a match for your query.</p>
</div>
<div class="paragraph">
<p>You can use the following string values in the <code>relation</code> property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>intersects</code>: A defined Point exists within the Envelope, or a LineString, Polygon, Envelope or Circle intersects the Envelope.</p>
<div class="paragraph">
<p>For multi-shape geometries, the Envelope must only contain with one Point, or intersect one LineString or Polygon.</p>
</div>
</li>
<li>
<p><code>contains</code>: A defined Polygon, Envelope, or Circle contains the entire defined query Envelope.</p>
<div class="paragraph">
<p>Points and LineStrings are not supported.
For MultiPolygons or GeometryCollections containing only Polygons, the query Envelope must be contained by one Polygon.</p>
</div>
</li>
<li>
<p><code>within</code>: All defined GeoJSON shapes in the document must exist inside the defined query Envelope.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="special-queries"><a class="anchor" href="#special-queries"></a>Special Queries</h3>
<div class="paragraph">
<p>You can use the following special queries as the only properties inside a <code>query</code> object to return all or no documents from your Search index in search results.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match_all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use the <code>match_all</code> object as the only property in your <code>query</code> object to return all documents from the Search index in search results.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Return all documents in the Search index</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-special.jsonc#L2-L6">{ 
    "query": {
        "match_all": {}
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match_none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use the <code>match_none</code> object as the only property in your <code>query</code> object to return no documents from the Search index in search results.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Return no documents from the Search index</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-special.jsonc#L10-L14">{
    "query": {
        "match_none": {}
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="additional-query-properties"><a class="anchor" href="#additional-query-properties"></a>Additional Query Object Properties</h3>
<div class="paragraph">
<p>You can use the following properties to modify the results returned by specific query types.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="analyzer"></a>analyzer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>analyzer</code> property to modify the behavior of a <a href="#match">match query</a> or a <a href="#match_phrase">match phrase query</a>.</p>
</div>
<div class="paragraph">
<p>Set the <code>analyzer</code> property to the name of the analyzer you want to use on the contents of the <a href="#match">match property</a> or <a href="#match_phrase">match_phrase property</a>.</p>
</div>
<div class="paragraph">
<p>The specified analyzer only applies to the content of your Search request.
It does not apply to the contents of documents in the Search index.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Match query for "location" and "hostel" in reviews.content with the "en" analyzer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-analytic.jsonc#L12-L18">{
    "query":{
        "match": "location hostel",
        "field": "reviews.content",
        "analyzer": "en"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="boost"></a>boost</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If you use multiple clauses in a query, you can use the <code>boost</code> property to assign the relative importance to a clause.</p>
</div>
<div class="paragraph">
<p>Clauses with a higher value in the <code>boost</code> property score higher and appear earlier in search results.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Disjunction query with boost property on the city field containing glossop</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-boost.jsonc#L10-L24">{
    "query": {
        "disjuncts": [
            {
                "match": "glossop",
                "field": "city",
                "boost": 10
            },
            {
                "match": "glossop",
                "field": "title"
            }
        ]
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="field"></a>field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specify a specific field name, using dot notation, where the Search Service should search for a match to your search query.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for documents where the pets_ok field is true</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L2-L7">{ 
    "query": {
        "field": "pets_ok",
        "bool": true
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="fuzziness"></a>fuzziness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>fuzziness</code> property to run a fuzzy query.</p>
</div>
<div class="paragraph">
<p>The <code>fuzziness</code> property uses your specified edit distance to match terms based on their similarity, rather than exact matches.</p>
</div>
<div class="paragraph">
<p>You can set <code>fuzziness</code> to a maximum value of <code>2</code>.</p>
</div>
<div class="paragraph">
<p>Use the <code>fuzziness</code> property with the <a href="#term">term property</a> for a term query or the <a href="#match">match property</a> for a match query.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Search for a match the term "interest" inside the reviews.content field with a fuzziness of 2</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-non-analytic.jsonc#L29-L35">{ 
    "query": {
        "term": "interest",
        "field": "reviews.content",
        "fuzziness": 2
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="operator"></a>operator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>operator</code> property to modify the behavior of a <a href="#match">match query</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"and": Any spaces between terms in the <a href="#match">match property</a> are interpreted as the <code>AND</code> operator. Documents must match all of the terms in the query.</p>
</li>
<li>
<p>"or": Any spaces between terms in the <a href="#match">match property</a> are interpreted as the <code>OR</code> operator. Documents must match at least one of the terms in the query.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, if you set a <code>match</code> property to the value <code>"good great"</code> and the <code>operator</code> property to <code>"and"</code>, the Search Service only returns matches for documents that contain <code>good</code> and <code>great</code>.</p>
</div>
<div class="paragraph">
<p>If you set the <code>operator</code> property to <code>"or"</code>, a document only needs to contain one of the terms from the <code>match</code> property: <code>good</code> or <code>great</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Match query for "best" or "worst" in reviews.content</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-analytic.jsonc#L21-L27">{
    "query": {
        "match": "best worst",
        "field": "reviews.content",
        "operator": "or"
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="prefix-length"></a>prefix_length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>prefix_length</code> property to modify the behavior of a <a href="#match">match query</a>.</p>
</div>
<div class="paragraph">
<p>The <code>prefix_length</code> changes a <a href="#match">match query</a> to a prefix match query.
The Search Service matches terms based on the query and the result sharing a prefix of the specified length.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">Match query for "location hostel" in reviews.content with a prefix_length of 4</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/query-analytic.jsonc#L30-L36">{
    "query": {
        "match": "location hostel",
        "field": "reviews.content",
        "prefix_length": 4
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ctl"><a class="anchor" href="#ctl"></a>Ctl Object</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the <code>ctl</code> object to make sure that the Search Service runs your Search query against the latest version of the documents in your database.</p>
</div>
<div class="paragraph">
<p>The <code>ctl</code> object and its properties cause the Search Service to run your query against the latest version of a document written to a <a href="#server:learn:buckets-memory-and-storage/vbuckets.adoc" class="xref unresolved">vBucket</a>.
The Search Service uses a consistency vector to synchronize the last document write to a vBucket from the Data Service with the Search index.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L45-L61">    "ctl": {
        "timeout": 10000,
        "consistency": {
            "vectors": {
                "searchIndexName": {
                    "607/205096593892159": 2,
                    "640/298739127912798": 4  
                }
            },
            "level": "at_plus",
            "results": "complete"
        }
    },</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ctl</code> object contains the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the maximum time, in milliseconds, that a Search query can execute on a Search index partition.</p>
</div>
<div class="paragraph">
<p>If the query time exceeds the <code>timeout</code>, the Search Service cancels the query.
The query might return partial results if any index partitions responded before the timeout.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">consistency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An object that contains a <code>vectors</code> object and the <code>level</code> and <code>results</code> properties.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="#consistency">Consistency Object</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="consistency"><a class="anchor" href="#consistency"></a>Consistency Object</h3>
<div class="paragraph">
<p>Use the <code>consistency</code> object to control the consistency behavior for a Search index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">        "consistency": {
            "vectors": {
                "searchIndexName": {
                    "607/205096593892159": 2,
                    "640/298739127912798": 4  
                }
            },
            "level": "at_plus",
            "results": "complete"
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>consistency</code> object has the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vectors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An object that contains a {search-index-name} object for each Search index in the query.</p>
</div>
<div class="paragraph">
<p>For more information about the {search-index-name} object, see <a href="#vectors">{search-index-name} Object</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the consistency to bounded or unbounded consistency:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>at_plus</code>: The Search query executes but requires that the Search index matches the timestamp of the last document update.
You must provide a <code>vectors</code> object</p>
</li>
<li>
<p><code>not_bounded</code>: The Search query executes without a consistency requirement.
<code>not_bounded</code> is faster than <code>at_plus</code>, as it doesn&#8217;t rely on a <code>vectors</code> object or wait for the Search index to match the Data Service index.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">results</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To display an error instead of partial results if any index partitions are unavailable on a node, set <code>results</code> to <code>complete</code>.</p>
</div>
<div class="paragraph">
<p>To return partial results from a query if a node is unreachable, remove the <code>results</code> property.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="vectors"><a class="anchor" href="#vectors"></a>{search-index-name} Object</h4>
<div class="paragraph">
<p>Use a <code>{search-index-name}</code> object to set the Search index and consistency vectors for a Search query.</p>
</div>
<div class="paragraph">
<p>The <code>{search-index-name}</code> object contains a vBucket mapping and UUID property with the sequence number for each update to a vBucket&#8217;s data that you want to include in your search results:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L50-L55">            "vectors": {
                "searchIndexName": {
                    "607/205096593892159": 2,
                    "640/298739127912798": 4  
                }
            },</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your Search query uses an <a href="#server:fts:fts-creating-full-text-aliases.adoc" class="xref unresolved">index alias</a> that references multiple Search indexes, you must include a <code>{search-index-name}</code> object for each Search index in the alias.</p>
</div>
<div class="paragraph">
<p>To get the vBucket mapping, UUID, and the sequence number for a data write, use a <code>MutationToken</code> from a Data Service <code>MutationResult</code>.
The Data Service returns a <code>MutationResult</code> object or promise for CRUD operations.
For more information, see <a href="../guides/kv-operations.html" class="xref page">Key-Value Operations</a>.</p>
</div>
<div class="paragraph">
<p>For examples on how to obtain and use a <code>MutationToken</code> with the Couchbase SDKs, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../../dotnet-sdk/current/howtos/full-text-searching-with-sdk.html#consistency" class="xref page">.NET</a>
| <a href="#go-sdk:howtos:full-text-searching-with-sdk.adoc#consistency" class="xref unresolved">Go</a>
| <a href="../../../java-sdk/current/howtos/full-text-searching-with-sdk.html#consistency" class="xref page">Java</a>
| <a href="#kotlin-sdk:howtos:full-text-search.adoc#scan-consistency" class="xref unresolved">Kotlin</a>
| <a href="../../../nodejs-sdk/current/howtos/full-text-searching-with-sdk.html#scan-consistency-and-consistentwith" class="xref page">Node.js</a>
| <a href="#php-sdk:howtos:full-text-searching-with-sdk.adoc#consistency" class="xref unresolved">PHP</a>
| <a href="../../../python-sdk/current/howtos/full-text-searching-with-sdk.html#scan-consistency-and-consistent-with" class="xref page">Python</a>
| <a href="#ruby-sdk:howtos:full-text-searching-with-sdk.adoc#consistency" class="xref unresolved">Ruby</a>
| <a href="#scala-sdk:howtos:full-text-searching-with-sdk.adoc#consistency" class="xref unresolved">Scala</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{search-index-name}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the Search index that you want to search and use with consistency.</p>
</div>
<div class="paragraph">
<p>The {search-index-name} object contains a {vBucketMapping}/{vBucketUUID} property for each document write operation that you want in your search results.</p>
</div>
<div class="paragraph">
<p>Set the value of the property to the sequence number for the write operation.</p>
</div>
<div class="paragraph">
<p>For example, if you had a property of <code>607/205096593892159": 2</code>, the Search Service looks for a write operation on vBucket <code>607</code>, with a UUID of <code>205096593892159</code>, with sequence number <code>2</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="highlight"><a class="anchor" href="#highlight"></a>Highlight Object</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the <code>highlight</code> object to control how the Search Service highlights matches in search results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L66-L71">    "highlight": {

        "style": "html",
        "fields": ["textField"]

    },</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">style</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets how the Search Service highlights a match from a search query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ansi</code>: The Search Service highlights matches with a yellow background (\u001b[43m).</p>
</li>
<li>
<p><code>html</code>: The Search Service surrounds matches with <code>&lt;mark&gt;</code> and <code>&lt;/mark&gt;</code> HTML tags.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Contains an array of strings for each field name where you want to highlight a search query match.</p>
</div>
<div class="paragraph">
<p>If you include the <code>fields</code> array, the Search Service only highlights fields that are in the array.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="facet-name"><a class="anchor" href="#facet-name"></a>{facet-name} Object</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use a <code>{facet-name}</code> object to create a search facet.</p>
</div>
<div class="paragraph">
<p>You can have multiple <code>{facet-name}</code> objects inside the <a href="#facets">facets object</a> in your search query.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L75-L124">    "facets": {

        "field1": {
            "size": 5,
            "field": "field1"
        },

        "field2": {
            "size": 5,
            "field": "field2",
            "numeric_ranges": [
                {

                    "name": "high",
                    "min": 7,
                    "max": 10

                },
                {

                    "name": "low",
                    "min": 0,
                    "max": 7

                }
             ]
        },

        "field3": {
            "size": 10,
            "field": "dateField",
            "date_ranges": [
                {
                    "name": "old",
                    "start": "2020-12-31",
                    "end": "2023-12-31"
                },
                {
                    "name": "new",
                    "start": "2023-12-31",
                    "end": "2024-12-31"
                }  
            ]
        }

    },</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>{facet-name}</code> object contains the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the total number of categories to return with the search results for a Term facet.</p>
</div>
<div class="paragraph">
<p>The Search Service orders facet categories from values with the most occurrences to the least occurrences.</p>
</div>
<div class="paragraph">
<p>For Numeric Range and Date Range facets, the total number of categories returned depends on the number of ranges defined for the facet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the field to use to collect facet information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numeric_ranges</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If you want to collect a Numeric Range facet, add a <code>numeric_ranges</code> array.</p>
</div>
<div class="paragraph">
<p>A <code>numeric_ranges</code> array contains objects that define each numeric range you want to collect with your search results.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="#numeric">Numeric_ranges Array Objects</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_ranges</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If you want to collect a Date Range facet, add a <code>date_ranges</code> array.</p>
</div>
<div class="paragraph">
<p>A <code>date_ranges</code> array contains objects that define each date range you want to collect with your search results.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="#date">Date_ranges Array Objects</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="numeric"><a class="anchor" href="#numeric"></a>Numeric_ranges Array Objects</h3>
<div class="paragraph">
<p>The objects in a <code>numeric_ranges</code> array specify the range or ranges for a Numeric Range facet.</p>
</div>
<div class="paragraph">
<p>For example, the following <code>numeric_ranges</code> array sets two ranges, <code>high</code> and <code>low</code>, to collect for a Numeric Range facet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L86-L101">            "numeric_ranges": [
                {

                    "name": "high",
                    "min": 7,
                    "max": 10

                },
                {

                    "name": "low",
                    "min": 0,
                    "max": 7

                }
             ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Search query increments the <code>count</code> property for <code>high</code> when the value of the <code>field</code> in the <a href="#facet-name">{facet-name} Object</a> is greater than 7 but less than 10.</p>
</div>
<div class="paragraph">
<p>If the document&#8217;s <code>field</code> value is less than 7 but greater than 0, the query increments the <code>count</code> value for <code>low</code>.</p>
</div>
<div class="paragraph">
<p>You can set both a <code>min</code> and <code>max</code> for a range, or just a <code>min</code> or <code>max</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name for the numeric range.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum value to compare against the value of the <code>field</code> in the <a href="#facet-name">{facet-name} Object</a>.</p>
</div>
<div class="paragraph">
<p>If a document&#8217;s value for the field is greater than <code>min</code>, the Search Service increments the <code>count</code> value returned in the Search query results.</p>
</div>
<div class="paragraph">
<p>You can also define a <code>max</code> property to set an upper limit for your numeric range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum value to compare against the value of the <code>field</code> in the <a href="#facet-name">{facet-name} Object</a>.</p>
</div>
<div class="paragraph">
<p>If a document&#8217;s value for the field is less than <code>max</code>, the Search Service increments the <code>count</code> value returned in the Search query results.</p>
</div>
<div class="paragraph">
<p>You can also define a <code>min</code> property to set a lower limit for your numeric range.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="date"><a class="anchor" href="#date"></a>Date_ranges Array Objects</h3>
<div class="paragraph">
<p>The objects in a <code>date_ranges</code> array specify the range or ranges for a Date Range facet.</p>
</div>
<div class="paragraph">
<p>For example, the following <code>date_ranges</code> array sets two ranges, <code>old</code> and <code>new</code>, to collect for a Date Range facet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L109-L120">            "date_ranges": [
                {
                    "name": "old",
                    "start": "2020-12-31",
                    "end": "2023-12-31"
                },
                {
                    "name": "new",
                    "start": "2023-12-31",
                    "end": "2024-12-31"
                }  
            ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Search query increments the <code>count</code> property for <code>old</code> when the value of the <code>field</code> in the <a href="#facet-name">{facet-name} Object</a> is later than <code>2020-12-31</code> but earlier than <code>2023-12-31</code>.</p>
</div>
<div class="paragraph">
<p>If the document&#8217;s <code>field</code> value is later than <code>2023-12-31</code> but earlier than <code>2024-12-31</code>, the query increments the <code>count</code> value for <code>new</code>.</p>
</div>
<div class="paragraph">
<p>You can set both a <code>start</code> and <code>end</code> for a range, or just a <code>start</code> or <code>end</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name for the date range.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RFC-3339 formatted Date String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The starting date value to compare against the value of the <code>field</code> in the <a href="#facet-name">{facet-name} Object</a>.</p>
</div>
<div class="paragraph">
<p>If a document&#8217;s value for the field is later than <code>start</code>, the Search Service increments the <code>count</code> value returned in the Search query results.</p>
</div>
<div class="paragraph">
<p>You can also define a <code>end</code> property to set an upper limit for your date range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RFC-3339 formatted Date String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The ending date value to compare against the value of the <code>field</code> in the <a href="#facet-name">{facet-name} Object</a>.</p>
</div>
<div class="paragraph">
<p>If a document&#8217;s value for the field is earlier than <code>end</code>, the Search Service increments the <code>count</code> value returned in the Search query results.</p>
</div>
<div class="paragraph">
<p>You can also define a <code>start</code> property to set a lower limit for your date range.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sort"><a class="anchor" href="#sort"></a>Sort Object</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the <code>sort</code> object to control how the Search Service sorts search results.</p>
</div>
<div class="paragraph">
<p>The following <code>sort</code> object orders search results by the values in <code>field1</code>, then by <code>field2</code>, the document&#8217;s score, and then the document&#8217;s ID value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/simondew/GitHub/couchbaselabs/docs-devex/modules/search/examples/run-search-full-request.jsonc#L128-L142">    "sort": [

        "field1",
            {
                "by": "field",
                "field": "field2",
                "desc": false,
                "mode": "max",
                "missing": "last",
                "type": "number"
            },
            "-_score",
            "-_id"
            
    ],</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>sort</code> object can contain the following string values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{field_name}</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of a field in the Search index. The Search Service sorts documents based on the value of the field, in ascending order.</p>
</div>
<div class="paragraph">
<p>To sort in descending order based on a <code>{field-name}</code>, add a hyphen (-) to the start of the field name string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_id</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Search Service sorts documents based on their identifier value, in ascending order.</p>
</div>
<div class="paragraph">
<p>To sort in descending order based on a document&#8217;s ID value, add a hyphen (-) before the underscore (_) in the <code>_id</code> string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_score</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Search Service sorts documents based on their score value, in ascending order.</p>
</div>
<div class="paragraph">
<p>To sort in descending order based on a document&#8217;s score, add a hyphen (-) before the underscore (_) in the <code>_score</code> string.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To customize search result sorting beyond ascending and descending values, use a JSON object.</p>
</div>
<div class="paragraph">
<p>JSON objects in a <code>sort</code> object can contain the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">by</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets what value to use for the sort:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>id</code>: Uses the document&#8217;s ID value.</p>
</li>
<li>
<p><code>score</code>: Uses the document&#8217;s score.</p>
</li>
<li>
<p><code>field</code>: Uses the value of a specific field to sort. See <a href="#field">field</a>.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="field"></a>field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When <code>by</code> is set to <code>field</code>, specify the name of the field to use to sort search results.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">desc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To sort the values in the field in descending order, set <code>desc</code> to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>To sort the values in the field in ascending order, set <code>desc</code> to <code>false</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the order for search results when the <code>field</code> contains multiple values, such as an array:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code>: Use the first value in the field as the sort key.</p>
</li>
<li>
<p><code>min</code>: Use the smallest value in the field as the sort key.</p>
</li>
<li>
<p><code>max</code>: Use the largest value in the field as the sort key.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set how the Search Service sorts documents that do not have a value for the field specified in <code>field</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>first</code>: Documents with a missing value appear first and before other results in search results.</p>
</li>
<li>
<p><code>last</code>: Documents with a missing value appear last and after other results in search results.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the data type of the field specified in <code>field</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>string</code>: The field contains a string.</p>
</li>
<li>
<p><code>date</code>: The field contains date/time data.</p>
</li>
<li>
<p><code>number</code>: The field contains a number or geographic data, like a latitude or longitude value.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>When running a <a href="#geopoint-queries-distance">Geopoint Distance/Radius query</a>, you can set the unit of distance to use when sorting documents.</p>
</div>
<div class="paragraph">
<p>The unit of distance does not have to match the unit specified in the <a href="#query-object">query object</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2024 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
