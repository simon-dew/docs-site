<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>What&#8217;s New in Version 7.0? | Couchbase Docs (Preview)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-11696/server/7.0/introduction/whats-new.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Couchbase is the modern database for enterprise applications. Couchbase Server 7.0 combines the strengths of relational databases with the flexibility, performance, and scale of Couchbase.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.0">
<meta name="page-url" content="/server/7.0/introduction/whats-new.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.4">
<link rel="icon" href="../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://simon-dew.github.io/docs-site/DOC-11696/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-11696/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="server">
        <option value="7.2" data-url="../../current/index.html">7.2</option>
        <option value="7.0" data-url="whats-new.html" selected>7.0</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/simondew/GitHub/simon-dew/docs-server/modules/introduction/pages/whats-new.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="intro.html">server</a></li>
<li class="crumb">Introduction</li>
<li class="crumb"><a href="whats-new.html">What&#8217;s New?</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">What&#8217;s New in Version 7.0?</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase is the modern database for enterprise applications. Couchbase Server 7.0 combines the strengths of relational databases with the flexibility, performance, and scale of Couchbase.
This release adds new relational model support including a dynamic data containment model with schema-like structure layers called scopes and collections, extended support for transactional workloads, and performance and operational improvements.</p>
</div>
<div class="paragraph">
<p>For information about platform support changes, deprecation notifications, notable improvements, and fixed and known issues, refer to the <a href="../release-notes/relnotes.html" class="xref page">Release Notes</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-features"><a class="anchor" href="#new-features"></a>New Features and Enhancements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the new features and enhancements in this release.</p>
</div>
<div class="paragraph">
<p><em>Quick Links</em>: <a href="#whats-new-server-700">Scopes and Collections</a> | <a href="#whats-new-services-query-700">Query Enhancements</a> | <a href="#whats-new-services-analytics-700">Analytics Enhancements</a> | <a href="#whats-new-tools-700">The Backup Service</a> | <a href="#whats-new-metadata-700">Metadata Management</a> | <a href="#whats-new-other-700">More Enhancements</a></p>
</div>
<div class="sect2">
<h3 id="whats-new-server-700"><a class="anchor" href="#whats-new-server-700"></a>Scopes and Collections</h3>
<div class="paragraph">
<p><em>Scopes</em> and <em>collections</em> provide a dynamic data containment model by allowing you to categorize and organize documents within a bucket.</p>
</div>
<div class="paragraph">
<p>These data organization layers between Couchbase buckets and JSON documents map easily to RDBMS schema models, yet maintain the JSON flexibility to add new structures on demand.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/collections-based-data-model.png" alt="collections based data model">
</div>
</div>
<div class="paragraph">
<p>A <em>collection</em> is a data container, defined on Couchbase Server, within a bucket whose type is either <em>Couchbase</em> or <em>Ephemeral</em>.
Bucket-items can optionally be assigned to different collections according to content-type.
For example, within a bucket that contains travel information, documents that relate specifically to <em>airports</em> might be assigned to an <em>airports</em> collection, while documents that relate to <em>hotels</em> might be assigned to a <em>hotels</em> collection, and so on.</p>
</div>
<div class="paragraph">
<p>A <em>scope</em> is a mechanism for the grouping of multiple collections.
Collections might be assigned to different scopes according to content-type, or to deployment-phase (ie, test versus production).
Applications can be assigned per-scope access-rights; allowing each application to access only those collections it requires.</p>
</div>
<div class="paragraph">
<p>The benefits of scopes and collections include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logical grouping of similar documents; potentially simplifying operations such as query, XDCR, and backup and restore.</p>
</li>
<li>
<p>The increased efficiency of indexing, due to the Data Service being able to provide documents from specific collections to the Index Service.</p>
</li>
<li>
<p>Simplified querying, since query statements are able more easily to specify particular subsets of documents.</p>
</li>
<li>
<p>Easier migration from relational databases to Couchbase Server, since collections can be designed to correspond to pre-existing relational tables.</p>
</li>
<li>
<p>Secure isolation of different document-types, within a bucket; allowing applications to be specifically authorized to use only their appropriate subsets of data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A complete overview of scopes and collections is provided in <a href="../learn/data/scopes-and-collections.html" class="xref page">Scopes and Collections</a>.</p>
</div>
<div class="sect3">
<h4 id="creating-scopes-and-collections"><a class="anchor" href="#creating-scopes-and-collections"></a>Creating Scopes and Collections</h4>
<div class="paragraph">
<p>Scopes and collections can be created by means of the Couchbase Web Console UI, the Couchbase CLI, the Couchbase REST API, and the N1QL query language.
See <a href="../manage/manage-scopes-and-collections/manage-scopes-and-collections.html" class="xref page">Manage Scopes and Collections</a> for instructions.</p>
</div>
</div>
<div class="sect3">
<h4 id="assigning-roles-with-reference-to-scopes-and-collections"><a class="anchor" href="#assigning-roles-with-reference-to-scopes-and-collections"></a>Assigning Roles with Reference to Scopes and Collections</h4>
<div class="paragraph">
<p>Roles can be assigned to users with reference to specific scopes and collections, as well as to buckets.
To see how this can be performed by means of the Couchbase Web Console UI, see <a href="../manage/manage-security/manage-users-and-roles.html" class="xref page">Manage Users, Groups, and Roles</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="importing-documents-into-scopes-and-collections"><a class="anchor" href="#importing-documents-into-scopes-and-collections"></a>Importing Documents into Scopes and Collections</h4>
<div class="paragraph">
<p>Couchbase Server Version 7.0 allows documents to be imported into specific collections.
For a step-by-step guide, see <a href="../manage/import-documents/import-documents.html" class="xref page">Import Documents</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="getting-information-on-scopes-and-collections"><a class="anchor" href="#getting-information-on-scopes-and-collections"></a>Getting Information on Scopes and Collections</h4>
<div class="paragraph">
<p>Information on currently defined scopes and collections can be returned by means of the <code>cbstats</code> <a href="../cli/cbstats/cbstats-collections.html" class="xref page">collections</a>, <a href="../cli/cbstats/cbstats-collections-details.html" class="xref page">collections-details</a>, <a href="../cli/cbstats/cbstats-scopes.html" class="xref page">scopes</a>, and <a href="../cli/cbstats/cbstats-scopes-details.html" class="xref page">scopes-details</a> commands.
Additionally, collection-specific information on <em>keys</em> and <em>vkeys</em> can be returned, by means of the <code>cbstats</code> <a href="../cli/cbstats/cbstats-key.html" class="xref page">key</a> and <a href="../cli/cbstats/cbstats-vkey.html" class="xref page">vkey</a> commands, respectively.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-xdcr-with-scopes-and-collections"><a class="anchor" href="#using-xdcr-with-scopes-and-collections"></a>Using XDCR with Scopes and Collections</h4>
<div class="paragraph">
<p>XDCR can replicate to a specific scope or collection.
Examples are provided in <a href="../manage/manage-xdcr/replicate-using-scopes-and-collections.html" class="xref page">Replicate Using Scopes and Collections</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="transactions-with-n1ql"><a class="anchor" href="#transactions-with-n1ql"></a>Extended Support for Couchbase Transactions</h3>
<div class="paragraph">
<p>Couchbase Server 7.0 extends the support of transactions to the N1QL query language.
The support for multi-document ACID transactions was introduced in an earlier version (v6.5) and the feature is available to application developers through Couchbase SDK and APIs. See <a href="../learn/data/transactions.html" class="xref page">Transactions</a> to learn about transactions.</p>
</div>
<div class="paragraph">
<p>With this release, application developers and RDBMS users can use familiar transactional constructs such as START TRANSACTION, SAVEPOINT, ROLLBACK and COMMIT.  And, similar to RDBMS transactions, all N1QL DML statements support transactions.</p>
</div>
<div class="paragraph">
<p>To learn more about the transactional constructs in N1QL, see <a href="../n1ql/n1ql-language-reference/transactions.html" class="xref page">N1QL Support for Couchbase Transactions</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="whats-new-services-analytics-700"><a class="anchor" href="#whats-new-services-analytics-700"></a>Analytics Enhancements</h3>
<div class="sect3">
<h4 id="support-for-scopes-and-collections-in-analytics"><a class="anchor" href="#support-for-scopes-and-collections-in-analytics"></a>Support for Scopes and Collections in Analytics</h4>
<div class="paragraph">
<p>In the Analytics data world, the top-level organizing concept is the Analytics scope, previously known as a dataverse. An Analytics scope (dataverse) is a namespace that gives you a place to create and manage Analytics collections and other artifacts for a given Analytics application. An Analytics scope is similar to a database or a schema in a relational DBMS.</p>
</div>
<div class="paragraph">
<p>Analytics collections, previously known as datasets, are containers that hold collections of JSON objects. These collections are similar to tables in a relational RDBMS or keyspaces in the Couchbase Query service.</p>
</div>
<div class="paragraph">
<p>Take a look at the <a href="../analytics/primer-beer.html" class="xref page">Analytics Tutorial</a> which walks you through the data model and main features in the Analytics world through examples.</p>
</div>
</div>
<div class="sect3">
<h4 id="user-defined-functions-n1ql-udfs"><a class="anchor" href="#user-defined-functions-n1ql-udfs"></a>User Defined Functions (N1QL UDFs)</h4>
<div class="paragraph">
<p>User-defined functions are generally available in Couchbase Server 7.0.</p>
</div>
<div class="paragraph">
<p>In N1QL for Analytics, user-defined functions enable you to name and reuse complex or repetitive expressions, including subqueries, in order to simplify your queries. For more information, see <a href="../analytics/9_udf.html" class="xref page">User-Defined Functions</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rollup-and-cube-extensions-to-group-by"><a class="anchor" href="#rollup-and-cube-extensions-to-group-by"></a>ROLLUP and CUBE extensions to GROUP BY</h4>
<div class="paragraph">
<p>The ROLLUP and CUBE extensions to GROUP BY enable the compact formulation of powerful hierarchical aggregation queries.</p>
</div>
<div class="paragraph">
<p>The ROLLUP aggregate function enables you to generate subtotals along with the grand total row.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/analytics-rollup-sample.png" alt="analytics rollup sample">
</div>
</div>
<div class="paragraph">
<p>Take a look at the following <a href="https://blog.couchbase.com/amp-up-your-data-analysis-with-the-new-rollup-aggregation-in-couchbase-analytics/">blog</a> for a ROLLUP aggregation example.</p>
</div>
<div class="paragraph">
<p>The CUBE aggregate function enables you to generate subtotals like the ROLLUP extension. In addition, the CUBE extension will generate subtotals for all combinations of grouping columns specified in the GROUP BY clause.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/analytics-cube-sample.png" alt="analytics cube sample">
</div>
</div>
</div>
<div class="sect3">
<h4 id="support-for-python-machine-learning-models-python-udfs-developer-preview"><a class="anchor" href="#support-for-python-machine-learning-models-python-udfs-developer-preview"></a>Support for Python Machine Learning Models (Python UDFs) [Developer Preview]</h4>
<div class="paragraph">
<p>Python User-Defined Functions (UDFs) enable the evaluation of Python functions in the context of a N1QL query. The complexity of these UDFs can range from simple Python code snippets to trained models that are based on machine-learning frameworks like scikit-learn or PyTorch.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-data-support-azure-blobstore-developer-preview"><a class="anchor" href="#external-data-support-azure-blobstore-developer-preview"></a>External data support: Azure Blobstore [Developer Preview]</h4>
<div class="paragraph">
<p>External collections on Azure Blob Storage can be queried using the same user model and the same powerful query engine that was introduced for external collection on AWS S3 in Couchbase Server 6.6.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="whats-new-services-query-700"><a class="anchor" href="#whats-new-services-query-700"></a>Query Enhancements</h3>
<div class="paragraph">
<p>This release adds the following capabilities to the Query Service:</p>
</div>
<div class="sect3">
<h4 id="support-for-scopes-and-collectons-with-n1ql"><a class="anchor" href="#support-for-scopes-and-collectons-with-n1ql"></a>Support for Scopes and Collections with N1QL</h4>
<div class="paragraph">
<p>In Couchbase Server 7.0, the N1QL query language supports a dotted path syntax for keyspace references to be able to access scopes and collections.
In addition, a default query context can be specified through the Query Workbench or a request-level parameter, so that queries may refer to a collection directly without having to specify the path.</p>
</div>
<div class="paragraph">
<p>The N1QL language also contains new statements for scope and collection management.
Refer to <a href="../n1ql/n1ql-language-reference/createscope.html" class="xref page">CREATE SCOPE</a>, <a href="../n1ql/n1ql-language-reference/createcollection.html" class="xref page">CREATE COLLECTION</a>, <a href="../n1ql/n1ql-language-reference/dropscope.html" class="xref page">DROP SCOPE</a>, and <a href="../n1ql/n1ql-language-reference/dropcollection.html" class="xref page">DROP COLLECTION</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="user-defined-functions"><a class="anchor" href="#user-defined-functions"></a>User Defined Functions</h4>
<div class="paragraph">
<p>User-defined functions are generally available in Couchbase Server 7.0.
These enable you to create functions for repetitive tasks.
User-defined functions may be written in N1QL or in an external language&#8201;&#8212;&#8201;currently JavaScript is supported.</p>
</div>
<div class="paragraph">
<p>User-defined functions may be stored at the bucket level or the scope level.
This determines the context for keyspace references within the function definition.</p>
</div>
<div class="paragraph">
<p>The N1QL language includes new statements to create, replace, execute, and drop user-defined functions.
Refer to <a href="../n1ql/n1ql-language-reference/createfunction.html" class="xref page">CREATE FUNCTION</a>, <a href="../n1ql/n1ql-language-reference/execfunction.html" class="xref page">EXECUTE FUNCTION</a>, <a href="../n1ql/n1ql-language-reference/dropfunction.html" class="xref page">DROP FUNCTION</a>, and <a href="../n1ql/n1ql-language-reference/userfun.html" class="xref page">User-Defined Functions</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="cost-based-optimizer"><a class="anchor" href="#cost-based-optimizer"></a>Cost-based Optimizer</h4>
<div class="paragraph">
<p>The cost-based optimizer (CBO) is generally available in Couchbase Server 7.0.
It takes into account the cost of memory, CPU, network transport, and disk usage when choosing the optimal plan to execute a query.</p>
</div>
<div class="paragraph">
<p>The cost-based optimizer uses metadata and statistics to estimate amount of processing (memory, CPU, and I/O) for each operation.
It compares the cost of alternative routes, and then selects the query-execution plan with the least cost.</p>
</div>
<div class="paragraph">
<p>To learn more about the cost-based optimizer, see <a href="../n1ql/n1ql-language-reference/cost-based-optimizer.html" class="xref page">Cost-Based Optimizer</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="memory-usage-quota-setting"><a class="anchor" href="#memory-usage-quota-setting"></a>Memory Usage Quota Setting</h4>
<div class="paragraph">
<p>The Query Service supports several new node-level settings and request-level parameters to support transactions and collections.
The Query Service also supports a new node-level and request-level Memory Quota setting, which enables users to specify the maximum document memory consumption for a query.
Refer to <a href="../settings/query-settings.html" class="xref page">Settings and Parameters</a> for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="index-advisor"><a class="anchor" href="#index-advisor"></a>Index Advisor is Generally Available</h4>
<div class="paragraph">
<p>The index advisor is generally available in Couchbase Server 7.0.
As well as the <a href="../n1ql/n1ql-language-reference/advise.html" class="xref page">ADVISE</a> statement, the index advisor also supports the <a href="../n1ql/n1ql-language-reference/advisor.html" class="xref page">ADVISOR Function</a> which enables users to generate index advice for every request in a session.</p>
</div>
<div class="paragraph">
<p>The index advisor leverages the cost-based optimizer in the first instance, to generate advice using a cost-based approach.
If the cost-based optimizer is unable to recommend an index, the index advisor falls back on a rules-based approach.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="whats-new-tools-700"><a class="anchor" href="#whats-new-tools-700"></a>The Backup Service</h3>
<div class="paragraph">
<p>The Backup Service supports the scheduling of full and incremental data backups, either for specific individual buckets, or for all buckets on the cluster.
It also allows the scheduling of <em>merges</em> of previously made backups.
Data to be backed up can also be selected by <em>service</em>: for example, the data for the <em>Data</em> and <em>Index</em> Services alone might be selected for backup, with no other service&#8217;s data included.</p>
</div>
<div class="paragraph">
<p>The service &#8212; which is also referred to as <em>backup</em> (Couchbase Backup Service) &#8212; can be configured and administered by means of the Couchbase Web Console UI, the CLI, or the REST API.</p>
</div>
<div class="paragraph">
<p>A complete overview of the Backup Service is provided in <a href="../learn/services-and-indexes/services/backup-service.html" class="xref page">Backup Service</a>.
Step-by-step instructions for using the service by means of Couchbase Web Console are provided in <a href="../manage/manage-backup-and-restore/manage-backup-and-restore.html" class="xref page">Manage Backup and Restore</a>.
A complete list of commands provided with the Couchbase REST API for the Backup Service is provided in <a href="../rest-api/backup-rest-api.html" class="xref page">Backup Service API</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="whats-new-metadata-700"><a class="anchor" href="#whats-new-metadata-700"></a>Metadata Management</h3>
<div class="paragraph">
<p>In Couchbase Server 7.0, metadata is managed by means of <em>Chronicle</em>; which is a <em>consensus-based</em> system, based on the <a href="https://raft.github.io/" target="_blank" rel="noopener">Raft</a> algorithm.
Chronicle manages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>node-list</em> for the cluster.</p>
</li>
<li>
<p>The <em>status</em> of each node.</p>
</li>
<li>
<p>The <em>service-map</em> for the cluster, which indicates on which nodes particular services have been installed.</p>
</li>
<li>
<p><em>Bucket definitions</em>, including the placement of scopes and collections.</p>
</li>
<li>
<p>The <em>vBucket maps</em> for the cluster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Chronicle is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Strongly consistent.</p>
</li>
<li>
<p>Supportive of full linearizability.</p>
</li>
<li>
<p>Fully tested with <a href="https://jepsen.io/" target="_blank" rel="noopener">Jepsen</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Due to the strong consistency with which topology-related metadata is now managed, in the event of a <em>quorum failure</em> (meaning, the unresponsiveness of at least half of the cluster&#8217;s nodes), no modification of nodes, buckets, scopes, and collections can take place until the quorum failure is resolved.</p>
</div>
<div class="paragraph">
<p>Note that optionally, the quorum failure can be resolved by means of <em>unsafe failover</em>.
However, that the consequences of unsafe failover in 7.0 are different from those in previous versions; and the new consequences should be fully understood before unsafe failover is attempted.</p>
</div>
<div class="paragraph">
<p>For a complete overview of how all metadata is managed by Couchbase Server, see <a href="../learn/clusters-and-availability/metadata-management.html" class="xref page">Metadata Management</a>.
For information on <em>unsafe failover</em> and its consequences, see <a href="../learn/clusters-and-availability/hard-failover.html#performing-an-unsafe-failover" class="xref page">Performing an Unsafe Failover</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="whats-new-other-700"><a class="anchor" href="#whats-new-other-700"></a>More Enhancements</h3>
<div class="sect3">
<h4 id="per-service-on-the-wire-security-settings"><a class="anchor" href="#per-service-on-the-wire-security-settings"></a>Per-Service On-the-Wire Security Settings</h4>
<div class="paragraph">
<p>Cluster-settings for on-the-wire security &#8212; including specifying TLS version and cipher-suite list &#8212; can now be set <em>per service</em>, as well as globally.
For information, see <a href="../learn/security/on-the-wire-security.html" class="xref page">On-the-Wire Security</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="consistent-meta-data"><a class="anchor" href="#consistent-meta-data"></a>Consistent Metadata</h4>
<div class="paragraph">
<p>In Couchbase Server 7.0+, metadata is managed by means of <em>Chronicle</em>; which is a <em>consensus-based</em> system, based on the <a href="https://raft.github.io/" target="_blank" rel="noopener">Raft</a> algorithm.
For information, see <a href="../learn/clusters-and-availability/metadata-management.html" class="xref page">Metadata Management</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="scalable-statistics"><a class="anchor" href="#scalable-statistics"></a>Scalable Statistics</h4>
<div class="paragraph">
<p>Scalable, Prometheus-based statistics for collections. For details, see <a href="../rest-api/rest-statistics.html" class="xref page">Getting Cluster Statistics</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="non-root-install"><a class="anchor" href="#non-root-install"></a>Non-Root Install and Upgrade</h4>
<div class="paragraph">
<p><em>Non-root install and upgrade</em> are now provided for all Linux platforms.
See <a href="../install/non-root.html" class="xref page">Non-Root Install and Upgrade</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-in-version-7-0-2"><a class="anchor" href="#new-in-version-7-0-2"></a>New in Version 7.0.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following new features and improvements have been added in version 7.0.2:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TLS can be specified as mandatory for all internal and external cluster-communications &#8212; see <a href="../manage/manage-security/manage-tls.html" class="xref page">Manage On-the-Wire Security</a>.</p>
</li>
<li>
<p>HSTS (HTTP Strict Transport Security) can now be enabled&#8201;&#8212;&#8201;see <a href="../rest-api/rest-setting-hsts.html" class="xref page">Configure HSTS</a>.</p>
</li>
<li>
<p>A cluster&#8217;s address family can be absolutely restricted to either IPv4 or IPv6 &#8212; see <a href="../manage/manage-nodes/manage-address-families.html" class="xref page">Manage Address Families</a>.</p>
</li>
<li>
<p>A node&#8217;s <em>alternate address</em> can now be used to identify a target cluster for XDCR &#8212; see <a href="../manage/manage-xdcr/create-xdcr-reference.html" class="xref page">Create a Reference</a>.</p>
</li>
<li>
<p>Standard index storage now supports indexes for both Couchbase buckets <em>and</em> Ephemeral buckets &#8212; see <a href="../learn/services-and-indexes/indexes/storage-modes.html" class="xref page">Storage Settings</a>.</p>
</li>
<li>
<p>The Eventing Service now supports a bucket-backed caching capability, to improve performance for repetitive Data Service lookups.</p>
</li>
<li>
<p>The Eventing Service now supports node-to-node encryption.
See <a href="../learn/clusters-and-availability/node-to-node-encryption.html" class="xref page">Node-to-Node Encryption</a>.</p>
</li>
<li>
<p>The Query Workbench now supports various charts (pie, diagram, scatter etc.) for displaying data. See <a href="../tools/query-workbench.html" class="xref page">Query Workbench</a>.</p>
</li>
<li>
<p>The Search Service introduces <em>rebalance based on file transfer</em>; whereby, during rebalance, new partitions are optionally created by means of file transfer, rather than partition build; thereby enhancing performance.
See the documentation provided for rebalancing the <a href="../learn/clusters-and-availability/rebalance.html#rebalancing-the-search-service" class="xref page">Search Service</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="whats-new-703"><a class="anchor" href="#whats-new-703"></a>New in Version 7.0.3</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Search Service has disk utilization improvements: in some cases, it uses up to 90% less disk space.
For the potential savings to take effect, the index will need to be rebuilt; or at least will need to ingest data for the segments to be merged and rebuilt on the disk.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2024 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
