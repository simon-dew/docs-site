<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>Query Service REST API | Couchbase Docs (Preview)</title>
<link rel="canonical" href="https://simon-dew.github.io/docs-site/DOC-11527/server/current/n1ql/n1ql-rest-api/index.html">
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-rest-api/index.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.4">
<link rel="icon" href="../../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://simon-dew.github.io/docs-site/DOC-11527/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://simon-dew.github.io/docs-site/DOC-11527/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/simon-dew/docs-server/edit/release/7.2/modules/n1ql/pages/n1ql-rest-api/index.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Reference</li>
<li class="crumb"><a href="../../rest-api/rest-intro.html">REST API Reference</a></li>
<li class="crumb"><a href="index.html">Query Service API</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Query Service REST API</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Query Service REST API is provided by the Query service.
This API enables you to run SQL++ queries and set request-level parameters.</p>
</div>
<div class="paragraph">
<p>The API schemes and host URLs are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://node:8093/" class="bare">http://node:8093/</a></code></p>
</li>
<li>
<p><code><a href="https://node:18093/" class="bare">https://node:18093/</a></code> (for secure access)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>node</code> is the host name or IP address of a node running the Query service.</p>
</div>
<div class="sect2">
<h3 id="version-information"><a class="anchor" href="#version-information"></a>Version information</h3>
<div class="paragraph">
<p><em>Version</em> : 7.2</p>
</div>
</div>
<div class="sect2">
<h3 id="consumes"><a class="anchor" href="#consumes"></a>Consumes</h3>
<div class="ulist">
<ul>
<li>
<p><code>application/x-www-form-urlencoded</code></p>
</li>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="produces"><a class="anchor" href="#produces"></a>Produces</h3>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_paths"><a class="anchor" href="#_paths"></a>Paths</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the operations available with this REST API.</p>
</div>
<div class="paragraph">
<p><strong>Table of Contents</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_post_service">Query Service</a></p>
</li>
<li>
<p><a href="#_get_service">Read-Only Query Service</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_post_service"><a class="anchor" href="#_post_service"></a>Query Service</h3>
<div class="literalblock">
<div class="content">
<pre>POST /query/service</pre>
</div>
</div>
<div class="sect3">
<h4 id="description"><a class="anchor" href="#description"></a>Description</h4>
<div class="paragraph">
<p>Enables you to execute a SQL++ statement. This method allows you to run queries and modifying statements, and specify query parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="parameters"><a class="anchor" href="#parameters"></a>Parameters</h4>
<div class="paragraph">
<p>For POST requests, you can specify form data parameters using the <code>application/x-www-form-urlencoded</code> MIME type.
Alternatively, you can specify parameters in the request body using the <code>application/json</code> MIME type with the <code>Content-Type</code> header.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Parameters</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An object specifying one or more query parameters.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_request_parameters">Request Parameters</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="responses"><a class="anchor" href="#responses"></a>Responses</h4>
<div class="paragraph">
<p>This section describes the response HTTP status codes.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The operation was successful.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_response_body">Response Body</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>400</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Bad Request. The request cannot be processed for one of the following reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The statement contains a SQL++ syntax error.</p>
</li>
<li>
<p>The request has a missing or unrecognized HTTP parameter.</p>
</li>
<li>
<p>The request is badly formatted (for example, the request body contains a JSON syntax error).</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized. The credentials provided with the request are missing or invalid.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>403</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Forbidden. There is a read-only violation. Either there was an attempt to create or update in a GET request or a POST request where <code>readonly</code> is set, or the client does not have the authorization to modify an object (index, keyspace or namespace) in the statement.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found. The statement in the request references an invalid namespace or keyspace.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>405</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Method not allowed. The statement in the request references an invalid namespace or keyspace.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>409</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Conflict. There is an attempt to create an object (keyspace or index) that already exists.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>410</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Gone. The server is shutting down gracefully. Previously made requests are being completed, but no new requests are being accepted.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>413</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Payload too large. The query is too large for the Query Service to process.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>500</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Internal server error. There was an unforeseen problem processing the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>503</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Service unavailable. There is an issue (that is possibly temporary) preventing the request being processed; the request queue is full or the data store is not accessible.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="security"><a class="anchor" href="#security"></a>Security</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>basic</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong><a href="#_header">Header</a></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>apiKey</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong><a href="#_parameter">Parameter</a></strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="example-http-request"><a class="anchor" href="#example-http-request"></a>Example HTTP request</h4>
<div id="example-1" class="exampleblock">
<div class="content">
<div class="paragraph">
<p>POST request with parameters as form data</p>
</div>
<div class="listingblock">
<div class="title">Curl request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -v http://localhost:8093/query/service \
     -d 'statement=SELECT name FROM `travel-sample`.inventory.hotel LIMIT 1' \
     -u Administrator:password</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because it is sent as form data, the statement in this example avoids using a semicolon.</p>
</div>
</div>
</div>
<div id="example-2" class="exampleblock">
<div class="content">
<div class="paragraph">
<p>POST request with parameters in JSON format</p>
</div>
<div class="listingblock">
<div class="title">Curl request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/query/service \
    -H 'Content-Type: application/json' \
    -d '{ "statement": "SELECT name FROM `travel-sample`.inventory.hotel LIMIT 1;" }' \
    -u Administrator:password</code></pre>
</div>
</div>
<div class="paragraph">
<p>Conversely, because it is sent as a JSON object, the statement in this example can contain a semicolon.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>For further examples, refer to <a href="examplesrest.html" class="xref page">Examples</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_service"><a class="anchor" href="#_get_service"></a>Read-Only Query Service</h3>
<div class="literalblock">
<div class="content">
<pre>GET /query/service</pre>
</div>
</div>
<div class="sect3">
<h4 id="description-2"><a class="anchor" href="#description-2"></a>Description</h4>
<div class="paragraph">
<p>Enables you to execute a SQL++ statement. This method allows you to run queries and modifying statements, and specify query parameters. It does not allow you to run modifying statements.</p>
</div>
<div class="paragraph">
<p>This endpoint is intended for situations where use of the <code>POST</code> method is restricted.</p>
</div>
</div>
<div class="sect3">
<h4 id="parameters-2"><a class="anchor" href="#parameters-2"></a>Parameters</h4>
<div class="paragraph">
<p>For GET requests, you specify the parameters in the query URL in URL-encoded format.
For URL-encoded parameters, the format is consistent with the syntax for variables according to the RFC 6570.</p>
</div>
<div class="paragraph">
<p>For a table of parameters that can be passed in a GET request to the <code>/query/service</code> endpoint, refer to <a href="#_request_parameters">Request Parameters</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="responses-2"><a class="anchor" href="#responses-2"></a>Responses</h4>
<div class="paragraph">
<p>This section describes the response HTTP status codes.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The operation was successful.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_response_body">Response Body</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>400</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Bad Request. The request cannot be processed for one of the following reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The statement contains a SQL++ syntax error.</p>
</li>
<li>
<p>The request has a missing or unrecognized HTTP parameter.</p>
</li>
<li>
<p>The request is badly formatted (for example, the request body contains a JSON syntax error).</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized. The credentials provided with the request are missing or invalid.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>403</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Forbidden. There is a read-only violation. Either there was an attempt to create or update in a GET request or a POST request where <code>readonly</code> is set, or the client does not have the authorization to modify an object (index, keyspace or namespace) in the statement.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found. The statement in the request references an invalid namespace or keyspace.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>405</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Method not allowed. The statement in the request references an invalid namespace or keyspace.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>409</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Conflict. There is an attempt to create an object (keyspace or index) that already exists.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>410</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Gone. The server is shutting down gracefully. Previously made requests are being completed, but no new requests are being accepted.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>413</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Payload too large. The query is too large for the Query Service to process.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>500</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Internal server error. There was an unforeseen problem processing the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>503</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Service unavailable. There is an issue (that is possibly temporary) preventing the request being processed; the request queue is full or the data store is not accessible.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="security-2"><a class="anchor" href="#security-2"></a>Security</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>basic</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong><a href="#_header">Header</a></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>apiKey</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong><a href="#_parameter">Parameter</a></strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="example-http-request-2"><a class="anchor" href="#example-http-request-2"></a>Example HTTP request</h4>
<div id="example-3" class="exampleblock">
<div class="content">
<div class="paragraph">
<p>GET request with query parameters</p>
</div>
<div class="listingblock">
<div class="title">Curl request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -v http://localhost:8093/query/service?statement=SELECT%20name%20FROM%20%60travel-sample%60.inventory.hotel%20LIMIT%201%3B \
     -u Administrator:password</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For further examples, refer to <a href="examplesrest.html" class="xref page">Examples</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_definitions"><a class="anchor" href="#_definitions"></a>Definitions</h2>
<div class="sectionbody">
<style type="text/css">
  /* No maximum width for table cells */
  .doc table.spread > tbody > tr > *,
  .doc table.stretch > tbody > tr > * {
    max-width: none !important;
  }

  /* Ignore fixed column widths */
  col{
    width: auto !important;
  }

  /* Do not hyphenate words in the table */
  td.tableblock p,
  p.tableblock{
    hyphens: manual !important;
  }

  /* Vertical alignment */
  td.tableblock{
    vertical-align: top !important;
  }

  /* Hide content of tags section */
  div.sect2 > h3#tags,
  div.sect2 > h3#tags ~ *{
    display: none;
</style>
<div class="paragraph">
<p>This section describes the properties consumed and returned by this REST API.</p>
</div>
<div class="paragraph">
<p><strong>Table of Contents</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_request_parameters">Request Parameters</a></p>
</li>
<li>
<p><a href="#_response_body">Response Body</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_request_parameters"><a class="anchor" href="#_request_parameters"></a>Request Parameters</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>args</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="args" class="paragraph">
<p>Applicable if the statement has 1 or more positional parameters.</p>
</div>
<div class="paragraph">
<p>An array of JSON values, one for each positional parameter in the statement.</p>
</div>
<div class="paragraph">
<p>Note that positional parameters apply to <code>prepared</code> also.</p>
</div>
<div class="paragraph">
<p>Refer to <a href="examplesrest.html" class="xref page">Examples</a> for details.<br>
<strong>Example</strong> : <code>[ "LAX", 6 ]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; object &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>atrcollection</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="atrcollection_req" class="paragraph">
<p>Specifies the collection where the <a href="../../learn/data/transactions.html#active-transaction-record-entries" class="xref page">active transaction record</a> (ATR) is stored.
The collection must be present.
If not specified, the ATR is stored in the default collection in the default scope in the bucket containing the first mutated document within the transaction.</p>
</div>
<div class="paragraph">
<p>The value must be a string in the form <code>"bucket.scope.collection"</code> or <code>"namespace:bucket.scope.collection"</code>.
If any part of the path contains a special character, that part of the path must be delimited in backticks <code>&grave;&grave;</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#atrcollection-srv" class="xref page">node-level</a> <code>atrcollection</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.<br>
<strong>Example</strong> : <code>"default:&grave;travel-sample&grave;.transaction.test"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>auto_execute</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="auto_execute" class="paragraph">
<p>Specifies that prepared statements should be executed automatically as soon as they are created.
This saves you from having to make two separate requests in cases where you want to prepare a statement and execute it immediately.</p>
</div>
<div class="paragraph">
<p>Refer to <a href="../n1ql-language-reference/prepare.html#auto-execute" class="xref page">Auto-Execute</a> for more information.<br>
<strong>Default</strong> : <code>false</code><br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>client_context_id</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="client_context_id" class="paragraph">
<p>A piece of data supplied by the client that is echoed in the response, if present.
SQL++ is agnostic about the content of this parameter; it is just echoed in the response.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maximum allowed size is 64 characters; all others will be cut.</p>
</li>
<li>
<p>If it contains an escape character <code>/</code> or quote <code>"</code>, it will be rejected as error code 1110.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>compression</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="compression" class="paragraph">
<p>Compression format to use for response data on the wire.</p>
</div>
<div class="paragraph">
<p>Values are case-insensitive.<br>
<strong>Default</strong> : <code>"NONE"</code><br>
<strong>Example</strong> : <code>"zip"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (ZIP, RLE, LZMA, LZO, NONE)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>controls</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="controls_req" class="paragraph">
<p>Specifies if there should be a controls section returned with the request results.</p>
</div>
<div class="paragraph">
<p>When set to <code>true</code>, the query response document includes a controls section with runtime information provided along with the request, such as positional and named parameters or settings.</p>
</div>
<div class="paragraph">
<p>If the request qualifies for caching, these values will also be cached in the <code>completed_requests</code> system keyspace.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#controls-srv" class="xref page">node-level</a> <code>controls</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.<br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>creds</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="creds" class="paragraph">
<p>Specifies the login credentials.
The Query API supports two types of identity: local (or bucket) and admin.</p>
</div>
<div class="paragraph">
<p>The format is an identity and password.
You can specify credentials for multiple identities.</p>
</div>
<div class="paragraph">
<p>If credentials are supplied in the request header, then HTTP Basic Authentication takes precedence and <code>creds</code> is ignored.<br>
<strong>Example</strong> : <code>[ {
  "user" : "local:bucket-name",
  "pass" : "password"
}, {
  "user" : "admin:admin-name",
  "pass" : "password"
} ]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_credentials">Credentials</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>durability_level</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="durability_level" class="paragraph">
<p>The level of <a href="../../learn/data/durability.html" class="xref page">durability</a> for mutations produced by the request.</p>
</div>
<div class="paragraph">
<p>If the request contains a <code>BEGIN TRANSACTION</code> statement, or a DML statement with the <a href="#tximplicit">tximplicit</a> parameter set to <code>true</code>, the durability level is specified for all mutations within that transaction.</p>
</div>
<div class="paragraph">
<p>Durability is also supported for non-transactional DML statements.
In this case, the <code>kvtimeout</code> parameter is used as the durability timeout.</p>
</div>
<div class="paragraph">
<p>If not specified, the default durability level is <code>"majority"</code>.
Set the durability level to <code>"none"</code> or <code>""</code> to specify no durability.<br>
<strong>Default</strong> : <code>"majority"</code><br>
<strong>Example</strong> : <code>"none"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum ("", none, majority, majorityAndPersistActive, persistToMajority)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>encoded_plan</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="encoded_plan" class="paragraph">
<p>In Couchbase Server 6.5 and later, this parameter is ignored and has no effect.
It is included for compatibility with previous versions of Couchbase Server.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>encoding</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="encoding" class="paragraph">
<p>Desired character encoding for the query results.</p>
</div>
<div class="paragraph">
<p>Only possible value is <code>UTF-8</code> and is case-insensitive.<br>
<strong>Default</strong> : <code>"UTF-8"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>format</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="format" class="paragraph">
<p>Desired format for the query results.</p>
</div>
<div class="paragraph">
<p>Values are case-insensitive.<br>
<strong>Default</strong> : <code>"JSON"</code><br>
<strong>Example</strong> : <code>"XML"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (JSON, XML, CSV, TSV)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>kvtimeout</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="kvtimeout" class="paragraph">
<p>The maximum time to wait for a KV operation before timing out.
Only applies to statements within a transaction, or to non-transactional statements when the <code>durability_level</code> is set.</p>
</div>
<div class="paragraph">
<p>The value for this parameter is a string.
Its format includes an amount and a mandatory unit, e.g. <code>10ms</code> (10 milliseconds) or <code>0.5s</code> (half a second).
Valid units are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ns</code> (nanoseconds)</p>
</li>
<li>
<p><code>us</code> (microseconds)</p>
</li>
<li>
<p><code>ms</code> (milliseconds)</p>
</li>
<li>
<p><code>s</code> (seconds)</p>
</li>
<li>
<p><code>m</code> (minutes)</p>
</li>
<li>
<p><code>h</code> (hours)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specify a duration of <code>0</code> or a negative duration to disable.
When disabled, no timeout is applied and the KV operation runs for however long it takes.<br>
<strong>Default</strong> : <code>"2.5s"</code><br>
<strong>Example</strong> : <code>"10ms"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>max_parallelism</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="max_parallelism_req" class="paragraph">
<p>Specifies the maximum parallelism for the query.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#max-parallelism-srv" class="xref page">node-level</a> <code>max-parallelism</code> setting specifies the ceiling for this parameter for a single node.
If the request-level parameter is zero or negative, the parallelism for the query is set to the node-level setting.
If the request-level parameter is greater than zero and less than the node-level setting, the request-level parameter overrides the node-level setting.
If the request-level parameter is greater than the node-level setting, the parallelism for the query is set to the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryMaxParallelism" class="xref page">cluster-level</a> <code>queryMaxParallelism</code> setting specifies the ceiling for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.</p>
</div>
<div class="paragraph">
<p>To enable queries to run in parallel, you must specify the cluster-level <code>queryMaxParallelism</code> parameter, or specify the node-level <code>max-parallelism</code> parameter on all Query nodes.</p>
</div>
<div class="paragraph">
<p>The default value is the same as the number of partitions of the index selected for the query.<br>
<strong>Example</strong> : <code>3</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>memory_quota</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="memory_quota_req" class="paragraph">
<p>Specifies the maximum amount of memory the request may use, in MB.</p>
</div>
<div class="paragraph">
<p>Specify <code>0</code> (the default value) to disable.
When disabled, there is no quota.</p>
</div>
<div class="paragraph">
<p>This parameter enforces a ceiling on the memory used for the tracked documents required for
processing a request. It does not take into account any other memory that might be used to
process a request, such as the stack, the operators, or some intermediate values.</p>
</div>
<div class="paragraph">
<p>Within a transaction, this setting enforces the memory quota for the transaction by tracking the
delta table and the transaction log (approximately).</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#memory-quota-srv" class="xref page">node-level</a> <code>memory-quota</code> setting specifies the ceiling for this parameter for a single node.
If the node-level setting is zero (the default), the request-level parameter overrides the node-level setting.
If the node-level setting is greater than zero, the request-level parameter is capped by the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryMemoryQuota" class="xref page">cluster-level</a> <code>queryMemoryQuota</code> setting specifies the ceiling for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Default</strong> : <code>0</code><br>
<strong>Example</strong> : <code>4</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>metrics</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="metrics" class="paragraph">
<p>Specifies that metrics should be returned with query results.<br>
<strong>Default</strong> : <code>true</code><br>
<strong>Example</strong> : <code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a id="namespace"></a> Specifies the namespace to use. Currently, only the <code>default</code> namespace is available.<br>
<strong>Example</strong> : <code>"default"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>numatrs</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="numatrs_req" class="paragraph">
<p>Specifies the total number of <a href="../../learn/data/transactions.html#active-transaction-record-entries" class="xref page">active transaction records</a>.
Must be a positive integer.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#numatrs-srv" class="xref page">node-level</a> <code>numatrs</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryNumAtrs" class="xref page">cluster-level</a> <code>queryNumAtrs</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Default</strong> : <code>1024</code><br>
<strong>Example</strong> : <code>512</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>pipeline_batch</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="pipeline_batch_req" class="paragraph">
<p>Controls the number of items execution operators can batch for Fetch from the KV.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#pipeline-batch-srv" class="xref page">node-level</a> <code>pipeline-batch</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting, but only if it is lower than the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryPipelineBatch" class="xref page">cluster-level</a> <code>queryPipelineBatch</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Example</strong> : <code>64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>pipeline_cap</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="pipeline_cap_req" class="paragraph">
<p>Maximum number of items each execution operator can buffer between various operators.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#pipeline-cap-srv" class="xref page">node-level</a> <code>pipeline-cap</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting, but only if it is lower than the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryPipelineCap" class="xref page">cluster-level</a> <code>queryPipelineCap</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Example</strong> : <code>1024</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>prepared</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="prepared" class="paragraph">
<p><em>Required</em> if <code>statement</code> not provided.</p>
</div>
<div class="paragraph">
<p>The name of the prepared SQL++ statement to be executed.
Refer to <a href="../n1ql-language-reference/execute.html" class="xref page">EXECUTE</a> for examples.</p>
</div>
<div class="paragraph">
<p>If both <code>prepared</code> and <code>statement</code> are present and non-empty, an error is returned.<br>
<strong>Example</strong> : <code>"[127.0.0.1:8091]pricy_hotel"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>preserve_expiry</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="preserve_expiry" class="paragraph">
<p>Specifies whether documents should keep their current expiration setting when modified by a DML statement.</p>
</div>
<div class="paragraph">
<p>If <code>true</code>, documents will keep any existing expiration setting when modified by a DML statement.
If the DML statement explicitly specifies the document expiration, the statement overrides this parameter, and the expiration is changed.</p>
</div>
<div class="paragraph">
<p>If <code>false</code>, document expiration is set to 0 when modified by a DML statement, unless the DML statement explicitly specifies the document expiration.</p>
</div>
<div class="paragraph">
<p>Not supported for statements in a transaction.<br>
<strong>Default</strong> : <code>false</code><br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>pretty</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="pretty_req" class="paragraph">
<p>Specifies the query results returned in pretty format.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#pretty-srv" class="xref page">node-level</a> <code>pretty</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.<br>
<strong>Example</strong> : <code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>profile</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="profile_req" class="paragraph">
<p>Specifies if there should be a profile section returned with the request results.
The valid values are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>off</code></dt>
<dd>
<p>No profiling information is added to the query response.</p>
</dd>
<dt class="hdlist1"><code>phases</code></dt>
<dd>
<p>The query response includes a profile section with stats and details about various phases of the query plan and execution.
Three phase times will be included in the <code>system:active_requests</code> and <code>system:completed_requests</code> monitoring keyspaces.</p>
</dd>
<dt class="hdlist1"><code>timings</code></dt>
<dd>
<p>Besides the phase times, the profile section of the query response document will include a full query plan with timing and information about the number of processed documents at each phase.
This information will be included in the <code>system:active_requests</code> and <code>system:completed_requests</code> keyspaces.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If <code>profile</code> is not set as one of the above values, then the profile setting does not change.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#profile-srv" class="xref page">node-level</a> <code>profile</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.<br>
<strong>Example</strong> : <code>"phases"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (off, phases, timings)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>query_context</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="query_context" class="paragraph">
<p>Specifies the namespace, bucket, and scope used to resolve partial keyspace references within the request.</p>
</div>
<div class="paragraph">
<p>The query context may be a <em>full path</em>, containing namespace, bucket, and scope; or a <em>relative path</em>, containing just the bucket and scope.
Currently, only the <code>default</code> namespace is available.
If the namespace name is omitted, the default namespace in the current session is used.<br>
<strong>Default</strong> : <code>"default:"</code><br>
<strong>Example</strong> : <code>"default:travel-sample.inventory"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>readonly</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="readonly" class="paragraph">
<p>Controls whether a query can change a resulting recordset.</p>
</div>
<div class="paragraph">
<p>If <code>readonly</code> is <code>true</code>, then the following statements are not allowed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CREATE INDEX</p>
</li>
<li>
<p>DROP INDEX</p>
</li>
<li>
<p>INSERT</p>
</li>
<li>
<p>MERGE</p>
</li>
<li>
<p>UPDATE</p>
</li>
<li>
<p>UPSERT</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using GET requests, it&#8217;s best to set <code>readonly</code> to <code>true</code>.<br>
<strong>Default</strong> : <code>false</code><br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>scan_cap</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="scan_cap_req" class="paragraph">
<p>Maximum buffered channel size between the indexer client and the query service for index scans.
This parameter controls when to use scan backfill.</p>
</div>
<div class="paragraph">
<p>Use <code>0</code> or a negative number to disable.
Smaller values reduce GC, while larger values reduce indexer backfill.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#scan-cap-srv" class="xref page">node-level</a> <code>scan-cap</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting, but only if it is lower than the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryScanCap" class="xref page">cluster-level</a> <code>queryScanCap</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Example</strong> : <code>1024</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>scan_consistency</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="scan_consistency" class="paragraph">
<p>Specifies the consistency guarantee or constraint for index scanning.
The valid values are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>not_bounded</code></dt>
<dd>
<p>No timestamp vector is used in the index scan.
This is the fastest mode, because it avoids the costs of obtaining the vector and waiting for the index to catch up to the vector.</p>
</dd>
<dt class="hdlist1"><code>at_plus</code></dt>
<dd>
<p>This implements bounded consistency.
The request includes a <code>scan_vector</code> parameter and value, which is used as a lower bound.
This can be used to implement read-your-own-writes (RYOW).</p>
</dd>
<dt class="hdlist1"><code>request_plus</code></dt>
<dd>
<p>This implements strong consistency per request.
Before processing the request, a current vector is obtained.
The vector is used as a lower bound for the statements in the request.
If there are DML statements in the request, RYOW is also applied within the request.</p>
<div class="paragraph">
<p>If <code>request_plus</code> is specified in a query that runs during a failover of an index node, the query waits until the rebalance operation completes and the index data has rebalanced before returning a result.</p>
</div>
</dd>
<dt class="hdlist1"><code>statement_plus</code></dt>
<dd>
<p>This implements strong consistency per statement.
Before processing each statement, a current vector is obtained and used as a lower bound for that statement.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Values are case-insensitive.</p>
</div>
<div class="paragraph">
<p>For multi-statement requests, the default behavior is RYOW within each request.
If you want to disable RYOW within a request, add a separate <code>request_consistency</code> parameter that can be set to <code>not_bounded</code>.</p>
</div>
<div class="paragraph">
<p>If the request contains a <code>BEGIN TRANSACTION</code> statement, or a DML statement with the <a href="#tximplicit">tximplicit</a> parameter set to <code>true</code>, then this parameter sets the transactional scan consistency.
Refer to <a href="../../settings/query-settings.html#transactional-scan-consistency" class="xref page">Transactional Scan Consistency</a> for details.<br>
<strong>Default</strong> : <code>"not_bounded"</code><br>
<strong>Example</strong> : <code>"at_plus"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (not_bounded, at_plus, request_plus, statement_plus)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>scan_vector</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="scan_vector" class="paragraph">
<p><em>Required</em> if <code>scan_consistency</code> is <code>at_plus</code> and <code>scan_vectors</code> not provided.</p>
</div>
<div class="paragraph">
<p>Specify the lower bound vector timestamp for one keyspace when using <code>at_plus</code> scan consistency.</p>
</div>
<div class="paragraph">
<p>Scan vectors are built of two-element [<code class="var">value</code>, <code class="var">guard</code>] entries:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="var">value</code>: a vBucket&#8217;s sequence number (a JSON number)</p>
</li>
<li>
<p><code class="var">guard</code>: a vBucket&#8217;s UUID (a string)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Scan vectors have two forms:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Full scan vector</strong>: an array of [<code class="var">value</code>, <code class="var">guard</code>] entries, giving an entry for every vBucket in the system.</p>
</li>
<li>
<p><strong>Sparse scan vectors</strong>: an object providing entries for specific vBuckets, mapping a vBucket number (a string) to each [<code class="var">value</code>, <code class="var">guard</code>] entry.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note that <code>scan_vector</code> can only be used if the query uses at most one keyspace; if it is used for a query referencing more than one keyspace, the query will fail with an error.</p>
</div>
<div class="paragraph">
<p>For queries referencing multiple keyspaces, use <code>scan_vectors</code>.<br>
<strong>Example</strong> : <code>{
  "5" : [ 5409393, "VB5ID" ],
  "19" : [ 47574574, "VB19ID" ]
}</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>scan_vectors</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="scan_vectors" class="paragraph">
<p><em>Required</em> if <code>scan_consistency</code> is <code>at_plus</code> and <code>scan_vector</code> not provided.</p>
</div>
<div class="paragraph">
<p>A map from keyspace names to scan vectors.
See <code>scan_vector</code>.</p>
</div>
<div class="paragraph">
<p>The scan vectors can be Full or Sparse.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>scan_wait</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="scan_wait" class="paragraph">
<p>Can be supplied with <code>scan_consistency</code> values of <code>request_plus</code>, <code>statement_plus</code> and <code>at_plus</code>.</p>
</div>
<div class="paragraph">
<p>Specifies the maximum time the client is willing to wait for an index to catch up to the vector timestamp in the request.</p>
</div>
<div class="paragraph">
<p>Specifies how much time the client is willing to wait for the indexer to satisfy the required <code>scan_consistency</code> and <code>scan_vector</code> criteria.
After receiving the scan request, if the indexer is unable to catch up within the <code>scan_wait</code> time and initiate the scan, the indexer aborts with an error and the scan fails.</p>
</div>
<div class="paragraph">
<p>Its format includes an amount and a mandatory unit, e.g. <code>10ms</code> (10 milliseconds) or <code>0.5s</code> (half a second).
Valid units are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ns</code> (nanoseconds)</p>
</li>
<li>
<p><code>us</code> (microseconds)</p>
</li>
<li>
<p><code>ms</code> (milliseconds)</p>
</li>
<li>
<p><code>s</code> (seconds)</p>
</li>
<li>
<p><code>m</code> (minutes)</p>
</li>
<li>
<p><code>h</code> (hours)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specify <code>0</code> or a negative integer to disable.<br>
<strong>Default</strong> : <code>""</code><br>
<strong>Example</strong> : <code>"30m"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string (duration)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>signature</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="signature" class="paragraph">
<p>Include a header for the results schema in the response.<br>
<strong>Default</strong> : <code>true</code><br>
<strong>Example</strong> : <code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>statement</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="statement" class="paragraph">
<p><em>Required</em> if <code>prepared</code> not provided.</p>
</div>
<div class="paragraph">
<p>Any valid SQL++ statement for a POST request, or a read-only SQL++ statement (SELECT, EXPLAIN) for a GET request.</p>
</div>
<div class="paragraph">
<p>If both <code>prepared</code> and <code>statement</code> are present and non-empty, an error is returned.</p>
</div>
<hr>
<div class="paragraph">
<p>When specifying the request parameters as form data, the statement may not contain an unescaped semicolon (<code>;</code>).
If it does, the Query Service responds with error 1040.
To avoid this, either URL-encode the semicolon as <code>%3B</code>, or just omit the semicolon if possible.</p>
</div>
<div class="paragraph">
<p>This restriction does not apply when specifying the request parameters in JSON format.<br>
<strong>Example</strong> : <code>"SELECT * FROM &grave;travel-sample&grave;.inventory.hotel LIMIT 1"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>timeout</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="timeout_req" class="paragraph">
<p>Maximum time to spend on the request before timing out.</p>
</div>
<div class="paragraph">
<p>The value for this parameter is a string.
Its format includes an amount and a mandatory unit, e.g. <code>10ms</code> (10 milliseconds) or <code>0.5s</code> (half a second).
Valid units are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ns</code> (nanoseconds)</p>
</li>
<li>
<p><code>us</code> (microseconds)</p>
</li>
<li>
<p><code>ms</code> (milliseconds)</p>
</li>
<li>
<p><code>s</code> (seconds)</p>
</li>
<li>
<p><code>m</code> (minutes)</p>
</li>
<li>
<p><code>h</code> (hours)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specify a duration of <code>0</code> or a negative duration to disable.
When disabled, no timeout is applied and the request runs for however long it takes.</p>
</div>
<div class="paragraph">
<p>If <a href="#txid">txid</a> or <a href="#tximplicit">tximplicit</a> is set, this parameter is ignored.
The request inherits the remaining time of the transaction as timeout.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#timeout-srv" class="xref page">node-level</a> <code>timeout</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.
However, if the node-level setting is greater than 0, the timeout for the query is limited to the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryTimeout" class="xref page">cluster-level</a> <code>queryTimeout</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Example</strong> : <code>"30m"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string (duration)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>txdata</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="txdata" class="paragraph">
<p>Transaction data.
For internal use only.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>txid</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="txid" class="paragraph">
<p><em>Required</em> for statements within a transaction.</p>
</div>
<div class="paragraph">
<p>Transaction ID.
Specifies the transaction to which a statement belongs.
For use with DML statements within a transaction, rollbacks, and commits.</p>
</div>
<div class="paragraph">
<p>The transaction ID should be the same as the transaction ID generated by the <code>BEGIN TRANSACTION</code> statement.
The transaction must be active and non-expired.<br>
<strong>Example</strong> : <code>"d81d9b4a-b758-4f98-b007-87ba262d3a51"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string (UUID)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>tximplicit</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="tximplicit" class="paragraph">
<p>Specifies that a DML statement is a singleton transaction.</p>
</div>
<div class="paragraph">
<p>When this parameter is true, the Query service starts a transaction and executes the statement.
If execution is successful, the Query service commits the transaction; otherwise the transaction is rolled back.</p>
</div>
<div class="paragraph">
<p>The statement may not be part of an ongoing transaction.
If the <a href="#txid">txid</a> request-level parameter is set, the <code>tximplicit</code> parameter is ignored.<br>
<strong>Default</strong> : <code>false</code><br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>txstmtnum</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="txstmtnum" class="paragraph">
<p>Transaction statement number.
The transaction statement number must be a positive integer, and must be higher than any previous transaction statement numbers in the transaction.
If the transaction statement number is lower than the transaction statement number for any previous statement, an error is generated.<br>
<strong>Example</strong> : <code>10</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>txtimeout</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="txtimeout_req" class="paragraph">
<p>Maximum time to spend on a transaction before timing out.
Only applies to <code>BEGIN TRANSACTION</code> statements, or DML statements for which <a href="#tximplicit">tximplicit</a> is set.
For other statements, it is ignored.</p>
</div>
<div class="paragraph">
<p>Within a transaction, the request-level <a href="#timeout_req">timeout</a> parameter is ignored.
The transaction timeout clock starts when the <code>BEGIN WORK</code> statement is successful.
Once the transaction timeout is reached, no statement is allowed to continue in the transaction.</p>
</div>
<div class="paragraph">
<p>The value for this parameter is a string.
Its format includes an amount and a mandatory unit, e.g. <code>10ms</code> (10 milliseconds) or <code>0.5s</code> (half a second).
Valid units are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ns</code> (nanoseconds)</p>
</li>
<li>
<p><code>us</code> (microseconds)</p>
</li>
<li>
<p><code>ms</code> (milliseconds)</p>
</li>
<li>
<p><code>s</code> (seconds)</p>
</li>
<li>
<p><code>m</code> (minutes)</p>
</li>
<li>
<p><code>h</code> (hours)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specify a duration of <code>0</code> to disable.
When disabled, the request-level timeout is set to the default.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#txtimeout-srv" class="xref page">node-level</a> <code>txtimeout</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.
However, if the node-level setting is greater than 0, the transaction timeout for the query is limited to the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryTxTimeout" class="xref page">cluster-level</a> <code>queryTxTimeout</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.</p>
</div>
<div class="paragraph">
<p>The default is <code>"15s"</code> for cbq files or scripts, <code>"2m"</code> for interactive cbq sessions or redirected input.<br>
<strong>Example</strong> : <code>"30m"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string (duration)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>use_cbo</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="use_cbo_req" class="paragraph">
<p>Specifies whether the cost-based optimizer is enabled.</p>
</div>
<div class="paragraph">
<p>The <a href="admin.html#use-cbo-srv" class="xref page">node-level</a> <code>use-cbo</code> setting specifies the default for this parameter for a single node.
The request-level parameter overrides the node-level setting.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../rest-api/rest-cluster-query-settings.html#queryUseCBO" class="xref page">cluster-level</a> <code>queryUseCBO</code> setting specifies the default for this parameter for the whole cluster.
When you change the cluster-level setting, the node-level setting is overwritten for all nodes in the cluster.<br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>use_fts</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="use_fts" class="paragraph">
<p><span class="edition"><a href="https://www.couchbase.com/products/editions">ENTERPRISE EDITION</a></span></p>
</div>
<div class="paragraph">
<p>Specifies that the query should use a full-text index.</p>
</div>
<div class="paragraph">
<p>If the query contains a <code>USING FTS</code> hint, that takes priority over this parameter.</p>
</div>
<div class="paragraph">
<p>If the query does not contain a <code>USING FTS</code> hint, and this parameter is set to true, all full-text indexes are considered for the query.
If a qualified full-text index is available, it is selected for the query.
If none of the available full-text indexes are qualified, the available GSI indexes are considered instead.</p>
</div>
<div class="paragraph">
<p>Refer to <a href="../n1ql-language-reference/flex-indexes.html" class="xref page">Flex Indexes</a> for more information.<br>
<strong>Default</strong> : <code>false</code><br>
<strong>Example</strong> : <code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>$&lt;identifier&gt;</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div id="identifier" class="paragraph">
<p>Applicable if the <code>statement</code> has 1 or more named parameters.</p>
</div>
<div class="paragraph">
<p>The name of a named parameter consists of two parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The $ character</p>
</li>
<li>
<p>An identifier that starts with an alpha character followed by one or more alphanumeric characters.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The value of the named parameter is any JSON value.</p>
</div>
<div class="paragraph">
<p>Named parameters apply to <code>prepared</code> also.</p>
</div>
<div class="paragraph">
<p>Refer to <a href="examplesrest.html" class="xref page">Examples</a> for details.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string (any JSON value)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_credentials"><a class="anchor" href="#_credentials"></a>Credentials</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>user</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An identity for authentication. Note that bucket names may be prefixed with <code>local:</code>, and admin names may be prefixed with <code>admin:</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>pass</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A password for authentication.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_response_body"><a class="anchor" href="#_response_body"></a>Response Body</h3>
<div class="paragraph">
<p>The response body has the following structure.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>requestID</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A unique identifier for the response.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string (UUID)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>clientContextID</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The client context ID of the request, if one was supplied &mdash; see <code>client_context_id</code> in <a href="#_request_parameters">Request Parameters</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>signature</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The schema of the results. Present only when the query completes successfully.<br>
<strong>Example</strong> : <code>{
  "id" : "json"
}</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>results</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An array of all the objects returned by the query. An object can be any JSON value.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; object &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>status</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The status of the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (success, running, errors, completed, stopped, timeout, fatal)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>errors</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An array of 0 or more error objects. If an error occurred during processing of the request, it will be represented by an error object in this list.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_conditions">Conditions</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>warnings</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An array of 0 or more warning objects. If a warning occurred during processing of the request, it is represented by a warning object in this list.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_conditions">Conditions</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>metrics</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An object containing metrics about the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_metrics">Metrics</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>controls</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>An object containing runtime information provided along with the request. Present only if <code>controls</code> was set to true in the <a href="#_request_parameters">Request Parameters</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_controls">Controls</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_conditions"><a class="anchor" href="#_conditions"></a>Conditions</h3>
<div class="paragraph">
<p>Errors and warnings have the following format.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>code</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A unique number that identifies the error or warning. The code ranges are partitioned by component. The codes can also include parts that indicate severity and transience. This property is always present in every condition returned in the Query REST API or captured in a log.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>msg</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A message describing the error or warning in detail. This property is always present in every condition returned in the Query REST API or captured in a log.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unique name that has a 1:1 mapping to the code. Uniquely identifies the condition. This property is helpful for pattern matching and can have meaning, making it more memorable than the code. The name should be fully qualified.<br>
<strong>Example</strong> : <code>"indexing.scan.io_failure"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>sev</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>One of the following SQL++ severity levels, listed in order of severity:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Severe</p>
</li>
<li>
<p>Error</p>
</li>
<li>
<p>Warn</p>
</li>
<li>
<p>Info</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>temp</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Indicates if the condition is transient &mdash; for example, the queue is full. If the value is <code>false</code>, it tells clients and users that a retry without modification produces the same condition.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additional elements not listed here might also be present.
Clients and consumers of the REST API or the logs must accommodate any additional elements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_metrics"><a class="anchor" href="#_metrics"></a>Metrics</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>elapsedTime</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The total time taken for the request, that is the time from when the request was received until the results were returned.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>executionTime</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The time taken for the execution of the request, that is the time from when query execution started until the results were returned.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>resultCount</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The total number of objects in the results.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>resultSize</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The total number of bytes in the results.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>mutationCount</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The number of mutations that were made during the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>sortCount</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The number of objects that were sorted. Present only if the request includes <code>ORDER BY</code>.</p>
</div>
<div class="paragraph">
<p>If a query includes ORDER BY, LIMIT, or OFFSET clauses, an application can use the <code>sortCount</code> value to give the overall number of results in a message such as <code>"page 1 of N"</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>usedMemory</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The amount of document memory used to execute the request. This property is only returned if a memory quota was set for the query.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>errorCount</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The number of errors that occurred during the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>warningCount</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The number of warnings that occurred during the request.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additional elements not listed here might also be present.
Clients and consumers of the REST API or the logs must accommodate any additional elements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_controls"><a class="anchor" href="#_controls"></a>Controls</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>scan_consistency</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The value of the query setting Scan Consistency used for the query.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>use_cbo</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Whether the cost-based optimizer was enabled for the query.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>memoryQuota</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The memory quota for the request, in MB. This property is only returned if a memory quota was set for the query.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (unsigned)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>stmtType</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The type of query statement.<br>
<strong>Example</strong> : <code>"SELECT"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additional elements not listed here might also be present.
Clients and consumers of the REST API or the logs must accommodate any additional elements.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_securityscheme"><a class="anchor" href="#_securityscheme"></a>Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Query Service API accepts credentials via HTTP basic authentication header, or via the <code>creds</code> request parameter.
If a request contains both HTTP basic authentication header and a <code>creds</code> parameter, the <code>creds</code> parameter is ignored and only the HTTP basic authentication header is used for authenticating.</p>
</div>
<div class="sect2">
<h3 id="_header"><a class="anchor" href="#_header"></a>Header</h3>
<div class="paragraph">
<p>Specify a user name and password via HTTP headers.
This method can only be used to provide a single credential.</p>
</div>
<div class="paragraph">
<p><em>Type</em> : basic</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameter"><a class="anchor" href="#_parameter"></a>Parameter</h3>
<div class="paragraph">
<p>Specify user names and passwords via the <code>creds</code> request parameter. This is the only method that can provide multiple credentials for a request.</p>
</div>
<div class="paragraph">
<p><em>Type</em> : apiKey<br>
<em>Name</em> : creds<br>
<em>In</em> : QUERY</p>
</div>
</div>
<div class="sect2">
<h3 id="rbac-role"><a class="anchor" href="#rbac-role"></a>RBAC Role</h3>
<div class="paragraph">
<p>Users must have the relevant <em>Administrative</em> or <em>Query &amp; Index</em> RBAC roles, depending on the types of query they intend to run.
In addition, users must have permissions on the required buckets, scopes, and collections, where appropriate.
Refer to <a href="../../learn/security/roles.html" class="xref page">Roles</a> for more details.</p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
